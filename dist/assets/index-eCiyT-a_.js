(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function YN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eg={exports:{}},Lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function QN(){if(K_)return Lc;K_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Lc.Fragment=e,Lc.jsx=n,Lc.jsxs=n,Lc}var Y_;function XN(){return Y_||(Y_=1,eg.exports=QN()),eg.exports}var y=XN(),tg={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function WN(){if(Q_)return Oe;Q_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,k={};function U(z,te,ce){this.props=z,this.context=te,this.refs=k,this.updater=ce||I}U.prototype.isReactComponent={},U.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},U.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function q(){}q.prototype=U.prototype;function F(z,te,ce){this.props=z,this.context=te,this.refs=k,this.updater=ce||I}var ee=F.prototype=new q;ee.constructor=F,V(ee,U.prototype),ee.isPureReactComponent=!0;var Y=Array.isArray;function le(){}var D={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function A(z,te,ce){var ue=ce.ref;return{$$typeof:t,type:z,key:te,ref:ue!==void 0?ue:null,props:ce}}function j(z,te){return A(z.type,te,z.props)}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function P(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return te[ce]})}var M=/\/+/g;function Se(z,te){return typeof z=="object"&&z!==null&&z.key!=null?P(""+z.key):te.toString(36)}function Le(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(le,le):(z.status="pending",z.then(function(te){z.status==="pending"&&(z.status="fulfilled",z.value=te)},function(te){z.status==="pending"&&(z.status="rejected",z.reason=te)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function X(z,te,ce,ue,we){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var xe=!1;if(z===null)xe=!0;else switch(Ce){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(z.$$typeof){case t:case e:xe=!0;break;case v:return xe=z._init,X(xe(z._payload),te,ce,ue,we)}}if(xe)return we=we(z),xe=ue===""?"."+Se(z,0):ue,Y(we)?(ce="",xe!=null&&(ce=xe.replace(M,"$&/")+"/"),X(we,te,ce,"",function(En){return En})):we!=null&&(N(we)&&(we=j(we,ce+(we.key==null||z&&z.key===we.key?"":(""+we.key).replace(M,"$&/")+"/")+xe)),te.push(we)),1;xe=0;var bt=ue===""?".":ue+":";if(Y(z))for(var tt=0;tt<z.length;tt++)ue=z[tt],Ce=bt+Se(ue,tt),xe+=X(ue,te,ce,Ce,we);else if(tt=S(z),typeof tt=="function")for(z=tt.call(z),tt=0;!(ue=z.next()).done;)ue=ue.value,Ce=bt+Se(ue,tt++),xe+=X(ue,te,ce,Ce,we);else if(Ce==="object"){if(typeof z.then=="function")return X(Le(z),te,ce,ue,we);throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ae(z,te,ce){if(z==null)return z;var ue=[],we=0;return X(z,ue,"","",function(Ce){return te.call(ce,Ce,we++)}),ue}function se(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var Ie=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Me={map:ae,forEach:function(z,te,ce){ae(z,function(){te.apply(this,arguments)},ce)},count:function(z){var te=0;return ae(z,function(){te++}),te},toArray:function(z){return ae(z,function(te){return te})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Oe.Activity=b,Oe.Children=Me,Oe.Component=U,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=F,Oe.StrictMode=i,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return D.H.useMemoCache(z)}},Oe.cache=function(z){return function(){return z.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(z,te,ce){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=V({},z.props),we=z.key;if(te!=null)for(Ce in te.key!==void 0&&(we=""+te.key),te)!E.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ue[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ce;else if(1<Ce){for(var xe=Array(Ce),bt=0;bt<Ce;bt++)xe[bt]=arguments[bt+2];ue.children=xe}return A(z.type,we,ue)},Oe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Oe.createElement=function(z,te,ce){var ue,we={},Ce=null;if(te!=null)for(ue in te.key!==void 0&&(Ce=""+te.key),te)E.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=te[ue]);var xe=arguments.length-2;if(xe===1)we.children=ce;else if(1<xe){for(var bt=Array(xe),tt=0;tt<xe;tt++)bt[tt]=arguments[tt+2];we.children=bt}if(z&&z.defaultProps)for(ue in xe=z.defaultProps,xe)we[ue]===void 0&&(we[ue]=xe[ue]);return A(z,Ce,we)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:d,render:z}},Oe.isValidElement=N,Oe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:se}},Oe.memo=function(z,te){return{$$typeof:p,type:z,compare:te===void 0?null:te}},Oe.startTransition=function(z){var te=D.T,ce={};D.T=ce;try{var ue=z(),we=D.S;we!==null&&we(ce,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(le,Ie)}catch(Ce){Ie(Ce)}finally{te!==null&&ce.types!==null&&(te.types=ce.types),D.T=te}},Oe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Oe.use=function(z){return D.H.use(z)},Oe.useActionState=function(z,te,ce){return D.H.useActionState(z,te,ce)},Oe.useCallback=function(z,te){return D.H.useCallback(z,te)},Oe.useContext=function(z){return D.H.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z,te){return D.H.useDeferredValue(z,te)},Oe.useEffect=function(z,te){return D.H.useEffect(z,te)},Oe.useEffectEvent=function(z){return D.H.useEffectEvent(z)},Oe.useId=function(){return D.H.useId()},Oe.useImperativeHandle=function(z,te,ce){return D.H.useImperativeHandle(z,te,ce)},Oe.useInsertionEffect=function(z,te){return D.H.useInsertionEffect(z,te)},Oe.useLayoutEffect=function(z,te){return D.H.useLayoutEffect(z,te)},Oe.useMemo=function(z,te){return D.H.useMemo(z,te)},Oe.useOptimistic=function(z,te){return D.H.useOptimistic(z,te)},Oe.useReducer=function(z,te,ce){return D.H.useReducer(z,te,ce)},Oe.useRef=function(z){return D.H.useRef(z)},Oe.useState=function(z){return D.H.useState(z)},Oe.useSyncExternalStore=function(z,te,ce){return D.H.useSyncExternalStore(z,te,ce)},Oe.useTransition=function(){return D.H.useTransition()},Oe.version="19.2.3",Oe}var X_;function By(){return X_||(X_=1,tg.exports=WN()),tg.exports}var O=By();const TE=YN(O);var ng={exports:{}},Uc={},sg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function JN(){return W_||(W_=1,(function(t){function e(X,ae){var se=X.length;X.push(ae);e:for(;0<se;){var Ie=se-1>>>1,Me=X[Ie];if(0<a(Me,ae))X[Ie]=ae,X[se]=Me,se=Ie;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ae=X[0],se=X.pop();if(se!==ae){X[0]=se;e:for(var Ie=0,Me=X.length,z=Me>>>1;Ie<z;){var te=2*(Ie+1)-1,ce=X[te],ue=te+1,we=X[ue];if(0>a(ce,se))ue<Me&&0>a(we,ce)?(X[Ie]=we,X[ue]=se,Ie=ue):(X[Ie]=ce,X[te]=se,Ie=te);else if(ue<Me&&0>a(we,se))X[Ie]=we,X[ue]=se,Ie=ue;else break e}}return ae}function a(X,ae){var se=X.sortIndex-ae.sortIndex;return se!==0?se:X.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,b=null,_=3,S=!1,I=!1,V=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ee(X){for(var ae=n(p);ae!==null;){if(ae.callback===null)i(p);else if(ae.startTime<=X)i(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function Y(X){if(V=!1,ee(X),!I)if(n(m)!==null)I=!0,le||(le=!0,P());else{var ae=n(p);ae!==null&&Le(Y,ae.startTime-X)}}var le=!1,D=-1,E=5,A=-1;function j(){return k?!0:!(t.unstable_now()-A<E)}function N(){if(k=!1,le){var X=t.unstable_now();A=X;var ae=!0;try{e:{I=!1,V&&(V=!1,q(D),D=-1),S=!0;var se=_;try{t:{for(ee(X),b=n(m);b!==null&&!(b.expirationTime>X&&j());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,_=b.priorityLevel;var Me=Ie(b.expirationTime<=X);if(X=t.unstable_now(),typeof Me=="function"){b.callback=Me,ee(X),ae=!0;break t}b===n(m)&&i(m),ee(X)}else i(m);b=n(m)}if(b!==null)ae=!0;else{var z=n(p);z!==null&&Le(Y,z.startTime-X),ae=!1}}break e}finally{b=null,_=se,S=!1}ae=void 0}}finally{ae?P():le=!1}}}var P;if(typeof F=="function")P=function(){F(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Se=M.port2;M.port1.onmessage=N,P=function(){Se.postMessage(null)}}else P=function(){U(N,0)};function Le(X,ae){D=U(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(X){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var se=_;_=ae;try{return X()}finally{_=se}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var se=_;_=X;try{return ae()}finally{_=se}},t.unstable_scheduleCallback=function(X,ae,se){var Ie=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ie+se:Ie):se=Ie,X){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=se+Me,X={id:v++,callback:ae,priorityLevel:X,startTime:se,expirationTime:Me,sortIndex:-1},se>Ie?(X.sortIndex=se,e(p,X),n(m)===null&&X===n(p)&&(V?(q(D),D=-1):V=!0,Le(Y,se-Ie))):(X.sortIndex=Me,e(m,X),I||S||(I=!0,le||(le=!0,P()))),X},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(X){var ae=_;return function(){var se=_;_=ae;try{return X.apply(this,arguments)}finally{_=se}}}})(ig)),ig}var J_;function ZN(){return J_||(J_=1,sg.exports=JN()),sg.exports}var rg={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function eI(){if(Z_)return vn;Z_=1;var t=By();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},vn.flushSync=function(m){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=v,i.d.f()}},vn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},vn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},vn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},vn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},vn.requestFormReset=function(m){i.d.r(m)},vn.unstable_batchedUpdates=function(m,p){return m(p)},vn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},vn.version="19.2.3",vn}var eT;function tI(){if(eT)return rg.exports;eT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rg.exports=eI(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function nI(){if(tT)return Uc;tT=1;var t=ZN(),e=By(),n=tI();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function m(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),s;if(g===u)return m(f),r;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var T=!1,C=f.child;C;){if(C===o){T=!0,o=f,u=g;break}if(C===u){T=!0,u=f,o=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===o){T=!0,o=g,u=f;break}if(C===u){T=!0,u=g,o=f;break}C=C.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function Se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case Y:return"Suspense";case le:return"SuspenseList";case A:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case F:return s.displayName||"Context";case q:return(s._context.displayName||"Context")+".Consumer";case ee:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return r=s.displayName||null,r!==null?r:Se(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return Se(s(r))}catch{}}return null}var Le=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ie=[],Me=-1;function z(s){return{current:s}}function te(s){0>Me||(s.current=Ie[Me],Ie[Me]=null,Me--)}function ce(s,r){Me++,Ie[Me]=s.current,s.current=r}var ue=z(null),we=z(null),Ce=z(null),xe=z(null);function bt(s,r){switch(ce(Ce,r),ce(we,s),ce(ue,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?g_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=g_(r),s=y_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(ue),ce(ue,s)}function tt(){te(ue),te(we),te(Ce)}function En(s){s.memoizedState!==null&&ce(xe,s);var r=ue.current,o=y_(r,s.type);r!==o&&(ce(we,s),ce(ue,o))}function Jn(s){we.current===s&&(te(ue),te(we)),xe.current===s&&(te(xe),kc._currentValue=se)}var Ln,Ti;function Un(s){if(Ln===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ln=r&&r[1]||"",Ti=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ln+s+Ti}var de=!1;function Ye(s,r){if(!s||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var Q=J}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(J){Q=J}s.call(ie.prototype)}}else{try{throw Error()}catch(J){Q=J}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var L=T.split(`
`),K=C.split(`
`);for(f=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===L.length||f===K.length)for(u=L.length-1,f=K.length-1;1<=u&&0<=f&&L[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(L[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||L[u]!==K[f]){var Z=`
`+L[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=f);break}}}finally{de=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Un(o):""}function kt(s,r){switch(s.tag){case 26:case 27:case 5:return Un(s.type);case 16:return Un("Lazy");case 13:return s.child!==r&&r!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Ye(s.type,!1);case 11:return Ye(s.type.render,!1);case 1:return Ye(s.type,!0);case 31:return Un("Activity");default:return""}}function en(s){try{var r="",o=null;do r+=kt(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Xe=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,Yt=t.unstable_cancelCallback,Us=t.unstable_shouldYield,ro=t.unstable_requestPaint,Rt=t.unstable_now,Zn=t.unstable_getCurrentPriorityLevel,wi=t.unstable_ImmediatePriority,Ei=t.unstable_UserBlockingPriority,zs=t.unstable_NormalPriority,sm=t.unstable_LowPriority,Hu=t.unstable_IdlePriority,Gu=t.log,$u=t.unstable_setDisableYieldValue,vs=null,an=null;function es(s){if(typeof Gu=="function"&&$u(s),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(vs,s)}catch{}}var Nt=Math.clz32?Math.clz32:Yu,Ku=Math.log,ao=Math.LN2;function Yu(s){return s>>>=0,s===0?32:31-(Ku(s)/ao|0)|0}var Bs=256,oa=262144,jt=4194304;function Fs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function qs(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var C=u&134217727;return C!==0?(u=C&~g,u!==0?f=Fs(u):(T&=C,T!==0?f=Fs(T):o||(o=C&~s,o!==0&&(f=Fs(o))))):(C=u&~g,C!==0?f=Fs(C):T!==0?f=Fs(T):o||(o=u&~s,o!==0&&(f=Fs(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function bs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function im(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var s=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),s}function Hs(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function la(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function rm(s,r,o,u,f,g){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var C=s.entanglements,L=s.expirationTimes,K=s.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-Nt(o),ie=1<<Z;C[Z]=0,L[Z]=-1;var Q=K[Z];if(Q!==null)for(K[Z]=null,Z=0;Z<Q.length;Z++){var J=Q[Z];J!==null&&(J.lane&=-536870913)}o&=~ie}u!==0&&ca(s,u,0),g!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=g&~(T&~r))}function ca(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Nt(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Ul(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-Nt(o),f=1<<u;f&r|s[u]&r&&(s[u]|=r),o&=~f}}function zl(s,r){var o=r&-r;return o=(o&42)!==0?1:ua(o),(o&(s.suspendedLanes|r))!==0?0:o}function ua(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Si(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Xu(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:z_(s.type))}function xs(s,r){var o=ae.p;try{return ae.p=s,r()}finally{ae.p=o}}var _s=Math.random().toString(36).slice(2),Vt="__reactFiber$"+_s,tn="__reactProps$"+_s,Gs="__reactContainer$"+_s,oo="__reactEvents$"+_s,am="__reactListeners$"+_s,Wu="__reactHandles$"+_s,Ju="__reactResources$"+_s,$s="__reactMarker$"+_s;function lo(s){delete s[Vt],delete s[tn],delete s[oo],delete s[am],delete s[Wu]}function Ks(s){var r=s[Vt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Gs]||o[Vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=E_(s);s!==null;){if(o=s[Vt])return o;s=E_(s)}return r}s=o,o=s.parentNode}return null}function ts(s){if(s=s[Vt]||s[Gs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function zn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ys(s){var r=s[Ju];return r||(r=s[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pt(s){s[$s]=!0}var Bl=new Set,Fl={};function Qs(s,r){Xs(s,r),Xs(s+"Capture",r)}function Xs(s,r){for(Fl[s]=r,s=0;s<r.length;s++)Bl.add(r[s])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},Gl={};function Zu(s){return Xe.call(Gl,s)?!0:Xe.call(Hl,s)?!1:ql.test(s)?Gl[s]=!0:(Hl[s]=!0,!1)}function co(s,r,o){if(Zu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Bn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Lt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function nn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ir(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $l(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function rt(s){if(!s._valueTracker){var r=ir(s)?"checked":"value";s._valueTracker=$l(s,r,""+s[r])}}function ha(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=ir(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Ws(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var da=/[\n"\\]/g;function Nn(s){return s.replace(da,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function uo(s,r,o,u,f,g,T,C){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+nn(r)):s.value!==""+nn(r)&&(s.value=""+nn(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?Kl(s,T,nn(r)):o!=null?Kl(s,T,nn(o)):u!=null&&s.removeAttribute("value"),f==null&&g!=null&&(s.defaultChecked=!!g),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+nn(C):s.removeAttribute("name")}function eh(s,r,o,u,f,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){rt(s);return}o=o!=null?""+nn(o):"",r=r!=null?""+nn(r):o,C||r===s.value||(s.value=r),s.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=C?s.checked:!!u,s.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),rt(s)}function Kl(s,r,o){r==="number"&&Ws(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function rr(s,r,o,u){if(s=s.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<s.length;o++)f=r.hasOwnProperty("$"+s[o].value),s[o].selected!==f&&(s[o].selected=f),f&&u&&(s[o].defaultSelected=!0)}else{for(o=""+nn(o),r=null,f=0;f<s.length;f++){if(s[f].value===o){s[f].selected=!0,u&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function th(s,r,o){if(r!=null&&(r=""+nn(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+nn(o):""}function ar(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(Le(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=nn(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),rt(s)}function In(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||nh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Ql(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Yl(s,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Yl(s,g,r[g])}function ho(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(s){return or.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ts(){}var Xl=null;function ns(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lr=null,Js=null;function fa(s){var r=ts(s);if(r&&(s=r.stateNode)){var o=s[tn]||null;e:switch(s=r.stateNode,r.type){case"input":if(uo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Nn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var f=u[tn]||null;if(!f)throw Error(i(90));uo(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&ha(u)}break e;case"textarea":th(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rr(s,!!o.multiple,r,!1)}}}var mo=!1;function cr(s,r,o){if(mo)return s(r,o);mo=!0;try{var u=s(r);return u}finally{if(mo=!1,(lr!==null||Js!==null)&&(Xh(),lr&&(r=lr,s=Js,Js=lr=null,fa(r),s)))for(r=0;r<s.length;r++)fa(s[r])}}function ws(s,r){var o=s.stateNode;if(o===null)return null;var u=o[tn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(ss)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){ma=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{ma=!1}var Zs=null,Wl=null,pa=null;function Jl(){if(pa)return pa;var s,r=Wl,o=r.length,u,f="value"in Zs?Zs.value:Zs.textContent,g=f.length;for(s=0;s<o&&r[s]===f[s];s++);var T=o-s;for(u=1;u<=T&&r[o-u]===f[g-u];u++);return pa=f.slice(s,1<u?1-u:void 0)}function ga(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ai(){return!0}function Es(){return!1}function on(s){function r(o,u,f,g,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(o=s[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ai:Es,this.isPropagationStopped=Es,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),r}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=on(Ci),ur=b({},Ci,{view:0,detail:0}),Zl=on(ur),hr,po,ti,go=b({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ti&&(ti&&s.type==="mousemove"?(hr=s.screenX-ti.screenX,po=s.screenY-ti.screenY):po=hr=0,ti=s),hr)},movementY:function(s){return"movementY"in s?s.movementY:po}}),ec=on(go),ya=b({},go,{dataTransfer:0}),ih=on(ya),rh=b({},ur,{relatedTarget:0}),va=on(rh),tc=b({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=on(tc),yo=b({},Ci,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),oh=on(yo),lh=b({},Ci,{data:0}),ni=on(lh),ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=hh[s])?!!r[s]:!1}function dr(){return dh}var Sn=b({},ur,{key:function(s){if(s.key){var r=ch[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?uh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(s){return s.type==="keypress"?ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fh=on(Sn),mh=b({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=on(mh),h=b({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),x=on(h),w=b({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=on(w),G=b({},go,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),W=on(G),he=b({},Ci,{newState:0,oldState:0}),Ve=on(he),It=[9,13,27,32],nt=ss&&"CompositionEvent"in window,xt=null;ss&&"documentMode"in document&&(xt=document.documentMode);var is=ss&&"TextEvent"in window&&!xt,si=ss&&(!nt||xt&&8<xt&&11>=xt),Ss=" ",As=!1;function ba(s,r){switch(s){case"keyup":return It.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bo=!1;function vR(s,r){switch(s){case"compositionend":return vo(r);case"keypress":return r.which!==32?null:(As=!0,Ss);case"textInput":return s=r.data,s===Ss&&As?null:s;default:return null}}function bR(s,r){if(bo)return s==="compositionend"||!nt&&ba(s,r)?(s=Jl(),pa=Wl=Zs=null,bo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return si&&r.locale!=="ko"?null:r.data;default:return null}}var xR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!xR[s.type]:r==="textarea"}function Rv(s,r,o,u){lr?Js?Js.push(u):Js=[u]:lr=u,r=sd(r,"onChange"),0<r.length&&(o=new ei("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var nc=null,sc=null;function _R(s){u_(s,0)}function ph(s){var r=zn(s);if(ha(r))return s}function Nv(s,r){if(s==="change")return r}var Iv=!1;if(ss){var om;if(ss){var lm="oninput"in document;if(!lm){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),lm=typeof Dv.oninput=="function"}om=lm}else om=!1;Iv=om&&(!document.documentMode||9<document.documentMode)}function Mv(){nc&&(nc.detachEvent("onpropertychange",Ov),sc=nc=null)}function Ov(s){if(s.propertyName==="value"&&ph(sc)){var r=[];Rv(r,sc,s,ns(s)),cr(_R,r)}}function TR(s,r,o){s==="focusin"?(Mv(),nc=r,sc=o,nc.attachEvent("onpropertychange",Ov)):s==="focusout"&&Mv()}function wR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ph(sc)}function ER(s,r){if(s==="click")return ph(r)}function SR(s,r){if(s==="input"||s==="change")return ph(r)}function AR(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Fn=typeof Object.is=="function"?Object.is:AR;function ic(s,r){if(Fn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Xe.call(r,f)||!Fn(s[f],r[f]))return!1}return!0}function kv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function jv(s,r){var o=kv(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kv(o)}}function Vv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Vv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Pv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Ws(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Ws(s.document)}return r}function cm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var CR=ss&&"documentMode"in document&&11>=document.documentMode,xo=null,um=null,rc=null,hm=!1;function Lv(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hm||xo==null||xo!==Ws(u)||(u=xo,"selectionStart"in u&&cm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),rc&&ic(rc,u)||(rc=u,u=sd(um,"onSelect"),0<u.length&&(r=new ei("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=xo)))}function xa(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var _o={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},dm={},Uv={};ss&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function _a(s){if(dm[s])return dm[s];if(!_o[s])return s;var r=_o[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in Uv)return dm[s]=r[o];return s}var zv=_a("animationend"),Bv=_a("animationiteration"),Fv=_a("animationstart"),RR=_a("transitionrun"),NR=_a("transitionstart"),IR=_a("transitioncancel"),qv=_a("transitionend"),Hv=new Map,fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fm.push("scrollEnd");function Cs(s,r){Hv.set(s,r),Qs(r,[s])}var gh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},rs=[],To=0,mm=0;function yh(){for(var s=To,r=mm=To=0;r<s;){var o=rs[r];rs[r++]=null;var u=rs[r];rs[r++]=null;var f=rs[r];rs[r++]=null;var g=rs[r];if(rs[r++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}g!==0&&Gv(o,f,g)}}function vh(s,r,o,u){rs[To++]=s,rs[To++]=r,rs[To++]=o,rs[To++]=u,mm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function pm(s,r,o,u){return vh(s,r,o,u),bh(s)}function Ta(s,r){return vh(s,null,null,r),bh(s)}function Gv(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=s.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(f=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,f&&r!==null&&(f=31-Nt(o),s=g.hiddenUpdates,u=s[f],u===null?s[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function bh(s){if(50<Cc)throw Cc=0,Ep=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var wo={};function DR(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,r,o,u){return new DR(s,r,o,u)}function gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ni(s,r){var o=s.alternate;return o===null?(o=qn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function $v(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function xh(s,r,o,u,f,g){var T=0;if(u=s,typeof s=="function")gm(s)&&(T=1);else if(typeof s=="string")T=VN(s,o,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case A:return s=qn(31,o,r,f),s.elementType=A,s.lanes=g,s;case V:return wa(o.children,f,g,r);case k:T=8,f|=24;break;case U:return s=qn(12,o,r,f|2),s.elementType=U,s.lanes=g,s;case Y:return s=qn(13,o,r,f),s.elementType=Y,s.lanes=g,s;case le:return s=qn(19,o,r,f),s.elementType=le,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:T=10;break e;case q:T=9;break e;case ee:T=11;break e;case D:T=14;break e;case E:T=16,u=null;break e}T=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=qn(T,o,r,f),r.elementType=s,r.type=u,r.lanes=g,r}function wa(s,r,o,u){return s=qn(7,s,u,r),s.lanes=o,s}function ym(s,r,o){return s=qn(6,s,null,r),s.lanes=o,s}function Kv(s){var r=qn(18,null,null,0);return r.stateNode=s,r}function vm(s,r,o){return r=qn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Yv=new WeakMap;function as(s,r){if(typeof s=="object"&&s!==null){var o=Yv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:en(r)},Yv.set(s,r),r)}return{value:s,source:r,stack:en(r)}}var Eo=[],So=0,_h=null,ac=0,os=[],ls=0,fr=null,ii=1,ri="";function Ii(s,r){Eo[So++]=ac,Eo[So++]=_h,_h=s,ac=r}function Qv(s,r,o){os[ls++]=ii,os[ls++]=ri,os[ls++]=fr,fr=s;var u=ii;s=ri;var f=32-Nt(u)-1;u&=~(1<<f),o+=1;var g=32-Nt(r)+f;if(30<g){var T=f-f%5;g=(u&(1<<T)-1).toString(32),u>>=T,f-=T,ii=1<<32-Nt(r)+f|o<<f|u,ri=g+s}else ii=1<<g|o<<f|u,ri=s}function bm(s){s.return!==null&&(Ii(s,1),Qv(s,1,0))}function xm(s){for(;s===_h;)_h=Eo[--So],Eo[So]=null,ac=Eo[--So],Eo[So]=null;for(;s===fr;)fr=os[--ls],os[ls]=null,ri=os[--ls],os[ls]=null,ii=os[--ls],os[ls]=null}function Xv(s,r){os[ls++]=ii,os[ls++]=ri,os[ls++]=fr,ii=r.id,ri=r.overflow,fr=s}var ln=null,pt=null,Qe=!1,mr=null,cs=!1,_m=Error(i(519));function pr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oc(as(r,s)),_m}function Wv(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[Vt]=s,r[tn]=u,o){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(o=0;o<Nc.length;o++)Fe(Nc[o],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),eh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),ar(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||m_(r.textContent,o)?(u.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),u.onScroll!=null&&Fe("scroll",r),u.onScrollEnd!=null&&Fe("scrollend",r),u.onClick!=null&&(r.onclick=Ts),r=!0):r=!1,r||pr(s,!0)}function Jv(s){for(ln=s.return;ln;)switch(ln.tag){case 5:case 31:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:ln=ln.return}}function Ao(s){if(s!==ln)return!1;if(!Qe)return Jv(s),Qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Up(s.type,s.memoizedProps)),o=!o),o&&pt&&pr(s),Jv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pt=w_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pt=w_(s)}else r===27?(r=pt,Nr(s.type)?(s=Hp,Hp=null,pt=s):pt=r):pt=ln?hs(s.stateNode.nextSibling):null;return!0}function Ea(){pt=ln=null,Qe=!1}function Tm(){var s=mr;return s!==null&&(kn===null?kn=s:kn.push.apply(kn,s),mr=null),s}function oc(s){mr===null?mr=[s]:mr.push(s)}var wm=z(null),Sa=null,Di=null;function gr(s,r,o){ce(wm,r._currentValue),r._currentValue=o}function Mi(s){s._currentValue=wm.current,te(wm)}function Em(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Sm(s,r,o,u){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=f;for(var L=0;L<r.length;L++)if(C.context===r[L]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),Em(g.return,o,s),u||(T=null);break e}g=C.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Em(T,o,s),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===s){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Co(s,r,o,u){s=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var C=f.type;Fn(f.pendingProps.value,T.value)||(s!==null?s.push(C):s=[C])}}else if(f===xe.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(kc):s=[kc])}f=f.return}s!==null&&Sm(r,s,o,u),r.flags|=262144}function Th(s){for(s=s.firstContext;s!==null;){if(!Fn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Aa(s){Sa=s,Di=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cn(s){return Zv(Sa,s)}function wh(s,r){return Sa===null&&Aa(s),Zv(s,r)}function Zv(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Di===null){if(s===null)throw Error(i(308));Di=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Di=Di.next=r;return o}var MR=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},OR=t.unstable_scheduleCallback,kR=t.unstable_NormalPriority,Ut={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new MR,data:new Map,refCount:0}}function lc(s){s.refCount--,s.refCount===0&&OR(kR,function(){s.controller.abort()})}var cc=null,Cm=0,Ro=0,No=null;function jR(s,r){if(cc===null){var o=cc=[];Cm=0,Ro=Ip(),No={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cm++,r.then(eb,eb),r}function eb(){if(--Cm===0&&cc!==null){No!==null&&(No.status="fulfilled");var s=cc;cc=null,Ro=0,No=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function VR(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var tb=X.S;X.S=function(s,r){Lx=Rt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&jR(s,r),tb!==null&&tb(s,r)};var Ca=z(null);function Rm(){var s=Ca.current;return s!==null?s:ft.pooledCache}function Eh(s,r){r===null?ce(Ca,Ca.current):ce(Ca,r.pool)}function nb(){var s=Rm();return s===null?null:{parent:Ut._currentValue,pool:s}}var Io=Error(i(460)),Nm=Error(i(474)),Sh=Error(i(542)),Ah={then:function(){}};function sb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ib(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(Ts,Ts),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ab(s),s;default:if(typeof r.status=="string")r.then(Ts,Ts);else{if(s=ft,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ab(s),s}throw Na=r,Io}}function Ra(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Na=o,Io):o}}var Na=null;function rb(){if(Na===null)throw Error(i(459));var s=Na;return Na=null,s}function ab(s){if(s===Io||s===Sh)throw Error(i(483))}var Do=null,uc=0;function Ch(s){var r=uc;return uc+=1,Do===null&&(Do=[]),ib(Do,s,r)}function hc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Rh(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function ob(s){function r(H,B){if(s){var $=H.deletions;$===null?(H.deletions=[B],H.flags|=16):$.push(B)}}function o(H,B){if(!s)return null;for(;B!==null;)r(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=Ni(H,B),H.index=0,H.sibling=null,H}function g(H,B,$){return H.index=$,s?($=H.alternate,$!==null?($=$.index,$<B?(H.flags|=67108866,B):$):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function T(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function C(H,B,$,ne){return B===null||B.tag!==6?(B=ym($,H.mode,ne),B.return=H,B):(B=f(B,$),B.return=H,B)}function L(H,B,$,ne){var _e=$.type;return _e===V?Z(H,B,$.props.children,ne,$.key):B!==null&&(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===E&&Ra(_e)===B.type)?(B=f(B,$.props),hc(B,$),B.return=H,B):(B=xh($.type,$.key,$.props,null,H.mode,ne),hc(B,$),B.return=H,B)}function K(H,B,$,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=vm($,H.mode,ne),B.return=H,B):(B=f(B,$.children||[]),B.return=H,B)}function Z(H,B,$,ne,_e){return B===null||B.tag!==7?(B=wa($,H.mode,ne,_e),B.return=H,B):(B=f(B,$),B.return=H,B)}function ie(H,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ym(""+B,H.mode,$),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return $=xh(B.type,B.key,B.props,null,H.mode,$),hc($,B),$.return=H,$;case I:return B=vm(B,H.mode,$),B.return=H,B;case E:return B=Ra(B),ie(H,B,$)}if(Le(B)||P(B))return B=wa(B,H.mode,$,null),B.return=H,B;if(typeof B.then=="function")return ie(H,Ch(B),$);if(B.$$typeof===F)return ie(H,wh(H,B),$);Rh(H,B)}return null}function Q(H,B,$,ne){var _e=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _e!==null?null:C(H,B,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===_e?L(H,B,$,ne):null;case I:return $.key===_e?K(H,B,$,ne):null;case E:return $=Ra($),Q(H,B,$,ne)}if(Le($)||P($))return _e!==null?null:Z(H,B,$,ne,null);if(typeof $.then=="function")return Q(H,B,Ch($),ne);if($.$$typeof===F)return Q(H,B,wh(H,$),ne);Rh(H,$)}return null}function J(H,B,$,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get($)||null,C(B,H,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return H=H.get(ne.key===null?$:ne.key)||null,L(B,H,ne,_e);case I:return H=H.get(ne.key===null?$:ne.key)||null,K(B,H,ne,_e);case E:return ne=Ra(ne),J(H,B,$,ne,_e)}if(Le(ne)||P(ne))return H=H.get($)||null,Z(B,H,ne,_e,null);if(typeof ne.then=="function")return J(H,B,$,Ch(ne),_e);if(ne.$$typeof===F)return J(H,B,$,wh(B,ne),_e);Rh(B,ne)}return null}function pe(H,B,$,ne){for(var _e=null,Ze=null,be=B,Ue=B=0,He=null;be!==null&&Ue<$.length;Ue++){be.index>Ue?(He=be,be=null):He=be.sibling;var et=Q(H,be,$[Ue],ne);if(et===null){be===null&&(be=He);break}s&&be&&et.alternate===null&&r(H,be),B=g(et,B,Ue),Ze===null?_e=et:Ze.sibling=et,Ze=et,be=He}if(Ue===$.length)return o(H,be),Qe&&Ii(H,Ue),_e;if(be===null){for(;Ue<$.length;Ue++)be=ie(H,$[Ue],ne),be!==null&&(B=g(be,B,Ue),Ze===null?_e=be:Ze.sibling=be,Ze=be);return Qe&&Ii(H,Ue),_e}for(be=u(be);Ue<$.length;Ue++)He=J(be,H,Ue,$[Ue],ne),He!==null&&(s&&He.alternate!==null&&be.delete(He.key===null?Ue:He.key),B=g(He,B,Ue),Ze===null?_e=He:Ze.sibling=He,Ze=He);return s&&be.forEach(function(kr){return r(H,kr)}),Qe&&Ii(H,Ue),_e}function Ee(H,B,$,ne){if($==null)throw Error(i(151));for(var _e=null,Ze=null,be=B,Ue=B=0,He=null,et=$.next();be!==null&&!et.done;Ue++,et=$.next()){be.index>Ue?(He=be,be=null):He=be.sibling;var kr=Q(H,be,et.value,ne);if(kr===null){be===null&&(be=He);break}s&&be&&kr.alternate===null&&r(H,be),B=g(kr,B,Ue),Ze===null?_e=kr:Ze.sibling=kr,Ze=kr,be=He}if(et.done)return o(H,be),Qe&&Ii(H,Ue),_e;if(be===null){for(;!et.done;Ue++,et=$.next())et=ie(H,et.value,ne),et!==null&&(B=g(et,B,Ue),Ze===null?_e=et:Ze.sibling=et,Ze=et);return Qe&&Ii(H,Ue),_e}for(be=u(be);!et.done;Ue++,et=$.next())et=J(be,H,Ue,et.value,ne),et!==null&&(s&&et.alternate!==null&&be.delete(et.key===null?Ue:et.key),B=g(et,B,Ue),Ze===null?_e=et:Ze.sibling=et,Ze=et);return s&&be.forEach(function(KN){return r(H,KN)}),Qe&&Ii(H,Ue),_e}function dt(H,B,$,ne){if(typeof $=="object"&&$!==null&&$.type===V&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:e:{for(var _e=$.key;B!==null;){if(B.key===_e){if(_e=$.type,_e===V){if(B.tag===7){o(H,B.sibling),ne=f(B,$.props.children),ne.return=H,H=ne;break e}}else if(B.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===E&&Ra(_e)===B.type){o(H,B.sibling),ne=f(B,$.props),hc(ne,$),ne.return=H,H=ne;break e}o(H,B);break}else r(H,B);B=B.sibling}$.type===V?(ne=wa($.props.children,H.mode,ne,$.key),ne.return=H,H=ne):(ne=xh($.type,$.key,$.props,null,H.mode,ne),hc(ne,$),ne.return=H,H=ne)}return T(H);case I:e:{for(_e=$.key;B!==null;){if(B.key===_e)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(H,B.sibling),ne=f(B,$.children||[]),ne.return=H,H=ne;break e}else{o(H,B);break}else r(H,B);B=B.sibling}ne=vm($,H.mode,ne),ne.return=H,H=ne}return T(H);case E:return $=Ra($),dt(H,B,$,ne)}if(Le($))return pe(H,B,$,ne);if(P($)){if(_e=P($),typeof _e!="function")throw Error(i(150));return $=_e.call($),Ee(H,B,$,ne)}if(typeof $.then=="function")return dt(H,B,Ch($),ne);if($.$$typeof===F)return dt(H,B,wh(H,$),ne);Rh(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(H,B.sibling),ne=f(B,$),ne.return=H,H=ne):(o(H,B),ne=ym($,H.mode,ne),ne.return=H,H=ne),T(H)):o(H,B)}return function(H,B,$,ne){try{uc=0;var _e=dt(H,B,$,ne);return Do=null,_e}catch(be){if(be===Io||be===Sh)throw be;var Ze=qn(29,be,null,H.mode);return Ze.lanes=ne,Ze.return=H,Ze}finally{}}}var Ia=ob(!0),lb=ob(!1),yr=!1;function Im(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function br(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=bh(s),Gv(s,null,o),r}return vh(s,u,r,o),bh(s)}function dc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ul(s,o)}}function Mm(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Om=!1;function fc(){if(Om){var s=No;if(s!==null)throw s}}function mc(s,r,o,u){Om=!1;var f=s.updateQueue;yr=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var L=C,K=L.next;L.next=null,T===null?g=K:T.next=K,T=L;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==T&&(C===null?Z.firstBaseUpdate=K:C.next=K,Z.lastBaseUpdate=L))}if(g!==null){var ie=f.baseState;T=0,Z=K=L=null,C=g;do{var Q=C.lane&-536870913,J=Q!==C.lane;if(J?(qe&Q)===Q:(u&Q)===Q){Q!==0&&Q===Ro&&(Om=!0),Z!==null&&(Z=Z.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var pe=s,Ee=C;Q=r;var dt=o;switch(Ee.tag){case 1:if(pe=Ee.payload,typeof pe=="function"){ie=pe.call(dt,ie,Q);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ee.payload,Q=typeof pe=="function"?pe.call(dt,ie,Q):pe,Q==null)break e;ie=b({},ie,Q);break e;case 2:yr=!0}}Q=C.callback,Q!==null&&(s.flags|=64,J&&(s.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(K=Z=J,L=ie):Z=Z.next=J,T|=Q;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;J=C,C=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);Z===null&&(L=ie),f.baseState=L,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),Er|=T,s.lanes=T,s.memoizedState=ie}}function cb(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function ub(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)cb(o[s],r)}var Mo=z(null),Nh=z(0);function hb(s,r){s=Bi,ce(Nh,s),ce(Mo,r),Bi=s|r.baseLanes}function km(){ce(Nh,Bi),ce(Mo,Mo.current)}function jm(){Bi=Nh.current,te(Mo),te(Nh)}var Hn=z(null),us=null;function xr(s){var r=s.alternate;ce(Dt,Dt.current&1),ce(Hn,s),us===null&&(r===null||Mo.current!==null||r.memoizedState!==null)&&(us=s)}function Vm(s){ce(Dt,Dt.current),ce(Hn,s),us===null&&(us=s)}function db(s){s.tag===22?(ce(Dt,Dt.current),ce(Hn,s),us===null&&(us=s)):_r()}function _r(){ce(Dt,Dt.current),ce(Hn,Hn.current)}function Gn(s){te(Hn),us===s&&(us=null),te(Dt)}var Dt=z(0);function Ih(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fp(o)||qp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Oi=0,Pe=null,ut=null,zt=null,Dh=!1,Oo=!1,Da=!1,Mh=0,pc=0,ko=null,PR=0;function St(){throw Error(i(321))}function Pm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Fn(s[o],r[o]))return!1;return!0}function Lm(s,r,o,u,f,g){return Oi=g,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=s===null||s.memoizedState===null?Qb:Zm,Da=!1,g=o(u,f),Da=!1,Oo&&(g=mb(r,o,u,f)),fb(s),g}function fb(s){X.H=vc;var r=ut!==null&&ut.next!==null;if(Oi=0,zt=ut=Pe=null,Dh=!1,pc=0,ko=null,r)throw Error(i(300));s===null||Bt||(s=s.dependencies,s!==null&&Th(s)&&(Bt=!0))}function mb(s,r,o,u){Pe=s;var f=0;do{if(Oo&&(ko=null),pc=0,Oo=!1,25<=f)throw Error(i(301));if(f+=1,zt=ut=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=Xb,g=r(o,u)}while(Oo);return g}function LR(){var s=X.H,r=s.useState()[0];return r=typeof r.then=="function"?gc(r):r,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Pe.flags|=1024),r}function Um(){var s=Mh!==0;return Mh=0,s}function zm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Bm(s){if(Dh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Dh=!1}Oi=0,zt=ut=Pe=null,Oo=!1,pc=Mh=0,ko=null}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Pe.memoizedState=zt=s:zt=zt.next=s,zt}function Mt(){if(ut===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var r=zt===null?Pe.memoizedState:zt.next;if(r!==null)zt=r,ut=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},zt===null?Pe.memoizedState=zt=s:zt=zt.next=s}return zt}function Oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(s){var r=pc;return pc+=1,ko===null&&(ko=[]),s=ib(ko,s,r),r=Pe,(zt===null?r.memoizedState:zt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Qb:Zm),s}function kh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return gc(s);if(s.$$typeof===F)return cn(s)}throw Error(i(438,String(s)))}function Fm(s){var r=null,o=Pe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Oh(),Pe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=j;return r.index++,o}function ki(s,r){return typeof r=="function"?r(s):r}function jh(s){var r=Mt();return qm(r,ut,s)}function qm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=s.baseQueue,g=u.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}r.baseQueue=f=g,u.pending=null}if(g=s.baseState,f===null)s.memoizedState=g;else{r=f.next;var C=T=null,L=null,K=r,Z=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(qe&ie)===ie:(Oi&ie)===ie){var Q=K.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===Ro&&(Z=!0);else if((Oi&Q)===Q){K=K.next,Q===Ro&&(Z=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(C=L=ie,T=g):L=L.next=ie,Pe.lanes|=Q,Er|=Q;ie=K.action,Da&&o(g,ie),g=K.hasEagerState?K.eagerState:o(g,ie)}else Q={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(C=L=Q,T=g):L=L.next=Q,Pe.lanes|=ie,Er|=ie;K=K.next}while(K!==null&&K!==r);if(L===null?T=g:L.next=C,!Fn(g,s.memoizedState)&&(Bt=!0,Z&&(o=No,o!==null)))throw o;s.memoizedState=g,s.baseState=T,s.baseQueue=L,u.lastRenderedState=g}return f===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Hm(s){var r=Mt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do g=s(g,T.action),T=T.next;while(T!==f);Fn(g,r.memoizedState)||(Bt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function pb(s,r,o){var u=Pe,f=Mt(),g=Qe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!Fn((ut||f).memoizedState,o);if(T&&(f.memoizedState=o,Bt=!0),f=f.queue,Km(vb.bind(null,u,f,s),[s]),f.getSnapshot!==r||T||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,jo(9,{destroy:void 0},yb.bind(null,u,f,o,r),null),ft===null)throw Error(i(349));g||(Oi&127)!==0||gb(u,r,o)}return o}function gb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Pe.updateQueue,r===null?(r=Oh(),Pe.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function yb(s,r,o,u){r.value=o,r.getSnapshot=u,bb(r)&&xb(s)}function vb(s,r,o){return o(function(){bb(r)&&xb(s)})}function bb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Fn(s,o)}catch{return!0}}function xb(s){var r=Ta(s,2);r!==null&&jn(r,s,2)}function Gm(s){var r=An();if(typeof s=="function"){var o=s;if(s=o(),Da){es(!0);try{o()}finally{es(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},r}function _b(s,r,o,u){return s.baseState=o,qm(s,ut,typeof u=="function"?u:ki)}function UR(s,r,o,u,f){if(Lh(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Tb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Tb(s,r){var o=r.action,u=r.payload,f=s.state;if(r.isTransition){var g=X.T,T={};X.T=T;try{var C=o(f,u),L=X.S;L!==null&&L(T,C),wb(s,r,C)}catch(K){$m(s,r,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),X.T=g}}else try{g=o(f,u),wb(s,r,g)}catch(K){$m(s,r,K)}}function wb(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Eb(s,r,u)},function(u){return $m(s,r,u)}):Eb(s,r,o)}function Eb(s,r,o){r.status="fulfilled",r.value=o,Sb(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Tb(s,o)))}function $m(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Sb(r),r=r.next;while(r!==u)}s.action=null}function Sb(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Ab(s,r){return r}function Cb(s,r){if(Qe){var o=ft.formState;if(o!==null){e:{var u=Pe;if(Qe){if(pt){t:{for(var f=pt,g=cs;f.nodeType!==8;){if(!g){f=null;break t}if(f=hs(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){pt=hs(f.nextSibling),u=f.data==="F!";break e}}pr(u)}u=!1}u&&(r=o[0])}}return o=An(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ab,lastRenderedState:r},o.queue=u,o=$b.bind(null,Pe,u),u.dispatch=o,u=Gm(!1),g=Jm.bind(null,Pe,!1,u.queue),u=An(),f={state:r,dispatch:null,action:s,pending:null},u.queue=f,o=UR.bind(null,Pe,f,g,o),f.dispatch=o,u.memoizedState=s,[r,o,!1]}function Rb(s){var r=Mt();return Nb(r,ut,s)}function Nb(s,r,o){if(r=qm(s,r,Ab)[0],s=jh(ki)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=gc(r)}catch(T){throw T===Io?Sh:T}else u=r;r=Mt();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Pe.flags|=2048,jo(9,{destroy:void 0},zR.bind(null,f,o),null)),[u,g,s]}function zR(s,r){s.action=r}function Ib(s){var r=Mt(),o=ut;if(o!==null)return Nb(r,o,s);Mt(),r=r.memoizedState,o=Mt();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function jo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Oh(),Pe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function Db(){return Mt().memoizedState}function Vh(s,r,o,u){var f=An();Pe.flags|=s,f.memoizedState=jo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ph(s,r,o,u){var f=Mt();u=u===void 0?null:u;var g=f.memoizedState.inst;ut!==null&&u!==null&&Pm(u,ut.memoizedState.deps)?f.memoizedState=jo(r,g,o,u):(Pe.flags|=s,f.memoizedState=jo(1|r,g,o,u))}function Mb(s,r){Vh(8390656,8,s,r)}function Km(s,r){Ph(2048,8,s,r)}function BR(s){Pe.flags|=4;var r=Pe.updateQueue;if(r===null)r=Oh(),Pe.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function Ob(s){var r=Mt().memoizedState;return BR({ref:r,nextImpl:s}),function(){if((st&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function kb(s,r){return Ph(4,2,s,r)}function jb(s,r){return Ph(4,4,s,r)}function Vb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Pb(s,r,o){o=o!=null?o.concat([s]):null,Ph(4,4,Vb.bind(null,r,s),o)}function Ym(){}function Lb(s,r){var o=Mt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Pm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function Ub(s,r){var o=Mt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Pm(r,u[1]))return u[0];if(u=s(),Da){es(!0);try{s()}finally{es(!1)}}return o.memoizedState=[u,r],u}function Qm(s,r,o){return o===void 0||(Oi&1073741824)!==0&&(qe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=zx(),Pe.lanes|=s,Er|=s,o)}function zb(s,r,o,u){return Fn(o,r)?o:Mo.current!==null?(s=Qm(s,o,u),Fn(s,r)||(Bt=!0),s):(Oi&42)===0||(Oi&1073741824)!==0&&(qe&261930)===0?(Bt=!0,s.memoizedState=o):(s=zx(),Pe.lanes|=s,Er|=s,r)}function Bb(s,r,o,u,f){var g=ae.p;ae.p=g!==0&&8>g?g:8;var T=X.T,C={};X.T=C,Jm(s,!1,r,o);try{var L=f(),K=X.S;if(K!==null&&K(C,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Z=VR(L,u);yc(s,r,Z,Yn(s))}else yc(s,r,u,Yn(s))}catch(ie){yc(s,r,{then:function(){},status:"rejected",reason:ie},Yn())}finally{ae.p=g,T!==null&&C.types!==null&&(T.types=C.types),X.T=T}}function FR(){}function Xm(s,r,o,u){if(s.tag!==5)throw Error(i(476));var f=Fb(s).queue;Bb(s,f,r,se,o===null?FR:function(){return qb(s),o(u)})}function Fb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:se},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function qb(s){var r=Fb(s);r.next===null&&(r=s.alternate.memoizedState),yc(s,r.next.queue,{},Yn())}function Wm(){return cn(kc)}function Hb(){return Mt().memoizedState}function Gb(){return Mt().memoizedState}function qR(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Yn();s=vr(o);var u=br(r,s,o);u!==null&&(jn(u,r,o),dc(u,r,o)),r={cache:Am()},s.payload=r;return}r=r.return}}function HR(s,r,o){var u=Yn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lh(s)?Kb(r,o):(o=pm(s,r,o,u),o!==null&&(jn(o,s,u),Yb(o,r,u)))}function $b(s,r,o){var u=Yn();yc(s,r,o,u)}function yc(s,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lh(s))Kb(r,f);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,C=g(T,o);if(f.hasEagerState=!0,f.eagerState=C,Fn(C,T))return vh(s,r,f,0),ft===null&&yh(),!1}catch{}finally{}if(o=pm(s,r,f,u),o!==null)return jn(o,s,u),Yb(o,r,u),!0}return!1}function Jm(s,r,o,u){if(u={lane:2,revertLane:Ip(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Lh(s)){if(r)throw Error(i(479))}else r=pm(s,o,u,2),r!==null&&jn(r,s,2)}function Lh(s){var r=s.alternate;return s===Pe||r!==null&&r===Pe}function Kb(s,r){Oo=Dh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Yb(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Ul(s,o)}}var vc={readContext:cn,use:kh,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};vc.useEffectEvent=St;var Qb={readContext:cn,use:kh,useCallback:function(s,r){return An().memoizedState=[s,r===void 0?null:r],s},useContext:cn,useEffect:Mb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Vh(4194308,4,Vb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Vh(4194308,4,s,r)},useInsertionEffect:function(s,r){Vh(4,2,s,r)},useMemo:function(s,r){var o=An();r=r===void 0?null:r;var u=s();if(Da){es(!0);try{s()}finally{es(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=An();if(o!==void 0){var f=o(r);if(Da){es(!0);try{o(r)}finally{es(!1)}}}else f=r;return u.memoizedState=u.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},u.queue=s,s=s.dispatch=HR.bind(null,Pe,s),[u.memoizedState,s]},useRef:function(s){var r=An();return s={current:s},r.memoizedState=s},useState:function(s){s=Gm(s);var r=s.queue,o=$b.bind(null,Pe,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Ym,useDeferredValue:function(s,r){var o=An();return Qm(o,s,r)},useTransition:function(){var s=Gm(!1);return s=Bb.bind(null,Pe,s.queue,!0,!1),An().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Pe,f=An();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),ft===null)throw Error(i(349));(qe&127)!==0||gb(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,Mb(vb.bind(null,u,g,s),[s]),u.flags|=2048,jo(9,{destroy:void 0},yb.bind(null,u,g,o,r),null),o},useId:function(){var s=An(),r=ft.identifierPrefix;if(Qe){var o=ri,u=ii;o=(u&~(1<<32-Nt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Mh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=PR++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Wm,useFormState:Cb,useActionState:Cb,useOptimistic:function(s){var r=An();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Jm.bind(null,Pe,!0,o),o.dispatch=r,[s,r]},useMemoCache:Fm,useCacheRefresh:function(){return An().memoizedState=qR.bind(null,Pe)},useEffectEvent:function(s){var r=An(),o={impl:s};return r.memoizedState=o,function(){if((st&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Zm={readContext:cn,use:kh,useCallback:Lb,useContext:cn,useEffect:Km,useImperativeHandle:Pb,useInsertionEffect:kb,useLayoutEffect:jb,useMemo:Ub,useReducer:jh,useRef:Db,useState:function(){return jh(ki)},useDebugValue:Ym,useDeferredValue:function(s,r){var o=Mt();return zb(o,ut.memoizedState,s,r)},useTransition:function(){var s=jh(ki)[0],r=Mt().memoizedState;return[typeof s=="boolean"?s:gc(s),r]},useSyncExternalStore:pb,useId:Hb,useHostTransitionStatus:Wm,useFormState:Rb,useActionState:Rb,useOptimistic:function(s,r){var o=Mt();return _b(o,ut,s,r)},useMemoCache:Fm,useCacheRefresh:Gb};Zm.useEffectEvent=Ob;var Xb={readContext:cn,use:kh,useCallback:Lb,useContext:cn,useEffect:Km,useImperativeHandle:Pb,useInsertionEffect:kb,useLayoutEffect:jb,useMemo:Ub,useReducer:Hm,useRef:Db,useState:function(){return Hm(ki)},useDebugValue:Ym,useDeferredValue:function(s,r){var o=Mt();return ut===null?Qm(o,s,r):zb(o,ut.memoizedState,s,r)},useTransition:function(){var s=Hm(ki)[0],r=Mt().memoizedState;return[typeof s=="boolean"?s:gc(s),r]},useSyncExternalStore:pb,useId:Hb,useHostTransitionStatus:Wm,useFormState:Ib,useActionState:Ib,useOptimistic:function(s,r){var o=Mt();return ut!==null?_b(o,ut,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:Gb};Xb.useEffectEvent=Ob;function ep(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var tp={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Yn(),f=vr(u);f.payload=r,o!=null&&(f.callback=o),r=br(s,f,u),r!==null&&(jn(r,s,u),dc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Yn(),f=vr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=br(s,f,u),r!==null&&(jn(r,s,u),dc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Yn(),u=vr(o);u.tag=2,r!=null&&(u.callback=r),r=br(s,u,o),r!==null&&(jn(r,s,o),dc(r,s,o))}};function Wb(s,r,o,u,f,g,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!ic(o,u)||!ic(f,g):!0}function Jb(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&tp.enqueueReplaceState(r,r.state,null)}function Ma(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var f in s)o[f]===void 0&&(o[f]=s[f])}return o}function Zb(s){gh(s)}function ex(s){console.error(s)}function tx(s){gh(s)}function Uh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function nx(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function np(s,r,o){return o=vr(o),o.tag=3,o.payload={element:null},o.callback=function(){Uh(s,r)},o}function sx(s){return s=vr(s),s.tag=3,s}function ix(s,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;s.payload=function(){return f(g)},s.callback=function(){nx(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){nx(r,o,u),typeof f!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function GR(s,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Co(r,o,f,!0),o=Hn.current,o!==null){switch(o.tag){case 31:case 13:return us===null?Wh():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Ah?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Cp(s,u,f)),!1;case 22:return o.flags|=65536,u===Ah?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Cp(s,u,f)),!1}throw Error(i(435,o.tag))}return Cp(s,u,f),Wh(),!1}if(Qe)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==_m&&(s=Error(i(422),{cause:u}),oc(as(s,o)))):(u!==_m&&(r=Error(i(423),{cause:u}),oc(as(r,o))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,u=as(u,o),f=np(s.stateNode,u,f),Mm(s,f),At!==4&&(At=2)),!1;var g=Error(i(520),{cause:u});if(g=as(g,o),Ac===null?Ac=[g]:Ac.push(g),At!==4&&(At=2),r===null)return!0;u=as(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=f&-f,o.lanes|=s,s=np(o.stateNode,u,s),Mm(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sr===null||!Sr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=sx(f),ix(f,s,o,u),Mm(o,f),!1}o=o.return}while(o!==null);return!1}var sp=Error(i(461)),Bt=!1;function un(s,r,o,u){r.child=s===null?lb(r,null,o,u):Ia(r,s.child,o,u)}function rx(s,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var C in u)C!=="ref"&&(T[C]=u[C])}else T=u;return Aa(r),u=Lm(s,r,o,T,g,f),C=Um(),s!==null&&!Bt?(zm(s,r,f),ji(s,r,f)):(Qe&&C&&bm(r),r.flags|=1,un(s,r,u,f),r.child)}function ax(s,r,o,u,f){if(s===null){var g=o.type;return typeof g=="function"&&!gm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,ox(s,r,g,u,f)):(s=xh(o.type,null,u,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!hp(s,f)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:ic,o(T,u)&&s.ref===r.ref)return ji(s,r,f)}return r.flags|=1,s=Ni(g,u),s.ref=r.ref,s.return=r,r.child=s}function ox(s,r,o,u,f){if(s!==null){var g=s.memoizedProps;if(ic(g,u)&&s.ref===r.ref)if(Bt=!1,r.pendingProps=u=g,hp(s,f))(s.flags&131072)!==0&&(Bt=!0);else return r.lanes=s.lanes,ji(s,r,f)}return ip(s,r,o,u,f)}function lx(s,r,o,u){var f=u.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(u=r.child=s.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,r.child=null;return cx(s,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Eh(r,g!==null?g.cachePool:null),g!==null?hb(r,g):km(),db(r);else return u=r.lanes=536870912,cx(s,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Eh(r,g.cachePool),hb(r,g),_r(),r.memoizedState=null):(s!==null&&Eh(r,null),km(),_r());return un(s,r,f,o),r.child}function bc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function cx(s,r,o,u,f){var g=Rm();return g=g===null?null:{parent:Ut._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&Eh(r,null),km(),db(r),s!==null&&Co(s,r,u,!0),r.childLanes=f,null}function zh(s,r){return r=Fh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function ux(s,r,o){return Ia(r,s.child,null,o),s=zh(r,r.pendingProps),s.flags|=2,Gn(r),r.memoizedState=null,s}function $R(s,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=zh(r,u),r.lanes=536870912,bc(null,s);if(Vm(r),(s=pt)?(s=T_(s,cs),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},o=Kv(s),o.return=r,r.child=o,ln=r,pt=null)):s=null,s===null)throw pr(r);return r.lanes=536870912,null}return zh(r,u)}var g=s.memoizedState;if(g!==null){var T=g.dehydrated;if(Vm(r),f)if(r.flags&256)r.flags&=-257,r=ux(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Bt||Co(s,r,o,!1),f=(o&s.childLanes)!==0,Bt||f){if(u=ft,u!==null&&(T=zl(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ta(s,T),jn(u,s,T),sp;Wh(),r=ux(s,r,o)}else s=g.treeContext,pt=hs(T.nextSibling),ln=r,Qe=!0,mr=null,cs=!1,s!==null&&Xv(r,s),r=zh(r,u),r.flags|=4096;return r}return s=Ni(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Bh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function ip(s,r,o,u,f){return Aa(r),o=Lm(s,r,o,u,void 0,f),u=Um(),s!==null&&!Bt?(zm(s,r,f),ji(s,r,f)):(Qe&&u&&bm(r),r.flags|=1,un(s,r,o,f),r.child)}function hx(s,r,o,u,f,g){return Aa(r),r.updateQueue=null,o=mb(r,u,o,f),fb(s),u=Um(),s!==null&&!Bt?(zm(s,r,g),ji(s,r,g)):(Qe&&u&&bm(r),r.flags|=1,un(s,r,o,g),r.child)}function dx(s,r,o,u,f){if(Aa(r),r.stateNode===null){var g=wo,T=o.contextType;typeof T=="object"&&T!==null&&(g=cn(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Im(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?cn(T):wo,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(ep(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&tp.enqueueReplaceState(g,g.state,null),mc(r,u,g,f),fc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){g=r.stateNode;var C=r.memoizedProps,L=Ma(o,C);g.props=L;var K=g.context,Z=o.contextType;T=wo,typeof Z=="object"&&Z!==null&&(T=cn(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||K!==T)&&Jb(r,g,u,T),yr=!1;var Q=r.memoizedState;g.state=Q,mc(r,u,g,f),fc(),K=r.memoizedState,C||Q!==K||yr?(typeof ie=="function"&&(ep(r,o,ie,u),K=r.memoizedState),(L=yr||Wb(r,o,L,u,Q,K,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=T,u=L):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Dm(s,r),T=r.memoizedProps,Z=Ma(o,T),g.props=Z,ie=r.pendingProps,Q=g.context,K=o.contextType,L=wo,typeof K=="object"&&K!==null&&(L=cn(K)),C=o.getDerivedStateFromProps,(K=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ie||Q!==L)&&Jb(r,g,u,L),yr=!1,Q=r.memoizedState,g.state=Q,mc(r,u,g,f),fc();var J=r.memoizedState;T!==ie||Q!==J||yr||s!==null&&s.dependencies!==null&&Th(s.dependencies)?(typeof C=="function"&&(ep(r,o,C,u),J=r.memoizedState),(Z=yr||Wb(r,o,Z,u,Q,J,L)||s!==null&&s.dependencies!==null&&Th(s.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,L)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=J),g.props=u,g.state=J,g.context=L,u=Z):(typeof g.componentDidUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),u=!1)}return g=u,Bh(s,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&u?(r.child=Ia(r,s.child,null,f),r.child=Ia(r,null,o,f)):un(s,r,o,f),r.memoizedState=g.state,s=r.child):s=ji(s,r,f),s}function fx(s,r,o,u){return Ea(),r.flags|=256,un(s,r,o,u),r.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(s){return{baseLanes:s,cachePool:nb()}}function op(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Kn),s}function mx(s,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=s!==null&&s.memoizedState===null?!1:(Dt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qe){if(f?xr(r):_r(),(s=pt)?(s=T_(s,cs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},o=Kv(s),o.return=r,r.child=o,ln=r,pt=null)):s=null,s===null)throw pr(r);return qp(s)?r.lanes=32:r.lanes=536870912,null}var C=u.children;return u=u.fallback,f?(_r(),f=r.mode,C=Fh({mode:"hidden",children:C},f),u=wa(u,f,o,null),C.return=r,u.return=r,C.sibling=u,r.child=C,u=r.child,u.memoizedState=ap(o),u.childLanes=op(s,T,o),r.memoizedState=rp,bc(null,u)):(xr(r),lp(r,C))}var L=s.memoizedState;if(L!==null&&(C=L.dehydrated,C!==null)){if(g)r.flags&256?(xr(r),r.flags&=-257,r=cp(s,r,o)):r.memoizedState!==null?(_r(),r.child=s.child,r.flags|=128,r=null):(_r(),C=u.fallback,f=r.mode,u=Fh({mode:"visible",children:u.children},f),C=wa(C,f,o,null),C.flags|=2,u.return=r,C.return=r,u.sibling=C,r.child=u,Ia(r,s.child,null,o),u=r.child,u.memoizedState=ap(o),u.childLanes=op(s,T,o),r.memoizedState=rp,r=bc(null,u));else if(xr(r),qp(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(i(419)),u.stack="",u.digest=T,oc({value:u,source:null,stack:null}),r=cp(s,r,o)}else if(Bt||Co(s,r,o,!1),T=(o&s.childLanes)!==0,Bt||T){if(T=ft,T!==null&&(u=zl(T,o),u!==0&&u!==L.retryLane))throw L.retryLane=u,Ta(s,u),jn(T,s,u),sp;Fp(C)||Wh(),r=cp(s,r,o)}else Fp(C)?(r.flags|=192,r.child=s.child,r=null):(s=L.treeContext,pt=hs(C.nextSibling),ln=r,Qe=!0,mr=null,cs=!1,s!==null&&Xv(r,s),r=lp(r,u.children),r.flags|=4096);return r}return f?(_r(),C=u.fallback,f=r.mode,L=s.child,K=L.sibling,u=Ni(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,K!==null?C=Ni(K,C):(C=wa(C,f,o,null),C.flags|=2),C.return=r,u.return=r,u.sibling=C,r.child=u,bc(null,u),u=r.child,C=s.child.memoizedState,C===null?C=ap(o):(f=C.cachePool,f!==null?(L=Ut._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=nb(),C={baseLanes:C.baseLanes|o,cachePool:f}),u.memoizedState=C,u.childLanes=op(s,T,o),r.memoizedState=rp,bc(s.child,u)):(xr(r),o=s.child,s=o.sibling,o=Ni(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function lp(s,r){return r=Fh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Fh(s,r){return s=qn(22,s,null,r),s.lanes=0,s}function cp(s,r,o){return Ia(r,s.child,null,o),s=lp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function px(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Em(s.return,r,o)}function up(s,r,o,u,f,g){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=g)}function gx(s,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var T=Dt.current,C=(T&2)!==0;if(C?(T=T&1|2,r.flags|=128):T&=1,ce(Dt,T),un(s,r,u,o),u=Qe?ac:0,!C&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&px(s,o,r);else if(s.tag===19)px(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)s=o.alternate,s!==null&&Ih(s)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),up(r,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&Ih(s)===null){r.child=f;break}s=f.sibling,f.sibling=o,o=f,f=s}up(r,!0,o,null,g,u);break;case"together":up(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ji(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Er|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Co(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ni(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ni(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function hp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Th(s)))}function KR(s,r,o){switch(r.tag){case 3:bt(r,r.stateNode.containerInfo),gr(r,Ut,s.memoizedState.cache),Ea();break;case 27:case 5:En(r);break;case 4:bt(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Vm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(xr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?mx(s,r,o):(xr(r),s=ji(s,r,o),s!==null?s.sibling:null);xr(r);break;case 19:var f=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Co(s,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return gx(s,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Dt,Dt.current),u)break;return null;case 22:return r.lanes=0,lx(s,r,o,r.pendingProps);case 24:gr(r,Ut,s.memoizedState.cache)}return ji(s,r,o)}function yx(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Bt=!0;else{if(!hp(s,o)&&(r.flags&128)===0)return Bt=!1,KR(s,r,o);Bt=(s.flags&131072)!==0}else Bt=!1,Qe&&(r.flags&1048576)!==0&&Qv(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Ra(r.elementType),r.type=s,typeof s=="function")gm(s)?(u=Ma(s,u),r.tag=1,r=dx(null,r,s,u,o)):(r.tag=0,r=ip(null,r,s,u,o));else{if(s!=null){var f=s.$$typeof;if(f===ee){r.tag=11,r=rx(null,r,s,u,o);break e}else if(f===D){r.tag=14,r=ax(null,r,s,u,o);break e}}throw r=Se(s)||s,Error(i(306,r,""))}}return r;case 0:return ip(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Ma(u,r.pendingProps),dx(s,r,u,f,o);case 3:e:{if(bt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,Dm(s,r),mc(r,u,null,o);var T=r.memoizedState;if(u=T.cache,gr(r,Ut,u),u!==g.cache&&Sm(r,[Ut],o,!0),fc(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=fx(s,r,u,o);break e}else if(u!==f){f=as(Error(i(424)),r),oc(f),r=fx(s,r,u,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pt=hs(s.firstChild),ln=r,Qe=!0,mr=null,cs=!0,o=lb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ea(),u===f){r=ji(s,r,o);break e}un(s,r,u,o)}r=r.child}return r;case 26:return Bh(s,r),s===null?(o=R_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Qe||(o=r.type,s=r.pendingProps,u=id(Ce.current).createElement(o),u[Vt]=r,u[tn]=s,hn(u,o,s),Pt(u),r.stateNode=u):r.memoizedState=R_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return En(r),s===null&&Qe&&(u=r.stateNode=S_(r.type,r.pendingProps,Ce.current),ln=r,cs=!0,f=pt,Nr(r.type)?(Hp=f,pt=hs(u.firstChild)):pt=f),un(s,r,r.pendingProps.children,o),Bh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qe&&((f=u=pt)&&(u=wN(u,r.type,r.pendingProps,cs),u!==null?(r.stateNode=u,ln=r,pt=hs(u.firstChild),cs=!1,f=!0):f=!1),f||pr(r)),En(r),f=r.type,g=r.pendingProps,T=s!==null?s.memoizedProps:null,u=g.children,Up(f,g)?u=null:T!==null&&Up(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Lm(s,r,LR,null,null,o),kc._currentValue=f),Bh(s,r),un(s,r,u,o),r.child;case 6:return s===null&&Qe&&((s=o=pt)&&(o=EN(o,r.pendingProps,cs),o!==null?(r.stateNode=o,ln=r,pt=null,s=!0):s=!1),s||pr(r)),null;case 13:return mx(s,r,o);case 4:return bt(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Ia(r,null,u,o):un(s,r,u,o),r.child;case 11:return rx(s,r,r.type,r.pendingProps,o);case 7:return un(s,r,r.pendingProps,o),r.child;case 8:return un(s,r,r.pendingProps.children,o),r.child;case 12:return un(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,gr(r,r.type,u.value),un(s,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Aa(r),f=cn(f),u=u(f),r.flags|=1,un(s,r,u,o),r.child;case 14:return ax(s,r,r.type,r.pendingProps,o);case 15:return ox(s,r,r.type,r.pendingProps,o);case 19:return gx(s,r,o);case 31:return $R(s,r,o);case 22:return lx(s,r,o,r.pendingProps);case 24:return Aa(r),u=cn(Ut),s===null?(f=Rm(),f===null&&(f=ft,g=Am(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},Im(r),gr(r,Ut,f)):((s.lanes&o)!==0&&(Dm(s,r),mc(r,null,null,o),fc()),f=s.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),gr(r,Ut,u)):(u=g.cache,gr(r,Ut,u),u!==f.cache&&Sm(r,[Ut],o,!0))),un(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Vi(s){s.flags|=4}function dp(s,r,o,u,f){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(f&335544128)===f)if(s.stateNode.complete)s.flags|=8192;else if(Hx())s.flags|=8192;else throw Na=Ah,Nm}else s.flags&=-16777217}function vx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!O_(r))if(Hx())s.flags|=8192;else throw Na=Ah,Nm}function qh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Qu():536870912,s.lanes|=r,Uo|=r)}function xc(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function gt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var f=s.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function YR(s,r,o){var u=r.pendingProps;switch(xm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Mi(Ut),tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Ao(r)?Vi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tm())),gt(r),null;case 26:var f=r.type,g=r.memoizedState;return s===null?(Vi(r),g!==null?(gt(r),vx(r,g)):(gt(r),dp(r,f,null,u,o))):g?g!==s.memoizedState?(Vi(r),gt(r),vx(r,g)):(gt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&Vi(r),gt(r),dp(r,f,s,u,o)),null;case 27:if(Jn(r),o=Ce.current,f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Vi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return gt(r),null}s=ue.current,Ao(r)?Wv(r):(s=S_(f,u,o),r.stateNode=s,Vi(r))}return gt(r),null;case 5:if(Jn(r),f=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&Vi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return gt(r),null}if(g=ue.current,Ao(r))Wv(r);else{var T=id(Ce.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}g[Vt]=r,g[tn]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;e:switch(hn(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Vi(r)}}return gt(r),dp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&Vi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Ce.current,Ao(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,f=ln,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}s[Vt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||m_(s.nodeValue,o)),s||pr(r,!0)}else s=id(s).createTextNode(u),s[Vt]=r,r.stateNode=s}return gt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Ao(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Vt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),s=!1}else o=Tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Gn(r),r):(Gn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return gt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=Ao(r),u!==null&&u.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Vt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),f=!1}else f=Tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Gn(r),r):(Gn(r),null)}return Gn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),qh(r,r.updateQueue),gt(r),null);case 4:return tt(),s===null&&kp(r.stateNode.containerInfo),gt(r),null;case 10:return Mi(r.type),gt(r),null;case 19:if(te(Dt),u=r.memoizedState,u===null)return gt(r),null;if(f=(r.flags&128)!==0,g=u.rendering,g===null)if(f)xc(u,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=Ih(s),g!==null){for(r.flags|=128,xc(u,!1),s=g.updateQueue,r.updateQueue=s,qh(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)$v(o,s),o=o.sibling;return ce(Dt,Dt.current&1|2),Qe&&Ii(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Rt()>Yh&&(r.flags|=128,f=!0,xc(u,!1),r.lanes=4194304)}else{if(!f)if(s=Ih(g),s!==null){if(r.flags|=128,f=!0,s=s.updateQueue,r.updateQueue=s,qh(r,s),xc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Qe)return gt(r),null}else 2*Rt()-u.renderingStartTime>Yh&&o!==536870912&&(r.flags|=128,f=!0,xc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(s=u.last,s!==null?s.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Rt(),s.sibling=null,o=Dt.current,ce(Dt,f?o&1|2:o&1),Qe&&Ii(r,u.treeForkCount),s):(gt(r),null);case 22:case 23:return Gn(r),jm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),o=r.updateQueue,o!==null&&qh(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&te(Ca),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Mi(Ut),gt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function QR(s,r){switch(xm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Mi(Ut),tt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Jn(r),null;case 31:if(r.memoizedState!==null){if(Gn(r),r.alternate===null)throw Error(i(340));Ea()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Gn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ea()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return te(Dt),null;case 4:return tt(),null;case 10:return Mi(r.type),null;case 22:case 23:return Gn(r),jm(),s!==null&&te(Ca),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Mi(Ut),null;case 25:return null;default:return null}}function bx(s,r){switch(xm(r),r.tag){case 3:Mi(Ut),tt();break;case 26:case 27:case 5:Jn(r);break;case 4:tt();break;case 31:r.memoizedState!==null&&Gn(r);break;case 13:Gn(r);break;case 19:te(Dt);break;case 10:Mi(r.type);break;case 22:case 23:Gn(r),jm(),s!==null&&te(Ca);break;case 24:Mi(Ut)}}function _c(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&s)===s){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==f)}}catch(C){ot(r,r.return,C)}}function Tr(s,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&s)===s){var T=u.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,f=r;var L=o,K=C;try{K()}catch(Z){ot(f,L,Z)}}}u=u.next}while(u!==g)}}catch(Z){ot(r,r.return,Z)}}function xx(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{ub(r,o)}catch(u){ot(s,s.return,u)}}}function _x(s,r,o){o.props=Ma(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){ot(s,r,u)}}function Tc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(f){ot(s,r,f)}}function ai(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ot(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ot(s,r,f)}else o.current=null}function Tx(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ot(s,s.return,f)}}function fp(s,r,o){try{var u=s.stateNode;yN(u,s.type,o,r),u[tn]=r}catch(f){ot(s,s.return,f)}}function wx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Nr(s.type)||s.tag===4}function mp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Nr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ts));else if(u!==4&&(u===27&&Nr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(pp(s,r,o),s=s.sibling;s!==null;)pp(s,r,o),s=s.sibling}function Hh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Nr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Hh(s,r,o),s=s.sibling;s!==null;)Hh(s,r,o),s=s.sibling}function Ex(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);hn(r,u,o),r[Vt]=s,r[tn]=o}catch(g){ot(s,s.return,g)}}var Pi=!1,Ft=!1,gp=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,sn=null;function XR(s,r){if(s=s.containerInfo,Pp=hd,s=Pv(s),cm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,C=-1,L=-1,K=0,Z=0,ie=s,Q=null;t:for(;;){for(var J;ie!==o||f!==0&&ie.nodeType!==3||(C=T+f),ie!==g||u!==0&&ie.nodeType!==3||(L=T+u),ie.nodeType===3&&(T+=ie.nodeValue.length),(J=ie.firstChild)!==null;)Q=ie,ie=J;for(;;){if(ie===s)break t;if(Q===o&&++K===f&&(C=T),Q===g&&++Z===u&&(L=T),(J=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=J}o=C===-1||L===-1?null:{start:C,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Lp={focusedElem:s,selectionRange:o},hd=!1,sn=r;sn!==null;)if(r=sn,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,sn=s;else for(;sn!==null;){switch(r=sn,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)f=s[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var pe=Ma(o.type,f);s=u.getSnapshotBeforeUpdate(pe,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ee){ot(o,o.return,Ee)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Bp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Bp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,sn=s;break}sn=r.return}}function Ax(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ui(s,o),u&4&&_c(5,o);break;case 1:if(Ui(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){ot(o,o.return,T)}else{var f=Ma(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ot(o,o.return,T)}}u&64&&xx(o),u&512&&Tc(o,o.return);break;case 3:if(Ui(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{ub(s,r)}catch(T){ot(o,o.return,T)}}break;case 27:r===null&&u&4&&Ex(o);case 26:case 5:Ui(s,o),r===null&&u&4&&Tx(o),u&512&&Tc(o,o.return);break;case 12:Ui(s,o);break;case 31:Ui(s,o),u&4&&Nx(s,o);break;case 13:Ui(s,o),u&4&&Ix(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=rN.bind(null,o),SN(s,o))));break;case 22:if(u=o.memoizedState!==null||Pi,!u){r=r!==null&&r.memoizedState!==null||Ft,f=Pi;var g=Ft;Pi=u,(Ft=r)&&!g?zi(s,o,(o.subtreeFlags&8772)!==0):Ui(s,o),Pi=f,Ft=g}break;case 30:break;default:Ui(s,o)}}function Cx(s){var r=s.alternate;r!==null&&(s.alternate=null,Cx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&lo(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var _t=null,Dn=!1;function Li(s,r,o){for(o=o.child;o!==null;)Rx(s,r,o),o=o.sibling}function Rx(s,r,o){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(vs,o)}catch{}switch(o.tag){case 26:Ft||ai(o,r),Li(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||ai(o,r);var u=_t,f=Dn;Nr(o.type)&&(_t=o.stateNode,Dn=!1),Li(s,r,o),Dc(o.stateNode),_t=u,Dn=f;break;case 5:Ft||ai(o,r);case 6:if(u=_t,f=Dn,_t=null,Li(s,r,o),_t=u,Dn=f,_t!==null)if(Dn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(g){ot(o,r,g)}else try{_t.removeChild(o.stateNode)}catch(g){ot(o,r,g)}break;case 18:_t!==null&&(Dn?(s=_t,x_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ko(s)):x_(_t,o.stateNode));break;case 4:u=_t,f=Dn,_t=o.stateNode.containerInfo,Dn=!0,Li(s,r,o),_t=u,Dn=f;break;case 0:case 11:case 14:case 15:Tr(2,o,r),Ft||Tr(4,o,r),Li(s,r,o);break;case 1:Ft||(ai(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&_x(o,r,u)),Li(s,r,o);break;case 21:Li(s,r,o);break;case 22:Ft=(u=Ft)||o.memoizedState!==null,Li(s,r,o),Ft=u;break;default:Li(s,r,o)}}function Nx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ko(s)}catch(o){ot(r,r.return,o)}}}function Ix(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ko(s)}catch(o){ot(r,r.return,o)}}function WR(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Sx),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Sx),r;default:throw Error(i(435,s.tag))}}function Gh(s,r){var o=WR(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=aN.bind(null,s,u);u.then(f,f)}})}function Mn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=s,T=r,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(Nr(C.type)){_t=C.stateNode,Dn=!1;break e}break;case 5:_t=C.stateNode,Dn=!1;break e;case 3:case 4:_t=C.stateNode.containerInfo,Dn=!0;break e}C=C.return}if(_t===null)throw Error(i(160));Rx(g,T,f),_t=null,Dn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Dx(r,s),r=r.sibling}var Rs=null;function Dx(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Mn(r,s),On(s),u&4&&(Tr(3,s,s.return),_c(3,s),Tr(5,s,s.return));break;case 1:Mn(r,s),On(s),u&512&&(Ft||o===null||ai(o,o.return)),u&64&&Pi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Rs;if(Mn(r,s),On(s),u&512&&(Ft||o===null||ai(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[$s]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),hn(g,u,o),g[Vt]=s,Pt(g),u=g;break e;case"link":var T=D_("link","href",f).get(u+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break t}}g=f.createElement(u),hn(g,u,o),f.head.appendChild(g);break;case"meta":if(T=D_("meta","content",f).get(u+(o.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break t}}g=f.createElement(u),hn(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[Vt]=s,Pt(g),u=g}s.stateNode=u}else M_(f,s.type,s.stateNode);else s.stateNode=I_(f,u,s.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?M_(f,s.type,s.stateNode):I_(f,u,s.memoizedProps)):u===null&&s.stateNode!==null&&fp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Mn(r,s),On(s),u&512&&(Ft||o===null||ai(o,o.return)),o!==null&&u&4&&fp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Mn(r,s),On(s),u&512&&(Ft||o===null||ai(o,o.return)),s.flags&32){f=s.stateNode;try{In(f,"")}catch(pe){ot(s,s.return,pe)}}u&4&&s.stateNode!=null&&(f=s.memoizedProps,fp(s,f,o!==null?o.memoizedProps:f)),u&1024&&(gp=!0);break;case 6:if(Mn(r,s),On(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(pe){ot(s,s.return,pe)}}break;case 3:if(od=null,f=Rs,Rs=rd(r.containerInfo),Mn(r,s),Rs=f,On(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ko(r.containerInfo)}catch(pe){ot(s,s.return,pe)}gp&&(gp=!1,Mx(s));break;case 4:u=Rs,Rs=rd(s.stateNode.containerInfo),Mn(r,s),On(s),Rs=u;break;case 12:Mn(r,s),On(s);break;case 31:Mn(r,s),On(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Gh(s,u)));break;case 13:Mn(r,s),On(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kh=Rt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Gh(s,u)));break;case 22:f=s.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,K=Pi,Z=Ft;if(Pi=K||f,Ft=Z||L,Mn(r,s),Ft=Z,Pi=K,On(s),u&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||L||Pi||Ft||Oa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){L=o=r;try{if(g=L.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=L.stateNode;var ie=L.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;C.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){ot(L,L.return,pe)}}}else if(r.tag===6){if(o===null){L=r;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(pe){ot(L,L.return,pe)}}}else if(r.tag===18){if(o===null){L=r;try{var J=L.stateNode;f?__(J,!0):__(L.stateNode,!1)}catch(pe){ot(L,L.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gh(s,o))));break;case 19:Mn(r,s),On(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Gh(s,u)));break;case 30:break;case 21:break;default:Mn(r,s),On(s)}}function On(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(wx(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=mp(s);Hh(s,g,f);break;case 5:var T=o.stateNode;o.flags&32&&(In(T,""),o.flags&=-33);var C=mp(s);Hh(s,C,T);break;case 3:case 4:var L=o.stateNode.containerInfo,K=mp(s);pp(s,K,L);break;default:throw Error(i(161))}}catch(Z){ot(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Mx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Mx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ui(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ax(s,r.alternate,r),r=r.sibling}function Oa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Tr(4,r,r.return),Oa(r);break;case 1:ai(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&_x(r,r.return,o),Oa(r);break;case 27:Dc(r.stateNode);case 26:case 5:ai(r,r.return),Oa(r);break;case 22:r.memoizedState===null&&Oa(r);break;case 30:Oa(r);break;default:Oa(r)}s=s.sibling}}function zi(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=s,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:zi(f,g,o),_c(4,g);break;case 1:if(zi(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){ot(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var C=u.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)cb(L[f],C)}catch(K){ot(u,u.return,K)}}o&&T&64&&xx(g),Tc(g,g.return);break;case 27:Ex(g);case 26:case 5:zi(f,g,o),o&&u===null&&T&4&&Tx(g),Tc(g,g.return);break;case 12:zi(f,g,o);break;case 31:zi(f,g,o),o&&T&4&&Nx(f,g);break;case 13:zi(f,g,o),o&&T&4&&Ix(f,g);break;case 22:g.memoizedState===null&&zi(f,g,o),Tc(g,g.return);break;case 30:break;default:zi(f,g,o)}r=r.sibling}}function yp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&lc(o))}function vp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&lc(s))}function Ns(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ox(s,r,o,u),r=r.sibling}function Ox(s,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ns(s,r,o,u),f&2048&&_c(9,r);break;case 1:Ns(s,r,o,u);break;case 3:Ns(s,r,o,u),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&lc(s)));break;case 12:if(f&2048){Ns(s,r,o,u),s=r.stateNode;try{var g=r.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){ot(r,r.return,L)}}else Ns(s,r,o,u);break;case 31:Ns(s,r,o,u);break;case 13:Ns(s,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?Ns(s,r,o,u):wc(s,r):g._visibility&2?Ns(s,r,o,u):(g._visibility|=2,Vo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&yp(T,r);break;case 24:Ns(s,r,o,u),f&2048&&vp(r.alternate,r);break;default:Ns(s,r,o,u)}}function Vo(s,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,T=r,C=o,L=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Vo(g,T,C,L,f),_c(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Vo(g,T,C,L,f):wc(g,T):(Z._visibility|=2,Vo(g,T,C,L,f)),f&&K&2048&&yp(T.alternate,T);break;case 24:Vo(g,T,C,L,f),f&&K&2048&&vp(T.alternate,T);break;default:Vo(g,T,C,L,f)}r=r.sibling}}function wc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,f=u.flags;switch(u.tag){case 22:wc(o,u),f&2048&&yp(u.alternate,u);break;case 24:wc(o,u),f&2048&&vp(u.alternate,u);break;default:wc(o,u)}r=r.sibling}}var Ec=8192;function Po(s,r,o){if(s.subtreeFlags&Ec)for(s=s.child;s!==null;)kx(s,r,o),s=s.sibling}function kx(s,r,o){switch(s.tag){case 26:Po(s,r,o),s.flags&Ec&&s.memoizedState!==null&&PN(o,Rs,s.memoizedState,s.memoizedProps);break;case 5:Po(s,r,o);break;case 3:case 4:var u=Rs;Rs=rd(s.stateNode.containerInfo),Po(s,r,o),Rs=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Ec,Ec=16777216,Po(s,r,o),Ec=u):Po(s,r,o));break;default:Po(s,r,o)}}function jx(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Sc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];sn=u,Px(u,s)}jx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vx(s),s=s.sibling}function Vx(s){switch(s.tag){case 0:case 11:case 15:Sc(s),s.flags&2048&&Tr(9,s,s.return);break;case 3:Sc(s);break;case 12:Sc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,$h(s)):Sc(s);break;default:Sc(s)}}function $h(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];sn=u,Px(u,s)}jx(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Tr(8,r,r.return),$h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$h(r));break;default:$h(r)}s=s.sibling}}function Px(s,r){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:Tr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,sn=u;else e:for(o=s;sn!==null;){u=sn;var f=u.sibling,g=u.return;if(Cx(u),u===o){sn=null;break e}if(f!==null){f.return=g,sn=f;break e}sn=g}}}var JR={getCacheForType:function(s){var r=cn(Ut),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return cn(Ut).controller.signal}},ZR=typeof WeakMap=="function"?WeakMap:Map,st=0,ft=null,Be=null,qe=0,at=0,$n=null,wr=!1,Lo=!1,bp=!1,Bi=0,At=0,Er=0,ka=0,xp=0,Kn=0,Uo=0,Ac=null,kn=null,_p=!1,Kh=0,Lx=0,Yh=1/0,Qh=null,Sr=null,Qt=0,Ar=null,zo=null,Fi=0,Tp=0,wp=null,Ux=null,Cc=0,Ep=null;function Yn(){return(st&2)!==0&&qe!==0?qe&-qe:X.T!==null?Ip():Xu()}function zx(){if(Kn===0)if((qe&536870912)===0||Qe){var s=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Kn=s}else Kn=536870912;return s=Hn.current,s!==null&&(s.flags|=32),Kn}function jn(s,r,o){(s===ft&&(at===2||at===9)||s.cancelPendingCommit!==null)&&(Bo(s,0),Cr(s,qe,Kn,!1)),la(s,o),((st&2)===0||s!==ft)&&(s===ft&&((st&2)===0&&(ka|=o),At===4&&Cr(s,qe,Kn,!1)),oi(s))}function Bx(s,r,o){if((st&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||bs(s,r),f=u?nN(s,r):Ap(s,r,!0),g=u;do{if(f===0){Lo&&!u&&Cr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!eN(o)){f=Ap(s,r,!1),g=!1;continue}if(f===2){if(g=r,s.errorRecoveryDisabledLanes&g)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var C=s;f=Ac;var L=C.current.memoizedState.isDehydrated;if(L&&(Bo(C,T).flags|=256),T=Ap(C,T,!1),T!==2){if(bp&&!L){C.errorRecoveryDisabledLanes|=g,ka|=g,f=4;break e}g=kn,kn=f,g!==null&&(kn===null?kn=g:kn.push.apply(kn,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){Bo(s,0),Cr(s,r,0,!0);break}e:{switch(u=s,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Cr(u,r,Kn,!wr);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Kh+300-Rt(),10<f)){if(Cr(u,r,Kn,!wr),qs(u,0,!0)!==0)break e;Fi=r,u.timeoutHandle=v_(Fx.bind(null,u,o,kn,Qh,_p,r,Kn,ka,Uo,wr,g,"Throttled",-0,0),f);break e}Fx(u,o,kn,Qh,_p,r,Kn,ka,Uo,wr,g,null,-0,0)}}break}while(!0);oi(s)}function Fx(s,r,o,u,f,g,T,C,L,K,Z,ie,Q,J){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ts},kx(r,g,ie);var pe=(g&62914560)===g?Kh-Rt():(g&4194048)===g?Lx-Rt():0;if(pe=LN(ie,pe),pe!==null){Fi=g,s.cancelPendingCommit=pe(Xx.bind(null,s,r,g,o,u,f,T,C,L,Z,ie,null,Q,J)),Cr(s,g,T,!K);return}}Xx(s,r,g,o,u,f,T,C,L)}function eN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Fn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cr(s,r,o,u){r&=~xp,r&=~ka,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var f=r;0<f;){var g=31-Nt(f),T=1<<g;u[g]=-1,f&=~T}o!==0&&ca(s,o,r)}function Xh(){return(st&6)===0?(Rc(0),!1):!0}function Sp(){if(Be!==null){if(at===0)var s=Be.return;else s=Be,Di=Sa=null,Bm(s),Do=null,uc=0,s=Be;for(;s!==null;)bx(s.alternate,s),s=s.return;Be=null}}function Bo(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,xN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Fi=0,Sp(),ft=s,Be=o=Ni(s.current,null),qe=r,at=0,$n=null,wr=!1,Lo=bs(s,r),bp=!1,Uo=Kn=xp=ka=Er=At=0,kn=Ac=null,_p=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var f=31-Nt(u),g=1<<f;r|=s[f],u&=~g}return Bi=r,yh(),o}function qx(s,r){Pe=null,X.H=vc,r===Io||r===Sh?(r=rb(),at=3):r===Nm?(r=rb(),at=4):at=r===sp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,$n=r,Be===null&&(At=1,Uh(s,as(r,s.current)))}function Hx(){var s=Hn.current;return s===null?!0:(qe&4194048)===qe?us===null:(qe&62914560)===qe||(qe&536870912)!==0?s===us:!1}function Gx(){var s=X.H;return X.H=vc,s===null?vc:s}function $x(){var s=X.A;return X.A=JR,s}function Wh(){At=4,wr||(qe&4194048)!==qe&&Hn.current!==null||(Lo=!0),(Er&134217727)===0&&(ka&134217727)===0||ft===null||Cr(ft,qe,Kn,!1)}function Ap(s,r,o){var u=st;st|=2;var f=Gx(),g=$x();(ft!==s||qe!==r)&&(Qh=null,Bo(s,r)),r=!1;var T=At;e:do try{if(at!==0&&Be!==null){var C=Be,L=$n;switch(at){case 8:Sp(),T=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(r=!0);var K=at;if(at=0,$n=null,Fo(s,C,L,K),o&&Lo){T=0;break e}break;default:K=at,at=0,$n=null,Fo(s,C,L,K)}}tN(),T=At;break}catch(Z){qx(s,Z)}while(!0);return r&&s.shellSuspendCounter++,Di=Sa=null,st=u,X.H=f,X.A=g,Be===null&&(ft=null,qe=0,yh()),T}function tN(){for(;Be!==null;)Kx(Be)}function nN(s,r){var o=st;st|=2;var u=Gx(),f=$x();ft!==s||qe!==r?(Qh=null,Yh=Rt()+500,Bo(s,r)):Lo=bs(s,r);e:do try{if(at!==0&&Be!==null){r=Be;var g=$n;t:switch(at){case 1:at=0,$n=null,Fo(s,r,g,1);break;case 2:case 9:if(sb(g)){at=0,$n=null,Yx(r);break}r=function(){at!==2&&at!==9||ft!==s||(at=7),oi(s)},g.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:sb(g)?(at=0,$n=null,Yx(r)):(at=0,$n=null,Fo(s,r,g,7));break;case 5:var T=null;switch(Be.tag){case 26:T=Be.memoizedState;case 5:case 27:var C=Be;if(T?O_(T):C.stateNode.complete){at=0,$n=null;var L=C.sibling;if(L!==null)Be=L;else{var K=C.return;K!==null?(Be=K,Jh(K)):Be=null}break t}}at=0,$n=null,Fo(s,r,g,5);break;case 6:at=0,$n=null,Fo(s,r,g,6);break;case 8:Sp(),At=6;break e;default:throw Error(i(462))}}sN();break}catch(Z){qx(s,Z)}while(!0);return Di=Sa=null,X.H=u,X.A=f,st=o,Be!==null?0:(ft=null,qe=0,yh(),At)}function sN(){for(;Be!==null&&!Us();)Kx(Be)}function Kx(s){var r=yx(s.alternate,s,Bi);s.memoizedProps=s.pendingProps,r===null?Jh(s):Be=r}function Yx(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=hx(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=hx(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Bm(r);default:bx(o,r),r=Be=$v(r,Bi),r=yx(o,r,Bi)}s.memoizedProps=s.pendingProps,r===null?Jh(s):Be=r}function Fo(s,r,o,u){Di=Sa=null,Bm(r),Do=null,uc=0;var f=r.return;try{if(GR(s,f,r,o,qe)){At=1,Uh(s,as(o,s.current)),Be=null;return}}catch(g){if(f!==null)throw Be=f,g;At=1,Uh(s,as(o,s.current)),Be=null;return}r.flags&32768?(Qe||u===1?s=!0:Lo||(qe&536870912)!==0?s=!1:(wr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Qx(r,s)):Jh(r)}function Jh(s){var r=s;do{if((r.flags&32768)!==0){Qx(r,wr);return}s=r.return;var o=YR(r.alternate,r,Bi);if(o!==null){Be=o;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=s}while(r!==null);At===0&&(At=5)}function Qx(s,r){do{var o=QR(s.alternate,s);if(o!==null){o.flags&=32767,Be=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Be=s;return}Be=s=o}while(s!==null);At=6,Be=null}function Xx(s,r,o,u,f,g,T,C,L){s.cancelPendingCommit=null;do Zh();while(Qt!==0);if((st&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=mm,rm(s,o,g,T,C,L),s===ft&&(Be=ft=null,qe=0),zo=r,Ar=s,Fi=o,Tp=g,wp=f,Ux=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,oN(zs,function(){return t_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=ae.p,ae.p=2,T=st,st|=4;try{XR(s,r,o)}finally{st=T,ae.p=f,X.T=u}}Qt=1,Wx(),Jx(),Zx()}}function Wx(){if(Qt===1){Qt=0;var s=Ar,r=zo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ae.p;ae.p=2;var f=st;st|=4;try{Dx(r,s);var g=Lp,T=Pv(s.containerInfo),C=g.focusedElem,L=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&Vv(C.ownerDocument.documentElement,C)){if(L!==null&&cm(C)){var K=L.start,Z=L.end;if(Z===void 0&&(Z=K),"selectionStart"in C)C.selectionStart=K,C.selectionEnd=Math.min(Z,C.value.length);else{var ie=C.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),pe=C.textContent.length,Ee=Math.min(L.start,pe),dt=L.end===void 0?Ee:Math.min(L.end,pe);!J.extend&&Ee>dt&&(T=dt,dt=Ee,Ee=T);var H=jv(C,Ee),B=jv(C,dt);if(H&&B&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var $=ie.createRange();$.setStart(H.node,H.offset),J.removeAllRanges(),Ee>dt?(J.addRange($),J.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),J.addRange($))}}}}for(ie=[],J=C;J=J.parentNode;)J.nodeType===1&&ie.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ie.length;C++){var ne=ie[C];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}hd=!!Pp,Lp=Pp=null}finally{st=f,ae.p=u,X.T=o}}s.current=r,Qt=2}}function Jx(){if(Qt===2){Qt=0;var s=Ar,r=zo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ae.p;ae.p=2;var f=st;st|=4;try{Ax(s,r.alternate,r)}finally{st=f,ae.p=u,X.T=o}}Qt=3}}function Zx(){if(Qt===4||Qt===3){Qt=0,ro();var s=Ar,r=zo,o=Fi,u=Ux;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qt=5:(Qt=0,zo=Ar=null,e_(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(Sr=null),Si(o),r=r.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(vs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=X.T,f=ae.p,ae.p=2,X.T=null;try{for(var g=s.onRecoverableError,T=0;T<u.length;T++){var C=u[T];g(C.value,{componentStack:C.stack})}}finally{X.T=r,ae.p=f}}(Fi&3)!==0&&Zh(),oi(s),f=s.pendingLanes,(o&261930)!==0&&(f&42)!==0?s===Ep?Cc++:(Cc=0,Ep=s):Cc=0,Rc(0)}}function e_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,lc(r)))}function Zh(){return Wx(),Jx(),Zx(),t_()}function t_(){if(Qt!==5)return!1;var s=Ar,r=Tp;Tp=0;var o=Si(Fi),u=X.T,f=ae.p;try{ae.p=32>o?32:o,X.T=null,o=wp,wp=null;var g=Ar,T=Fi;if(Qt=0,zo=Ar=null,Fi=0,(st&6)!==0)throw Error(i(331));var C=st;if(st|=4,Vx(g.current),Ox(g,g.current,T,o),st=C,Rc(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(vs,g)}catch{}return!0}finally{ae.p=f,X.T=u,e_(s,r)}}function n_(s,r,o){r=as(o,r),r=np(s.stateNode,r,2),s=br(s,r,2),s!==null&&(la(s,2),oi(s))}function ot(s,r,o){if(s.tag===3)n_(s,s,o);else for(;r!==null;){if(r.tag===3){n_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sr===null||!Sr.has(u))){s=as(o,s),o=sx(2),u=br(r,o,2),u!==null&&(ix(o,u,r,s),la(u,2),oi(u));break}}r=r.return}}function Cp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new ZR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(bp=!0,f.add(o),s=iN.bind(null,s,r,o),r.then(s,s))}function iN(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ft===s&&(qe&o)===o&&(At===4||At===3&&(qe&62914560)===qe&&300>Rt()-Kh?(st&2)===0&&Bo(s,0):xp|=o,Uo===qe&&(Uo=0)),oi(s)}function s_(s,r){r===0&&(r=Qu()),s=Ta(s,r),s!==null&&(la(s,r),oi(s))}function rN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),s_(s,o)}function aN(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,f=s.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),s_(s,o)}function oN(s,r){return lt(s,r)}var ed=null,qo=null,Rp=!1,td=!1,Np=!1,Rr=0;function oi(s){s!==qo&&s.next===null&&(qo===null?ed=qo=s:qo=qo.next=s),td=!0,Rp||(Rp=!0,cN())}function Rc(s,r){if(!Np&&td){Np=!0;do for(var o=!1,u=ed;u!==null;){if(s!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var T=u.suspendedLanes,C=u.pingedLanes;g=(1<<31-Nt(42|s)+1)-1,g&=f&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,o_(u,g))}else g=qe,g=qs(u,u===ft?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||bs(u,g)||(o=!0,o_(u,g));u=u.next}while(o);Np=!1}}function lN(){i_()}function i_(){td=Rp=!1;var s=0;Rr!==0&&bN()&&(s=Rr);for(var r=Rt(),o=null,u=ed;u!==null;){var f=u.next,g=r_(u,r);g===0?(u.next=null,o===null?ed=f:o.next=f,f===null&&(qo=o)):(o=u,(s!==0||(g&3)!==0)&&(td=!0)),u=f}Qt!==0&&Qt!==5||Rc(s),Rr!==0&&(Rr=0)}function r_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,f=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var T=31-Nt(g),C=1<<T,L=f[T];L===-1?((C&o)===0||(C&u)!==0)&&(f[T]=im(C,r)):L<=r&&(s.expiredLanes|=C),g&=~C}if(r=ft,o=qe,o=qs(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(at===2||at===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Yt(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||bs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&Yt(u),Si(o)){case 2:case 8:o=Ei;break;case 32:o=zs;break;case 268435456:o=Hu;break;default:o=zs}return u=a_.bind(null,s),o=lt(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&Yt(u),s.callbackPriority=2,s.callbackNode=null,2}function a_(s,r){if(Qt!==0&&Qt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Zh()&&s.callbackNode!==o)return null;var u=qe;return u=qs(s,s===ft?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Bx(s,u,r),r_(s,Rt()),s.callbackNode!=null&&s.callbackNode===o?a_.bind(null,s):null)}function o_(s,r){if(Zh())return null;Bx(s,r,!0)}function cN(){_N(function(){(st&6)!==0?lt(wi,lN):i_()})}function Ip(){if(Rr===0){var s=Ro;s===0&&(s=Bs,Bs<<=1,(Bs&261888)===0&&(Bs=256)),Rr=s}return Rr}function l_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:fo(""+s)}function c_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function uN(s,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=l_((f[tn]||null).action),T=u.submitter;T&&(r=(r=T[tn]||null)?l_(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var C=new ei("action","action",null,u,f);s.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Rr!==0){var L=T?c_(f,T):new FormData(f);Xm(o,{pending:!0,data:L,method:f.method,action:g},null,L)}}else typeof g=="function"&&(C.preventDefault(),L=T?c_(f,T):new FormData(f),Xm(o,{pending:!0,data:L,method:f.method,action:g},g,L))},currentTarget:f}]})}}for(var Dp=0;Dp<fm.length;Dp++){var Mp=fm[Dp],hN=Mp.toLowerCase(),dN=Mp[0].toUpperCase()+Mp.slice(1);Cs(hN,"on"+dN)}Cs(zv,"onAnimationEnd"),Cs(Bv,"onAnimationIteration"),Cs(Fv,"onAnimationStart"),Cs("dblclick","onDoubleClick"),Cs("focusin","onFocus"),Cs("focusout","onBlur"),Cs(RR,"onTransitionRun"),Cs(NR,"onTransitionStart"),Cs(IR,"onTransitionCancel"),Cs(qv,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function u_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var C=u[T],L=C.instance,K=C.currentTarget;if(C=C.listener,L!==g&&f.isPropagationStopped())break e;g=C,f.currentTarget=K;try{g(f)}catch(Z){gh(Z)}f.currentTarget=null,g=L}else for(T=0;T<u.length;T++){if(C=u[T],L=C.instance,K=C.currentTarget,C=C.listener,L!==g&&f.isPropagationStopped())break e;g=C,f.currentTarget=K;try{g(f)}catch(Z){gh(Z)}f.currentTarget=null,g=L}}}}function Fe(s,r){var o=r[oo];o===void 0&&(o=r[oo]=new Set);var u=s+"__bubble";o.has(u)||(h_(r,s,2,!1),o.add(u))}function Op(s,r,o){var u=0;r&&(u|=4),h_(o,s,u,r)}var nd="_reactListening"+Math.random().toString(36).slice(2);function kp(s){if(!s[nd]){s[nd]=!0,Bl.forEach(function(o){o!=="selectionchange"&&(fN.has(o)||Op(o,!1,s),Op(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[nd]||(r[nd]=!0,Op("selectionchange",!1,r))}}function h_(s,r,o,u){switch(z_(r)){case 2:var f=BN;break;case 8:f=FN;break;default:f=Qp}o=f.bind(null,r,o,s),f=void 0,!ma||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?s.addEventListener(r,o,{capture:!0,passive:f}):s.addEventListener(r,o,!0):f!==void 0?s.addEventListener(r,o,{passive:f}):s.addEventListener(r,o,!1)}function jp(s,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var C=u.stateNode.containerInfo;if(C===f)break;if(T===4)for(T=u.return;T!==null;){var L=T.tag;if((L===3||L===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;C!==null;){if(T=Ks(C),T===null)return;if(L=T.tag,L===5||L===6||L===26||L===27){u=g=T;continue e}C=C.parentNode}}u=u.return}cr(function(){var K=g,Z=ns(o),ie=[];e:{var Q=Hv.get(s);if(Q!==void 0){var J=ei,pe=s;switch(s){case"keypress":if(ga(o)===0)break e;case"keydown":case"keyup":J=fh;break;case"focusin":pe="focus",J=va;break;case"focusout":pe="blur",J=va;break;case"beforeblur":case"afterblur":J=va;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=x;break;case zv:case Bv:case Fv:J=ah;break;case qv:J=R;break;case"scroll":case"scrollend":J=Zl;break;case"wheel":J=W;break;case"copy":case"cut":case"paste":J=oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ri;break;case"toggle":case"beforetoggle":J=Ve}var Ee=(r&4)!==0,dt=!Ee&&(s==="scroll"||s==="scrollend"),H=Ee?Q!==null?Q+"Capture":null:Q;Ee=[];for(var B=K,$;B!==null;){var ne=B;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||H===null||(ne=ws(B,H),ne!=null&&Ee.push(Ic(B,ne,$))),dt)break;B=B.return}0<Ee.length&&(Q=new J(Q,pe,null,o,Z),ie.push({event:Q,listeners:Ee}))}}if((r&7)===0){e:{if(Q=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",Q&&o!==Xl&&(pe=o.relatedTarget||o.fromElement)&&(Ks(pe)||pe[Gs]))break e;if((J||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(pe=o.relatedTarget||o.toElement,J=K,pe=pe?Ks(pe):null,pe!==null&&(dt=l(pe),Ee=pe.tag,pe!==dt||Ee!==5&&Ee!==27&&Ee!==6)&&(pe=null)):(J=null,pe=K),J!==pe)){if(Ee=ec,ne="onMouseLeave",H="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=Ri,ne="onPointerLeave",H="onPointerEnter",B="pointer"),dt=J==null?Q:zn(J),$=pe==null?Q:zn(pe),Q=new Ee(ne,B+"leave",J,o,Z),Q.target=dt,Q.relatedTarget=$,ne=null,Ks(Z)===K&&(Ee=new Ee(H,B+"enter",pe,o,Z),Ee.target=$,Ee.relatedTarget=dt,ne=Ee),dt=ne,J&&pe)t:{for(Ee=mN,H=J,B=pe,$=0,ne=H;ne;ne=Ee(ne))$++;ne=0;for(var _e=B;_e;_e=Ee(_e))ne++;for(;0<$-ne;)H=Ee(H),$--;for(;0<ne-$;)B=Ee(B),ne--;for(;$--;){if(H===B||B!==null&&H===B.alternate){Ee=H;break t}H=Ee(H),B=Ee(B)}Ee=null}else Ee=null;J!==null&&d_(ie,Q,J,Ee,!1),pe!==null&&dt!==null&&d_(ie,dt,pe,Ee,!0)}}e:{if(Q=K?zn(K):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var Ze=Nv;else if(Cv(Q))if(Iv)Ze=SR;else{Ze=wR;var be=TR}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&ho(K.elementType)&&(Ze=Nv):Ze=ER;if(Ze&&(Ze=Ze(s,K))){Rv(ie,Ze,o,Z);break e}be&&be(s,Q,K),s==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Kl(Q,"number",Q.value)}switch(be=K?zn(K):window,s){case"focusin":(Cv(be)||be.contentEditable==="true")&&(xo=be,um=K,rc=null);break;case"focusout":rc=um=xo=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,Lv(ie,o,Z);break;case"selectionchange":if(CR)break;case"keydown":case"keyup":Lv(ie,o,Z)}var Ue;if(nt)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else bo?ba(s,o)&&(He="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(He="onCompositionStart");He&&(si&&o.locale!=="ko"&&(bo||He!=="onCompositionStart"?He==="onCompositionEnd"&&bo&&(Ue=Jl()):(Zs=Z,Wl="value"in Zs?Zs.value:Zs.textContent,bo=!0)),be=sd(K,He),0<be.length&&(He=new ni(He,s,null,o,Z),ie.push({event:He,listeners:be}),Ue?He.data=Ue:(Ue=vo(o),Ue!==null&&(He.data=Ue)))),(Ue=is?vR(s,o):bR(s,o))&&(He=sd(K,"onBeforeInput"),0<He.length&&(be=new ni("onBeforeInput","beforeinput",null,o,Z),ie.push({event:be,listeners:He}),be.data=Ue)),uN(ie,s,K,o,Z)}u_(ie,r)})}function Ic(s,r,o){return{instance:s,listener:r,currentTarget:o}}function sd(s,r){for(var o=r+"Capture",u=[];s!==null;){var f=s,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ws(s,o),f!=null&&u.unshift(Ic(s,f,g)),f=ws(s,r),f!=null&&u.push(Ic(s,f,g))),s.tag===3)return u;s=s.return}return[]}function mN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function d_(s,r,o,u,f){for(var g=r._reactName,T=[];o!==null&&o!==u;){var C=o,L=C.alternate,K=C.stateNode;if(C=C.tag,L!==null&&L===u)break;C!==5&&C!==26&&C!==27||K===null||(L=K,f?(K=ws(o,g),K!=null&&T.unshift(Ic(o,K,L))):f||(K=ws(o,g),K!=null&&T.push(Ic(o,K,L)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var pN=/\r\n?/g,gN=/\u0000|\uFFFD/g;function f_(s){return(typeof s=="string"?s:""+s).replace(pN,`
`).replace(gN,"")}function m_(s,r){return r=f_(r),f_(s)===r}function ht(s,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||In(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&In(s,""+u);break;case"className":Bn(s,"class",u);break;case"tabIndex":Bn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(s,o,u);break;case"style":Ql(s,u,g);break;case"data":if(r!=="object"){Bn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=fo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ht(s,r,"name",f.name,f,null),ht(s,r,"formEncType",f.formEncType,f,null),ht(s,r,"formMethod",f.formMethod,f,null),ht(s,r,"formTarget",f.formTarget,f,null)):(ht(s,r,"encType",f.encType,f,null),ht(s,r,"method",f.method,f,null),ht(s,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=fo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Ts);break;case"onScroll":u!=null&&Fe("scroll",s);break;case"onScrollEnd":u!=null&&Fe("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=fo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Fe("beforetoggle",s),Fe("toggle",s),co(s,"popover",u);break;case"xlinkActuate":Lt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Lt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Lt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Lt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Lt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Lt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Lt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Lt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Lt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":co(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sh.get(o)||o,co(s,o,u))}}function Vp(s,r,o,u,f,g){switch(o){case"style":Ql(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?In(s,u):(typeof u=="number"||typeof u=="bigint")&&In(s,""+u);break;case"onScroll":u!=null&&Fe("scroll",s);break;case"onScrollEnd":u!=null&&Fe("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=s[tn]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,f);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):co(s,o,u)}}}function hn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",s),Fe("load",s);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ht(s,r,g,T,o,null)}}f&&ht(s,r,"srcSet",o.srcSet,o,null),u&&ht(s,r,"src",o.src,o,null);return;case"input":Fe("invalid",s);var C=g=T=f=null,L=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":T=Z;break;case"checked":L=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":C=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:ht(s,r,u,Z,o,null)}}eh(s,g,C,L,K,T,f,!1);return;case"select":Fe("invalid",s),u=T=g=null;for(f in o)if(o.hasOwnProperty(f)&&(C=o[f],C!=null))switch(f){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":u=C;default:ht(s,r,f,C,o,null)}r=g,o=T,s.multiple=!!u,r!=null?rr(s,!!u,r,!1):o!=null&&rr(s,!!u,o,!0);return;case"textarea":Fe("invalid",s),g=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":u=C;break;case"defaultValue":f=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ht(s,r,T,C,o,null)}ar(s,u,f,g);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(s,r,L,u,o,null)}return;case"dialog":Fe("beforetoggle",s),Fe("toggle",s),Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":Fe("load",s);break;case"video":case"audio":for(u=0;u<Nc.length;u++)Fe(Nc[u],s);break;case"image":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"embed":case"source":case"link":Fe("error",s),Fe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ht(s,r,K,u,o,null)}return;default:if(ho(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Vp(s,r,Z,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&ht(s,r,C,u,o,null))}function yN(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,C=null,L=null,K=null,Z=null;for(J in o){var ie=o[J];if(o.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=ie;default:u.hasOwnProperty(J)||ht(s,r,J,null,u,ie)}}for(var Q in u){var J=u[Q];if(ie=o[Q],u.hasOwnProperty(Q)&&(J!=null||ie!=null))switch(Q){case"type":g=J;break;case"name":f=J;break;case"checked":K=J;break;case"defaultChecked":Z=J;break;case"value":T=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:J!==ie&&ht(s,r,Q,J,u,ie)}}uo(s,T,C,L,K,Z,g,f);return;case"select":J=T=C=Q=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":J=L;default:u.hasOwnProperty(g)||ht(s,r,g,null,u,L)}for(f in u)if(g=u[f],L=o[f],u.hasOwnProperty(f)&&(g!=null||L!=null))switch(f){case"value":Q=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==L&&ht(s,r,f,g,u,L)}r=C,o=T,u=J,Q!=null?rr(s,!!o,Q,!1):!!u!=!!o&&(r!=null?rr(s,!!o,r,!0):rr(s,!!o,o?[]:"",!1));return;case"textarea":J=Q=null;for(C in o)if(f=o[C],o.hasOwnProperty(C)&&f!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ht(s,r,C,null,u,f)}for(T in u)if(f=u[T],g=o[T],u.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":Q=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&ht(s,r,T,f,u,g)}th(s,Q,J);return;case"option":for(var pe in o)if(Q=o[pe],o.hasOwnProperty(pe)&&Q!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":s.selected=!1;break;default:ht(s,r,pe,null,u,Q)}for(L in u)if(Q=u[L],J=o[L],u.hasOwnProperty(L)&&Q!==J&&(Q!=null||J!=null))switch(L){case"selected":s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ht(s,r,L,Q,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)Q=o[Ee],o.hasOwnProperty(Ee)&&Q!=null&&!u.hasOwnProperty(Ee)&&ht(s,r,Ee,null,u,Q);for(K in u)if(Q=u[K],J=o[K],u.hasOwnProperty(K)&&Q!==J&&(Q!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:ht(s,r,K,Q,u,J)}return;default:if(ho(r)){for(var dt in o)Q=o[dt],o.hasOwnProperty(dt)&&Q!==void 0&&!u.hasOwnProperty(dt)&&Vp(s,r,dt,void 0,u,Q);for(Z in u)Q=u[Z],J=o[Z],!u.hasOwnProperty(Z)||Q===J||Q===void 0&&J===void 0||Vp(s,r,Z,Q,u,J);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&ht(s,r,H,null,u,Q);for(ie in u)Q=u[ie],J=o[ie],!u.hasOwnProperty(ie)||Q===J||Q==null&&J==null||ht(s,r,ie,Q,u,J)}function p_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,T=f.initiatorType,C=f.duration;if(g&&C&&p_(T)){for(T=0,C=f.responseEnd,u+=1;u<o.length;u++){var L=o[u],K=L.startTime;if(K>C)break;var Z=L.transferSize,ie=L.initiatorType;Z&&p_(ie)&&(L=L.responseEnd,T+=Z*(L<C?1:(C-K)/(L-K)))}if(--u,r+=8*(g+T)/(f.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Pp=null,Lp=null;function id(s){return s.nodeType===9?s:s.ownerDocument}function g_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Up(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zp=null;function bN(){var s=window.event;return s&&s.type==="popstate"?s===zp?!1:(zp=s,!0):(zp=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,_N=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(s){return b_.resolve(null).then(s).catch(TN)}:v_;function TN(s){setTimeout(function(){throw s})}function Nr(s){return s==="head"}function x_(s,r){var o=r,u=0;do{var f=o.nextSibling;if(s.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(f),Ko(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Dc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Dc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[$s]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Dc(s.ownerDocument.body);o=f}while(o);Ko(r)}function __(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Bp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bp(o),lo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function wN(s,r,o,u){for(;s.nodeType===1;){var f=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[$s])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=hs(s.nextSibling),s===null)break}return null}function EN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=hs(s.nextSibling),s===null))return null;return s}function T_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=hs(s.nextSibling),s===null))return null;return s}function Fp(s){return s.data==="$?"||s.data==="$~"}function qp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function SN(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function hs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Hp=null;function w_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return hs(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function E_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function S_(s,r,o){switch(r=id(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Dc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);lo(s)}var ds=new Map,A_=new Set;function rd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var qi=ae.d;ae.d={f:AN,r:CN,D:RN,C:NN,L:IN,m:DN,X:ON,S:MN,M:kN};function AN(){var s=qi.f(),r=Xh();return s||r}function CN(s){var r=ts(s);r!==null&&r.tag===5&&r.type==="form"?qb(r):qi.r(s)}var Ho=typeof document>"u"?null:document;function C_(s,r,o){var u=Ho;if(u&&typeof r=="string"&&r){var f=Nn(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),A_.has(f)||(A_.add(f),s={rel:s,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),hn(r,"link",s),Pt(r),u.head.appendChild(r)))}}function RN(s){qi.D(s),C_("dns-prefetch",s,null)}function NN(s,r){qi.C(s,r),C_("preconnect",s,r)}function IN(s,r,o){qi.L(s,r,o);var u=Ho;if(u&&s&&r){var f='link[rel="preload"][as="'+Nn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Nn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Nn(o.imageSizes)+'"]')):f+='[href="'+Nn(s)+'"]';var g=f;switch(r){case"style":g=Go(s);break;case"script":g=$o(s)}ds.has(g)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ds.set(g,s),u.querySelector(f)!==null||r==="style"&&u.querySelector(Mc(g))||r==="script"&&u.querySelector(Oc(g))||(r=u.createElement("link"),hn(r,"link",s),Pt(r),u.head.appendChild(r)))}}function DN(s,r){qi.m(s,r);var o=Ho;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Nn(u)+'"][href="'+Nn(s)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=$o(s)}if(!ds.has(g)&&(s=b({rel:"modulepreload",href:s},r),ds.set(g,s),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Oc(g)))return}u=o.createElement("link"),hn(u,"link",s),Pt(u),o.head.appendChild(u)}}}function MN(s,r,o){qi.S(s,r,o);var u=Ho;if(u&&s){var f=Ys(u).hoistableStyles,g=Go(s);r=r||"default";var T=f.get(g);if(!T){var C={loading:0,preload:null};if(T=u.querySelector(Mc(g)))C.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ds.get(g))&&Gp(s,o);var L=T=u.createElement("link");Pt(L),hn(L,"link",s),L._p=new Promise(function(K,Z){L.onload=K,L.onerror=Z}),L.addEventListener("load",function(){C.loading|=1}),L.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ad(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:C},f.set(g,T)}}}function ON(s,r){qi.X(s,r);var o=Ho;if(o&&s){var u=Ys(o).hoistableScripts,f=$o(s),g=u.get(f);g||(g=o.querySelector(Oc(f)),g||(s=b({src:s,async:!0},r),(r=ds.get(f))&&$p(s,r),g=o.createElement("script"),Pt(g),hn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function kN(s,r){qi.M(s,r);var o=Ho;if(o&&s){var u=Ys(o).hoistableScripts,f=$o(s),g=u.get(f);g||(g=o.querySelector(Oc(f)),g||(s=b({src:s,async:!0,type:"module"},r),(r=ds.get(f))&&$p(s,r),g=o.createElement("script"),Pt(g),hn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function R_(s,r,o,u){var f=(f=Ce.current)?rd(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Go(o.href),o=Ys(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Go(o.href);var g=Ys(f).hoistableStyles,T=g.get(s);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,T),(g=f.querySelector(Mc(s)))&&!g._p&&(T.instance=g,T.state.loading=5),ds.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ds.set(s,o),g||jN(f,s,o,T.state))),r&&u===null)throw Error(i(528,""));return T}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$o(o),o=Ys(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Go(s){return'href="'+Nn(s)+'"'}function Mc(s){return'link[rel="stylesheet"]['+s+"]"}function N_(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function jN(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),hn(r,"link",o),Pt(r),s.head.appendChild(r))}function $o(s){return'[src="'+Nn(s)+'"]'}function Oc(s){return"script[async]"+s}function I_(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Nn(o.href)+'"]');if(u)return r.instance=u,Pt(u),u;var f=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Pt(u),hn(u,"style",f),ad(u,o.precedence,s),r.instance=u;case"stylesheet":f=Go(o.href);var g=s.querySelector(Mc(f));if(g)return r.state.loading|=4,r.instance=g,Pt(g),g;u=N_(o),(f=ds.get(f))&&Gp(u,f),g=(s.ownerDocument||s).createElement("link"),Pt(g);var T=g;return T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),hn(g,"link",u),r.state.loading|=4,ad(g,o.precedence,s),r.instance=g;case"script":return g=$o(o.src),(f=s.querySelector(Oc(g)))?(r.instance=f,Pt(f),f):(u=o,(f=ds.get(g))&&(u=b({},o),$p(u,f)),s=s.ownerDocument||s,f=s.createElement("script"),Pt(f),hn(f,"link",u),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ad(u,o.precedence,s));return r.instance}function ad(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,T=0;T<u.length;T++){var C=u[T];if(C.dataset.precedence===r)g=C;else if(g!==f)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Gp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function $p(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var od=null;function D_(s,r,o){if(od===null){var u=new Map,f=od=new Map;f.set(o,u)}else f=od,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),f=0;f<o.length;f++){var g=o[f];if(!(g[$s]||g[Vt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=s+T;var C=u.get(T);C?C.push(g):u.set(T,[g])}}return u}function M_(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function VN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function O_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function PN(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Go(u.href),g=r.querySelector(Mc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=ld.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Pt(g);return}g=r.ownerDocument||r,u=N_(u),(f=ds.get(f))&&Gp(u,f),g=g.createElement("link"),Pt(g);var T=g;T._p=new Promise(function(C,L){T.onload=C,T.onerror=L}),hn(g,"link",u),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=ld.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Kp=0;function LN(s,r){return s.stylesheets&&s.count===0&&ud(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&ud(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Kp===0&&(Kp=62500*vN());var f=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ud(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Kp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var cd=null;function ud(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,cd=new Map,r.forEach(UN,s),cd=null,ld.call(s))}function UN(s,r){if(!(r.state.loading&4)){var o=cd.get(s);if(o)var u=o.get(null);else{o=new Map,cd.set(s,o);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=r.instance,T=f.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,f),o.set(T,f),this.count++,u=ld.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var kc={$$typeof:F,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function zN(s,r,o,u,f,g,T,C,L){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.hiddenUpdates=Hs(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function k_(s,r,o,u,f,g,T,C,L,K,Z,ie){return s=new zN(s,r,o,T,L,K,Z,ie,C),r=1,g===!0&&(r|=24),g=qn(3,null,null,r),s.current=g,g.stateNode=s,r=Am(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Im(g),s}function j_(s){return s?(s=wo,s):wo}function V_(s,r,o,u,f,g){f=j_(f),u.context===null?u.context=f:u.pendingContext=f,u=vr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=br(s,u,r),o!==null&&(jn(o,s,r),dc(o,s,r))}function P_(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Yp(s,r){P_(s,r),(s=s.alternate)&&P_(s,r)}function L_(s){if(s.tag===13||s.tag===31){var r=Ta(s,67108864);r!==null&&jn(r,s,67108864),Yp(s,67108864)}}function U_(s){if(s.tag===13||s.tag===31){var r=Yn();r=ua(r);var o=Ta(s,r);o!==null&&jn(o,s,r),Yp(s,r)}}var hd=!0;function BN(s,r,o,u){var f=X.T;X.T=null;var g=ae.p;try{ae.p=2,Qp(s,r,o,u)}finally{ae.p=g,X.T=f}}function FN(s,r,o,u){var f=X.T;X.T=null;var g=ae.p;try{ae.p=8,Qp(s,r,o,u)}finally{ae.p=g,X.T=f}}function Qp(s,r,o,u){if(hd){var f=Xp(u);if(f===null)jp(s,r,u,dd,o),B_(s,u);else if(HN(f,s,r,o,u))u.stopPropagation();else if(B_(s,u),r&4&&-1<qN.indexOf(s)){for(;f!==null;){var g=ts(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Fs(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var L=1<<31-Nt(T);C.entanglements[1]|=L,T&=~L}oi(g),(st&6)===0&&(Yh=Rt()+500,Rc(0))}}break;case 31:case 13:C=Ta(g,2),C!==null&&jn(C,g,2),Xh(),Yp(g,2)}if(g=Xp(u),g===null&&jp(s,r,u,dd,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else jp(s,r,u,null,o)}}function Xp(s){return s=ns(s),Wp(s)}var dd=null;function Wp(s){if(dd=null,s=Ks(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return dd=s,null}function z_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zn()){case wi:return 2;case Ei:return 8;case zs:case sm:return 32;case Hu:return 268435456;default:return 32}default:return 32}}var Jp=!1,Ir=null,Dr=null,Mr=null,jc=new Map,Vc=new Map,Or=[],qN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(s,r){switch(s){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":jc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(r.pointerId)}}function Pc(s,r,o,u,f,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=ts(r),r!==null&&L_(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function HN(s,r,o,u,f){switch(r){case"focusin":return Ir=Pc(Ir,s,r,o,u,f),!0;case"dragenter":return Dr=Pc(Dr,s,r,o,u,f),!0;case"mouseover":return Mr=Pc(Mr,s,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return jc.set(g,Pc(jc.get(g)||null,s,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Vc.set(g,Pc(Vc.get(g)||null,s,r,o,u,f)),!0}return!1}function F_(s){var r=Ks(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,xs(s.priority,function(){U_(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,xs(s.priority,function(){U_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Xp(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Xl=u,o.target.dispatchEvent(u),Xl=null}else return r=ts(o),r!==null&&L_(r),s.blockedOn=o,!1;r.shift()}return!0}function q_(s,r,o){fd(s)&&o.delete(r)}function GN(){Jp=!1,Ir!==null&&fd(Ir)&&(Ir=null),Dr!==null&&fd(Dr)&&(Dr=null),Mr!==null&&fd(Mr)&&(Mr=null),jc.forEach(q_),Vc.forEach(q_)}function md(s,r){s.blockedOn===r&&(s.blockedOn=null,Jp||(Jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GN)))}var pd=null;function H_(s){pd!==s&&(pd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pd===s&&(pd=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],f=s[r+2];if(typeof u!="function"){if(Wp(u||o)===null)continue;break}var g=ts(o);g!==null&&(s.splice(r,3),r-=3,Xm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ko(s){function r(L){return md(L,s)}Ir!==null&&md(Ir,s),Dr!==null&&md(Dr,s),Mr!==null&&md(Mr,s),jc.forEach(r),Vc.forEach(r);for(var o=0;o<Or.length;o++){var u=Or[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Or.length&&(o=Or[0],o.blockedOn===null);)F_(o),o.blockedOn===null&&Or.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],T=f[tn]||null;if(typeof g=="function")T||H_(o);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[tn]||null)C=T.formAction;else if(Wp(f)!==null)continue}else C=T.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),H_(o)}}}function G_(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Zp(s){this._internalRoot=s}gd.prototype.render=Zp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Yn();V_(o,u,s,r,null,null)},gd.prototype.unmount=Zp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;V_(s.current,2,null,s,null,null),Xh(),r[Gs]=null}};function gd(s){this._internalRoot=s}gd.prototype.unstable_scheduleHydration=function(s){if(s){var r=Xu();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Or.length&&r!==0&&r<Or[o].priority;o++);Or.splice(o,0,s),o===0&&F_(s)}};var $_=e.version;if($_!=="19.2.3")throw Error(i(527,$_,"19.2.3"));ae.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var $N={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{vs=yd.inject($N),an=yd}catch{}}return Uc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",f=Zb,g=ex,T=tx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=k_(s,1,!1,null,null,o,u,null,f,g,T,G_),s[Gs]=r.current,kp(s),new Zp(r)},Uc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,f="",g=Zb,T=ex,C=tx,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),r=k_(s,1,!0,r,o??null,u,f,L,g,T,C,G_),r.context=j_(null),o=r.current,u=Yn(),u=ua(u),f=vr(u),f.callback=null,br(o,f,u),o=u,r.current.lanes=o,la(r,o),oi(r),s[Gs]=r.current,kp(s),new gd(r)},Uc.version="19.2.3",Uc}var nT;function sI(){if(nT)return ng.exports;nT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=nI(),ng.exports}var iI=sI();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sT="popstate";function rI(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return qg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:cu(a)}return oI(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ps(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aI(){return Math.random().toString(36).substring(2,10)}function iT(t,e){return{usr:t.state,key:t.key,idx:e}}function qg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:n,key:e&&e.key||i||aI()}}function cu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function oI(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let k=v(),U=k==null?null:k-p;p=k,m&&m({action:d,location:V.location,delta:U})}function _(k,U){d="PUSH";let q=qg(V.location,k,U);p=v()+1;let F=iT(q,p),ee=V.createHref(q);try{c.pushState(F,"",ee)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(ee)}l&&m&&m({action:d,location:V.location,delta:1})}function S(k,U){d="REPLACE";let q=qg(V.location,k,U);p=v();let F=iT(q,p),ee=V.createHref(q);c.replaceState(F,"",ee),l&&m&&m({action:d,location:V.location,delta:0})}function I(k){return lI(k)}let V={get action(){return d},get location(){return t(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(sT,b),m=k,()=>{a.removeEventListener(sT,b),m=null}},createHref(k){return e(a,k)},createURL:I,encodeLocation(k){let U=I(k);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:_,replace:S,go(k){return c.go(k)}};return V}function lI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:cu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function wE(t,e,n="/"){return cI(t,e,n,!1)}function cI(t,e,n,i){let a=typeof e=="string"?Tl(e):e,l=Wi(a.pathname||"/",n);if(l==null)return null;let c=EE(t);uI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=_I(l);d=bI(c[m],p,i)}return d}function EE(t,e=[],n=[],i="",a=!1){let l=(c,d,m=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;Tt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Yi([i,v.relativePath]),_=n.concat(v);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),EE(c.children,e,_,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:yI(b,c.index),routesMeta:_})};return t.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,d);else for(let p of SE(c.path))l(c,d,!0,p)}),e}function SE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=SE(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function uI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var hI=/^:[\w-]+$/,dI=3,fI=2,mI=1,pI=10,gI=-2,rT=t=>t==="*";function yI(t,e){let n=t.split("/"),i=n.length;return n.some(rT)&&(i+=gI),e&&(i+=fI),n.filter(a=>!rT(a)).reduce((a,l)=>a+(hI.test(l)?dI:l===""?mI:pI),i)}function vI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function bI(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Jd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),_=m.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=Jd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Yi([l,b.pathname]),pathnameBase:SI(Yi([l,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(l=Yi([l,b.pathnameBase]))}return c}function Jd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=xI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},_)=>{if(v==="*"){let I=d[_]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const S=d[_];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function xI(t,e=!1,n=!0){Ps(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function _I(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ps(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var TI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function wI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Tl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=aT(n.substring(1),"/"):l=aT(n,e)):l=e,{pathname:l,search:AI(i),hash:CI(a)}}function aT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ag(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fy(t){let e=EI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function qy(t,e,n,i=!1){let a;typeof t=="string"?a=Tl(t):(a={...t},Tt(!a.pathname||!a.pathname.includes("?"),ag("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),ag("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),ag("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let m=wI(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Yi=t=>t.join("/").replace(/\/\/+/g,"/"),SI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,RI=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function NI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function II(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function CE(t,e){let n=t;if(typeof n!="string"||!TI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(AE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Wi(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{Ps(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RE=["POST","PUT","PATCH","DELETE"];new Set(RE);var DI=["GET",...RE];new Set(DI);var wl=O.createContext(null);wl.displayName="DataRouter";var If=O.createContext(null);If.displayName="DataRouterState";var MI=O.createContext(!1),NE=O.createContext({isTransitioning:!1});NE.displayName="ViewTransition";var OI=O.createContext(new Map);OI.displayName="Fetchers";var kI=O.createContext(null);kI.displayName="Await";var Wn=O.createContext(null);Wn.displayName="Navigation";var Su=O.createContext(null);Su.displayName="Location";var bi=O.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var Hy=O.createContext(null);Hy.displayName="RouteError";var IE="REACT_ROUTER_ERROR",jI="REDIRECT",VI="ROUTE_ERROR_RESPONSE";function PI(t){if(t.startsWith(`${IE}:${jI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function LI(t){if(t.startsWith(`${IE}:${VI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new RI(e.status,e.statusText,e.data)}catch{}}function UI(t,{relative:e}={}){Tt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(Wn),{hash:a,pathname:l,search:c}=Cu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Yi([n,l])),i.createHref({pathname:d,search:c,hash:a})}function El(){return O.useContext(Su)!=null}function sr(){return Tt(El(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Su).location}var DE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ME(t){O.useContext(Wn).static||O.useLayoutEffect(t)}function Au(){let{isDataRoute:t}=O.useContext(bi);return t?JI():zI()}function zI(){Tt(El(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(wl),{basename:e,navigator:n}=O.useContext(Wn),{matches:i}=O.useContext(bi),{pathname:a}=sr(),l=JSON.stringify(Fy(i)),c=O.useRef(!1);return ME(()=>{c.current=!0}),O.useCallback((m,p={})=>{if(Ps(c.current,DE),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=qy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yi([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}O.createContext(null);function Cu(t,{relative:e}={}){let{matches:n}=O.useContext(bi),{pathname:i}=sr(),a=JSON.stringify(Fy(n));return O.useMemo(()=>qy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function BI(t,e){return OE(t,e)}function OE(t,e,n,i,a){var q;Tt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Wn),{matches:c}=O.useContext(bi),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let F=b&&b.path||"";jE(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=sr(),S;if(e){let F=typeof e=="string"?Tl(e):e;Tt(v==="/"||((q=F.pathname)==null?void 0:q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=_;let I=S.pathname||"/",V=I;if(v!=="/"){let F=v.replace(/^\//,"").split("/");V="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=wE(t,{pathname:V});Ps(b||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ps(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=$I(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Yi([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Yi([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,i,a);return e&&U?O.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function FI(){let t=WI(),e=NI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,c)}var qI=O.createElement(FI,null),kE=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=LI(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(bi.Provider,{value:this.props.routeContext},O.createElement(Hy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(HI,{error:t},e):e}};kE.contextType=MI;var og=new WeakMap;function HI({children:t,error:e}){let{basename:n}=O.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=PI(e.digest);if(i){let a=og.get(e);if(a)throw a;let l=CE(i.location,n);if(AE&&!og.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw og.set(e,c),c}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function GI({routeContext:t,match:e,children:n}){let i=O.useContext(wl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(bi.Provider,{value:t},n)}function $I(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);Tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:_,errors:S}=n,I=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||I){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&i?(v,b)=>{var _,S;i(v,{location:n.location,params:((S=(_=n.matches)==null?void 0:_[0])==null?void 0:S.params)??{},unstable_pattern:II(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,_)=>{let S,I=!1,V=null,k=null;n&&(S=c&&b.route.id?c[b.route.id]:void 0,V=b.route.errorElement||qI,d&&(m<0&&_===0?(jE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,k=null):m===_&&(I=!0,k=b.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,_+1)),q=()=>{let F;return S?F=V:I?F=k:b.route.Component?F=O.createElement(b.route.Component,null):b.route.element?F=b.route.element:F=v,O.createElement(GI,{match:b,routeContext:{outlet:v,matches:U,isDataRoute:n!=null},children:F})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?O.createElement(kE,{location:n.location,revalidation:n.revalidation,component:V,error:S,children:q(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):q()},null)}function Gy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KI(t){let e=O.useContext(wl);return Tt(e,Gy(t)),e}function YI(t){let e=O.useContext(If);return Tt(e,Gy(t)),e}function QI(t){let e=O.useContext(bi);return Tt(e,Gy(t)),e}function $y(t){let e=QI(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function XI(){return $y("useRouteId")}function WI(){var i;let t=O.useContext(Hy),e=YI("useRouteError"),n=$y("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function JI(){let{router:t}=KI("useNavigate"),e=$y("useNavigate"),n=O.useRef(!1);return ME(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{Ps(n.current,DE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var oT={};function jE(t,e,n){!e&&!oT[t]&&(oT[t]=!0,Ps(!1,n))}O.memo(ZI);function ZI({routes:t,future:e,state:n,onError:i}){return OE(t,void 0,n,i,e)}function eD({to:t,replace:e,state:n,relative:i}){Tt(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Wn);Ps(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(bi),{pathname:c}=sr(),d=Au(),m=qy(t,Fy(l),c,i==="path"),p=JSON.stringify(m);return O.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Xo(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tD({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Tt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=Tl(n));let{pathname:p="/",search:v="",hash:b="",state:_=null,key:S="default"}=n,I=O.useMemo(()=>{let V=Wi(p,d);return V==null?null:{location:{pathname:V,search:v,hash:b,state:_,key:S},navigationType:i}},[d,p,v,b,_,S,i]);return Ps(I!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(Wn.Provider,{value:m},O.createElement(Su.Provider,{children:e,value:I}))}function nD({children:t,location:e}){return BI(Hg(t),e)}function Hg(t,e=[]){let n=[];return O.Children.forEach(t,(i,a)=>{if(!O.isValidElement(i))return;let l=[...e,a];if(i.type===O.Fragment){n.push.apply(n,Hg(i.props.children,l));return}Tt(i.type===Xo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Hg(i.props.children,l)),n.push(c)}),n}var jd="get",Vd="application/x-www-form-urlencoded";function Df(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function sD(t){return Df(t)&&t.tagName.toLowerCase()==="button"}function iD(t){return Df(t)&&t.tagName.toLowerCase()==="form"}function rD(t){return Df(t)&&t.tagName.toLowerCase()==="input"}function aD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oD(t,e){return t.button===0&&(!e||e==="_self")&&!aD(t)}var vd=null;function lD(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var cD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(t){return t!=null&&!cD.has(t)?(Ps(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vd}"`),null):t}function uD(t,e){let n,i,a,l,c;if(iD(t)){let d=t.getAttribute("action");i=d?Wi(d,e):null,n=t.getAttribute("method")||jd,a=lg(t.getAttribute("enctype"))||Vd,l=new FormData(t)}else if(sD(t)||rD(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Wi(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||jd,a=lg(t.getAttribute("formenctype"))||lg(d.getAttribute("enctype"))||Vd,l=new FormData(d,t),!lD()){let{name:p,type:v,value:b}=t;if(v==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,b)}}else{if(Df(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jd,i=null,a=Vd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ky(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hD(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Wi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function dD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mD(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await dD(l,n);return c.links?c.links():[]}return[]}));return vD(i.flat(1).filter(fD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lT(t,e,n,i,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>{var v;return n[p].pathname!==m.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var b;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function pD(t,e,{includeHydrateFallback:n}={}){return gD(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function gD(t){return[...new Set(t)]}function yD(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function vD(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(yD(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function VE(){let t=O.useContext(wl);return Ky(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bD(){let t=O.useContext(If);return Ky(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yy=O.createContext(void 0);Yy.displayName="FrameworkContext";function PE(){let t=O.useContext(Yy);return Ky(t,"You must render this element inside a <HydratedRouter> element"),t}function xD(t,e){let n=O.useContext(Yy),[i,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,_=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let V=U=>{U.forEach(q=>{c(q.isIntersecting)})},k=new IntersectionObserver(V,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[t]),O.useEffect(()=>{if(i){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[i]);let S=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:zc(d,S),onBlur:zc(m,I),onMouseEnter:zc(p,S),onMouseLeave:zc(v,I),onTouchStart:zc(b,S)}]:[!1,_,{}]}function zc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _D({page:t,...e}){let{router:n}=VE(),i=O.useMemo(()=>wE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(wD,{page:t,matches:i,...e}):null}function TD(t){let{manifest:e,routeModules:n}=PE(),[i,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return mD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function wD({page:t,matches:e,...n}){let i=sr(),{future:a,manifest:l,routeModules:c}=PE(),{basename:d}=VE(),{loaderData:m,matches:p}=bD(),v=O.useMemo(()=>lT(t,e,p,l,i,"data"),[t,e,p,l,i]),b=O.useMemo(()=>lT(t,e,p,l,i,"assets"),[t,e,p,l,i]),_=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let V=new Set,k=!1;if(e.forEach(q=>{var ee;let F=l.routes[q.route.id];!F||!F.hasLoader||(!v.some(Y=>Y.route.id===q.route.id)&&q.route.id in m&&((ee=c[q.route.id])!=null&&ee.shouldRevalidate)||F.hasClientLoader?k=!0:V.add(q.route.id))}),V.size===0)return[];let U=hD(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return k&&V.size>0&&U.searchParams.set("_routes",e.filter(q=>V.has(q.route.id)).map(q=>q.route.id).join(",")),[U.pathname+U.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,t,c]),S=O.useMemo(()=>pD(b,l),[b,l]),I=TD(b);return O.createElement(O.Fragment,null,_.map(V=>O.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>O.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),I.map(({key:V,link:k})=>O.createElement("link",{key:V,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function ED(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var SD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SD&&(window.__reactRouterVersion="7.13.0")}catch{}function AD({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=O.useRef();a.current==null&&(a.current=rI({window:i,v5Compat:!0}));let l=a.current,[c,d]=O.useState({action:l.action,location:l.location}),m=O.useCallback(p=>{n===!1?d(p):O.startTransition(()=>d(p))},[n]);return O.useLayoutEffect(()=>l.listen(m),[l,m]),O.createElement(tD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qn=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},I){let{basename:V,unstable_useTransitions:k}=O.useContext(Wn),U=typeof p=="string"&&LE.test(p),q=CE(p,V);p=q.to;let F=UI(p,{relative:a}),[ee,Y,le]=xD(i,S),D=ID(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:k});function E(j){e&&e(j),j.defaultPrevented||D(j)}let A=O.createElement("a",{...S,...le,href:q.absoluteURL||F,onClick:q.isExternal||l?e:E,ref:ED(I,Y),target:m,"data-discover":!U&&n==="render"?"true":void 0});return ee&&!U?O.createElement(O.Fragment,null,A,O.createElement(_D,{page:F})):A});Qn.displayName="Link";var CD=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},v){let b=Cu(c,{relative:p.relative}),_=sr(),S=O.useContext(If),{navigator:I,basename:V}=O.useContext(Wn),k=S!=null&&jD(b)&&d===!0,U=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,q=_.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(q=q.toLowerCase(),F=F?F.toLowerCase():null,U=U.toLowerCase()),F&&V&&(F=Wi(F,V)||F);const ee=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let Y=q===U||!a&&q.startsWith(U)&&q.charAt(ee)==="/",le=F!=null&&(F===U||!a&&F.startsWith(U)&&F.charAt(U.length)==="/"),D={isActive:Y,isPending:le,isTransitioning:k},E=Y?e:void 0,A;typeof i=="function"?A=i(D):A=[i,Y?"active":null,le?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(D):l;return O.createElement(Qn,{...p,"aria-current":E,className:A,ref:v,style:j,to:c,viewTransition:d},typeof m=="function"?m(D):m)});CD.displayName="NavLink";var RD=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=jd,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},I)=>{let{unstable_useTransitions:V}=O.useContext(Wn),k=OD(),U=kD(d,{relative:p}),q=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&LE.test(d),ee=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let le=Y.nativeEvent.submitter,D=(le==null?void 0:le.getAttribute("formmethod"))||c,E=()=>k(le||Y.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});V&&n!==!1?O.startTransition(()=>E()):E()};return O.createElement("form",{ref:I,method:q,action:U,onSubmit:i?m:ee,...S,"data-discover":!F&&t==="render"?"true":void 0})});RD.displayName="Form";function ND(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UE(t){let e=O.useContext(wl);return Tt(e,ND(t)),e}function ID(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=Au(),v=sr(),b=Cu(t,{relative:l});return O.useCallback(_=>{if(oD(_,e)){_.preventDefault();let S=n!==void 0?n:cu(v)===cu(b),I=()=>p(t,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?O.startTransition(()=>I()):I()}},[v,p,b,n,i,e,t,a,l,c,d,m])}var DD=0,MD=()=>`__${String(++DD)}__`;function OD(){let{router:t}=UE("useSubmit"),{basename:e}=O.useContext(Wn),n=XI(),i=t.fetch,a=t.navigate;return O.useCallback(async(l,c={})=>{let{action:d,method:m,encType:p,formData:v,body:b}=uD(l,e);if(c.navigate===!1){let _=c.fetcherKey||MD();await i(_,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function kD(t,{relative:e}={}){let{basename:n}=O.useContext(Wn),i=O.useContext(bi);Tt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Cu(t||".",{relative:e})},c=sr();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Yi([n,l.pathname])),cu(l)}function jD(t,{relative:e}={}){let n=O.useContext(NE);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=UE("useViewTransitionState"),a=Cu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Wi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Wi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Jd(a.pathname,c)!=null||Jd(a.pathname,l)!=null}const VD=[{id:"1",name:"Butter Chicken Masala",price:299,offerPrice:249,description:"Rich and creamy curry made with tender chicken pieces.",category:"Main Course",imageUrl:"https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!1},{id:"2",name:"Paneer Tikka Masala",price:249,description:"Marinated paneer cheese served in a spiced gravy.",category:"Main Course",imageUrl:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!0},{id:"3",name:"Chicken Biryani",price:329,offerPrice:279,description:"Aromatic basmati rice cooked with spices and chicken.",category:"Rice & Biryani",imageUrl:"https://images.unsplash.com/photo-1589302168068-964664d93dc0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!1},{id:"4",name:"Veg Biryani",price:229,description:"Flavorful rice dish loaded with vegetables and spices.",category:"Rice & Biryani",imageUrl:"https://images.unsplash.com/photo-1563379091339-03b21ab4a4f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!0},{id:"5",name:"Garlic Naan",price:60,description:"Oven-baked flatbread topped with garlic and butter.",category:"Breads",imageUrl:"https://images.unsplash.com/photo-1626074353765-517a681e40be?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!0}],PD=()=>{};var cT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},LD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let _=(d&15)<<2|p>>6,S=p&63;m||(S=64,c||(_=64)),i.push(n[v],n[b],n[_],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new UD;const _=l<<2|d>>4;if(i.push(_),p!==64){const S=d<<4&240|p>>2;if(i.push(S),b!==64){const I=p<<6&192|b;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zD=function(t){const e=zE(t);return BE.encodeByteArray(e,!0)},Zd=function(t){return zD(t).replace(/\./g,"")},FE=function(t){try{return BE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=()=>BD().__FIREBASE_DEFAULTS__,qD=()=>{if(typeof process>"u"||typeof cT>"u")return;const t=cT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FE(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return PD()||FD()||qD()||HD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qE=t=>{var e,n;return(n=(e=Mf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},HE=t=>{const e=qE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},GE=()=>{var t;return(t=Mf())==null?void 0:t.config},$E=t=>{var e;return(e=Mf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zd(JSON.stringify(n)),Zd(JSON.stringify(c)),""].join(".")}const Jc={};function $D(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jc))Jc[e]?t.emulator.push(e):t.prod.push(e);return t}function KD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let uT=!1;function Xy(t,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Jc[t]===e||Jc[t]||uT)return;Jc[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=$D().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{uT=!0,c()},_}function v(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=KD(i),S=n("text"),I=document.getElementById(S)||document.createElement("span"),V=n("learnmore"),k=document.getElementById(V)||document.createElement("a"),U=n("preprendIcon"),q=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;d(F),v(k,V);const ee=p();m(q,U),F.append(q,I,k,ee),document.body.appendChild(F)}l?(I.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function QD(){var e;const t=(e=Mf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZD(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eM(){return!QD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tM(){try{return typeof indexedDB=="object"}catch{return!1}}function nM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="FirebaseError";class xi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=sM,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?iM(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new xi(a,d,i)}}function iM(t,e){return t.replace(rM,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const rM=/\{\$([^}]+)}/g;function aM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(hT(l)&&hT(c)){if(!Ya(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function hT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function oM(t,e){const n=new lM(t,e);return n.subscribe.bind(n)}class lM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");cM(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=cg),a.error===void 0&&(a.error=cg),a.complete===void 0&&(a.complete=cg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new GD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dM(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hM(t){return t===La?void 0:t}function dM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const mM={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},pM=Ge.INFO,gM={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},yM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=gM[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wy{constructor(e){this.name=e,this._logLevel=pM,this._logHandler=yM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const vM=(t,e)=>e.some(n=>t instanceof n);let dT,fT;function bM(){return dT||(dT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xM(){return fT||(fT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Gg=new WeakMap,QE=new WeakMap,ug=new WeakMap,Jy=new WeakMap;function _M(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(qr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,t)}).catch(()=>{}),Jy.set(e,t),e}function TM(t){if(Gg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Gg.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wM(t){$g=t($g)}function EM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(hg(this),e,...n);return QE.set(i,e.sort?e.sort():[e]),qr(i)}:xM().includes(t)?function(...e){return t.apply(hg(this),e),qr(YE.get(this))}:function(...e){return qr(t.apply(hg(this),e))}}function SM(t){return typeof t=="function"?EM(t):(t instanceof IDBTransaction&&TM(t),vM(t,bM())?new Proxy(t,$g):t)}function qr(t){if(t instanceof IDBRequest)return _M(t);if(ug.has(t))return ug.get(t);const e=SM(t);return e!==t&&(ug.set(t,e),Jy.set(e,t)),e}const hg=t=>Jy.get(t);function AM(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=qr(c);return i&&c.addEventListener("upgradeneeded",m=>{i(qr(c.result),m.oldVersion,m.newVersion,qr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const CM=["get","getKey","getAll","getAllKeys","count"],RM=["put","add","delete","clear"],dg=new Map;function mT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=RM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||CM.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return dg.set(e,l),l}wM(t=>({...t,get:(e,n,i)=>mT(e,n)||t.get(e,n,i),has:(e,n)=>!!mT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function IM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kg="@firebase/app",pT="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Wy("@firebase/app"),DM="@firebase/app-compat",MM="@firebase/analytics-compat",OM="@firebase/analytics",kM="@firebase/app-check-compat",jM="@firebase/app-check",VM="@firebase/auth",PM="@firebase/auth-compat",LM="@firebase/database",UM="@firebase/data-connect",zM="@firebase/database-compat",BM="@firebase/functions",FM="@firebase/functions-compat",qM="@firebase/installations",HM="@firebase/installations-compat",GM="@firebase/messaging",$M="@firebase/messaging-compat",KM="@firebase/performance",YM="@firebase/performance-compat",QM="@firebase/remote-config",XM="@firebase/remote-config-compat",WM="@firebase/storage",JM="@firebase/storage-compat",ZM="@firebase/firestore",eO="@firebase/ai",tO="@firebase/firestore-compat",nO="firebase",sO="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="[DEFAULT]",iO={[Kg]:"fire-core",[DM]:"fire-core-compat",[OM]:"fire-analytics",[MM]:"fire-analytics-compat",[jM]:"fire-app-check",[kM]:"fire-app-check-compat",[VM]:"fire-auth",[PM]:"fire-auth-compat",[LM]:"fire-rtdb",[UM]:"fire-data-connect",[zM]:"fire-rtdb-compat",[BM]:"fire-fn",[FM]:"fire-fn-compat",[qM]:"fire-iid",[HM]:"fire-iid-compat",[GM]:"fire-fcm",[$M]:"fire-fcm-compat",[KM]:"fire-perf",[YM]:"fire-perf-compat",[QM]:"fire-rc",[XM]:"fire-rc-compat",[WM]:"fire-gcs",[JM]:"fire-gcs-compat",[ZM]:"fire-fst",[tO]:"fire-fst-compat",[eO]:"fire-vertex","fire-js":"fire-js",[nO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Map,rO=new Map,Qg=new Map;function gT(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qa(t){const e=t.name;if(Qg.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,t);for(const n of ef.values())gT(n,t);for(const n of rO.values())gT(n,t);return!0}function Of(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ms(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Ru("app","Firebase",aO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=sO;function XE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Yg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=GE()),!n)throw Hr.create("no-options");const l=ef.get(a);if(l){if(Ya(n,l.options)&&Ya(i,l.config))return l;throw Hr.create("duplicate-app",{appName:a})}const c=new fM(a);for(const m of Qg.values())c.addComponent(m);const d=new oO(n,i,c);return ef.set(a,d),d}function Zy(t=Yg){const e=ef.get(t);if(!e&&t===Yg&&GE())return XE();if(!e)throw Hr.create("no-app",{appName:t});return e}function ci(t,e,n){let i=iO[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(c.join(" "));return}Qa(new Yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="firebase-heartbeat-database",cO=1,uu="firebase-heartbeat-store";let fg=null;function WE(){return fg||(fg=AM(lO,cO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),fg}async function uO(t){try{const n=(await WE()).transaction(uu),i=await n.objectStore(uu).get(JE(t));return await n.done,i}catch(e){if(e instanceof xi)Ji.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function yT(t,e){try{const i=(await WE()).transaction(uu,"readwrite");await i.objectStore(uu).put(e,JE(t)),await i.done}catch(n){if(n instanceof xi)Ji.warn(n.message);else{const i=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(i.message)}}}function JE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=1024,dO=30;class fO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=vT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>dO){const c=gO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ji.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vT(),{heartbeatsToSend:i,unsentEntries:a}=mO(this._heartbeatsCache.heartbeats),l=Zd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ji.warn(n),""}}}function vT(){return new Date().toISOString().substring(0,10)}function mO(t,e=hO){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),bT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),bT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class pO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tM()?nM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bT(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function gO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){Qa(new Yr("platform-logger",e=>new NM(e),"PRIVATE")),Qa(new Yr("heartbeat",e=>new fO(e),"PRIVATE")),ci(Kg,pT,t),ci(Kg,pT,"esm2020"),ci("fire-js","")}yO("");var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,ZE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,E){function A(){}A.prototype=E.prototype,D.F=E.prototype,D.prototype=new A,D.prototype.constructor=D,D.D=function(j,N,P){for(var M=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)M[Se-2]=arguments[Se];return E.prototype[N].apply(j,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,E,A){A||(A=0);const j=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)j[N]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(N=0;N<16;++N)j[N]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=D.g[0],A=D.g[1],N=D.g[2];let P=D.g[3],M;M=E+(P^A&(N^P))+j[0]+3614090360&4294967295,E=A+(M<<7&4294967295|M>>>25),M=P+(N^E&(A^N))+j[1]+3905402710&4294967295,P=E+(M<<12&4294967295|M>>>20),M=N+(A^P&(E^A))+j[2]+606105819&4294967295,N=P+(M<<17&4294967295|M>>>15),M=A+(E^N&(P^E))+j[3]+3250441966&4294967295,A=N+(M<<22&4294967295|M>>>10),M=E+(P^A&(N^P))+j[4]+4118548399&4294967295,E=A+(M<<7&4294967295|M>>>25),M=P+(N^E&(A^N))+j[5]+1200080426&4294967295,P=E+(M<<12&4294967295|M>>>20),M=N+(A^P&(E^A))+j[6]+2821735955&4294967295,N=P+(M<<17&4294967295|M>>>15),M=A+(E^N&(P^E))+j[7]+4249261313&4294967295,A=N+(M<<22&4294967295|M>>>10),M=E+(P^A&(N^P))+j[8]+1770035416&4294967295,E=A+(M<<7&4294967295|M>>>25),M=P+(N^E&(A^N))+j[9]+2336552879&4294967295,P=E+(M<<12&4294967295|M>>>20),M=N+(A^P&(E^A))+j[10]+4294925233&4294967295,N=P+(M<<17&4294967295|M>>>15),M=A+(E^N&(P^E))+j[11]+2304563134&4294967295,A=N+(M<<22&4294967295|M>>>10),M=E+(P^A&(N^P))+j[12]+1804603682&4294967295,E=A+(M<<7&4294967295|M>>>25),M=P+(N^E&(A^N))+j[13]+4254626195&4294967295,P=E+(M<<12&4294967295|M>>>20),M=N+(A^P&(E^A))+j[14]+2792965006&4294967295,N=P+(M<<17&4294967295|M>>>15),M=A+(E^N&(P^E))+j[15]+1236535329&4294967295,A=N+(M<<22&4294967295|M>>>10),M=E+(N^P&(A^N))+j[1]+4129170786&4294967295,E=A+(M<<5&4294967295|M>>>27),M=P+(A^N&(E^A))+j[6]+3225465664&4294967295,P=E+(M<<9&4294967295|M>>>23),M=N+(E^A&(P^E))+j[11]+643717713&4294967295,N=P+(M<<14&4294967295|M>>>18),M=A+(P^E&(N^P))+j[0]+3921069994&4294967295,A=N+(M<<20&4294967295|M>>>12),M=E+(N^P&(A^N))+j[5]+3593408605&4294967295,E=A+(M<<5&4294967295|M>>>27),M=P+(A^N&(E^A))+j[10]+38016083&4294967295,P=E+(M<<9&4294967295|M>>>23),M=N+(E^A&(P^E))+j[15]+3634488961&4294967295,N=P+(M<<14&4294967295|M>>>18),M=A+(P^E&(N^P))+j[4]+3889429448&4294967295,A=N+(M<<20&4294967295|M>>>12),M=E+(N^P&(A^N))+j[9]+568446438&4294967295,E=A+(M<<5&4294967295|M>>>27),M=P+(A^N&(E^A))+j[14]+3275163606&4294967295,P=E+(M<<9&4294967295|M>>>23),M=N+(E^A&(P^E))+j[3]+4107603335&4294967295,N=P+(M<<14&4294967295|M>>>18),M=A+(P^E&(N^P))+j[8]+1163531501&4294967295,A=N+(M<<20&4294967295|M>>>12),M=E+(N^P&(A^N))+j[13]+2850285829&4294967295,E=A+(M<<5&4294967295|M>>>27),M=P+(A^N&(E^A))+j[2]+4243563512&4294967295,P=E+(M<<9&4294967295|M>>>23),M=N+(E^A&(P^E))+j[7]+1735328473&4294967295,N=P+(M<<14&4294967295|M>>>18),M=A+(P^E&(N^P))+j[12]+2368359562&4294967295,A=N+(M<<20&4294967295|M>>>12),M=E+(A^N^P)+j[5]+4294588738&4294967295,E=A+(M<<4&4294967295|M>>>28),M=P+(E^A^N)+j[8]+2272392833&4294967295,P=E+(M<<11&4294967295|M>>>21),M=N+(P^E^A)+j[11]+1839030562&4294967295,N=P+(M<<16&4294967295|M>>>16),M=A+(N^P^E)+j[14]+4259657740&4294967295,A=N+(M<<23&4294967295|M>>>9),M=E+(A^N^P)+j[1]+2763975236&4294967295,E=A+(M<<4&4294967295|M>>>28),M=P+(E^A^N)+j[4]+1272893353&4294967295,P=E+(M<<11&4294967295|M>>>21),M=N+(P^E^A)+j[7]+4139469664&4294967295,N=P+(M<<16&4294967295|M>>>16),M=A+(N^P^E)+j[10]+3200236656&4294967295,A=N+(M<<23&4294967295|M>>>9),M=E+(A^N^P)+j[13]+681279174&4294967295,E=A+(M<<4&4294967295|M>>>28),M=P+(E^A^N)+j[0]+3936430074&4294967295,P=E+(M<<11&4294967295|M>>>21),M=N+(P^E^A)+j[3]+3572445317&4294967295,N=P+(M<<16&4294967295|M>>>16),M=A+(N^P^E)+j[6]+76029189&4294967295,A=N+(M<<23&4294967295|M>>>9),M=E+(A^N^P)+j[9]+3654602809&4294967295,E=A+(M<<4&4294967295|M>>>28),M=P+(E^A^N)+j[12]+3873151461&4294967295,P=E+(M<<11&4294967295|M>>>21),M=N+(P^E^A)+j[15]+530742520&4294967295,N=P+(M<<16&4294967295|M>>>16),M=A+(N^P^E)+j[2]+3299628645&4294967295,A=N+(M<<23&4294967295|M>>>9),M=E+(N^(A|~P))+j[0]+4096336452&4294967295,E=A+(M<<6&4294967295|M>>>26),M=P+(A^(E|~N))+j[7]+1126891415&4294967295,P=E+(M<<10&4294967295|M>>>22),M=N+(E^(P|~A))+j[14]+2878612391&4294967295,N=P+(M<<15&4294967295|M>>>17),M=A+(P^(N|~E))+j[5]+4237533241&4294967295,A=N+(M<<21&4294967295|M>>>11),M=E+(N^(A|~P))+j[12]+1700485571&4294967295,E=A+(M<<6&4294967295|M>>>26),M=P+(A^(E|~N))+j[3]+2399980690&4294967295,P=E+(M<<10&4294967295|M>>>22),M=N+(E^(P|~A))+j[10]+4293915773&4294967295,N=P+(M<<15&4294967295|M>>>17),M=A+(P^(N|~E))+j[1]+2240044497&4294967295,A=N+(M<<21&4294967295|M>>>11),M=E+(N^(A|~P))+j[8]+1873313359&4294967295,E=A+(M<<6&4294967295|M>>>26),M=P+(A^(E|~N))+j[15]+4264355552&4294967295,P=E+(M<<10&4294967295|M>>>22),M=N+(E^(P|~A))+j[6]+2734768916&4294967295,N=P+(M<<15&4294967295|M>>>17),M=A+(P^(N|~E))+j[13]+1309151649&4294967295,A=N+(M<<21&4294967295|M>>>11),M=E+(N^(A|~P))+j[4]+4149444226&4294967295,E=A+(M<<6&4294967295|M>>>26),M=P+(A^(E|~N))+j[11]+3174756917&4294967295,P=E+(M<<10&4294967295|M>>>22),M=N+(E^(P|~A))+j[2]+718787259&4294967295,N=P+(M<<15&4294967295|M>>>17),M=A+(P^(N|~E))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+P&4294967295}i.prototype.v=function(D,E){E===void 0&&(E=D.length);const A=E-this.blockSize,j=this.C;let N=this.h,P=0;for(;P<E;){if(N==0)for(;P<=A;)a(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<E;)if(j[N++]=D.charCodeAt(P++),N==this.blockSize){a(this,j),N=0;break}}else for(;P<E;)if(j[N++]=D[P++],N==this.blockSize){a(this,j),N=0;break}}this.h=N,this.o+=E},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;E=this.o*8;for(var A=D.length-8;A<D.length;++A)D[A]=E&255,E/=256;for(this.v(D),D=Array(16),E=0,A=0;A<4;++A)for(let j=0;j<32;j+=8)D[E++]=this.g[A]>>>j&255;return D};function l(D,E){var A=d;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=E(D)}function c(D,E){this.h=E;const A=[];let j=!0;for(let N=D.length-1;N>=0;N--){const P=D[N]|0;j&&P==E||(A[N]=P,j=!1)}this.g=A}var d={};function m(D){return-128<=D&&D<128?l(D,function(E){return new c([E|0],E<0?-1:0)}):new c([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return k(p(-D));const E=[];let A=1;for(let j=0;D>=A;j++)E[j]=D/A|0,A*=4294967296;return new c(E,0)}function v(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return k(v(D.substring(1),E));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(E,8));let j=b;for(let P=0;P<D.length;P+=8){var N=Math.min(8,D.length-P);const M=parseInt(D.substring(P,P+N),E);N<8?(N=p(Math.pow(E,N)),j=j.j(N).add(p(M))):(j=j.j(A),j=j.add(p(M)))}return j}var b=m(0),_=m(1),S=m(16777216);t=c.prototype,t.m=function(){if(V(this))return-k(this).m();let D=0,E=1;for(let A=0;A<this.g.length;A++){const j=this.i(A);D+=(j>=0?j:4294967296+j)*E,E*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(V(this))return"-"+k(this).toString(D);const E=p(Math.pow(D,6));var A=this;let j="";for(;;){const N=ee(A,E).g;A=U(A,N.j(E));let P=((A.g.length>0?A.g[0]:A.h)>>>0).toString(D);if(A=N,I(A))return P+j;for(;P.length<6;)P="0"+P;j=P+j}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(let E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function V(D){return D.h==-1}t.l=function(D){return D=U(this,D),V(D)?-1:I(D)?0:1};function k(D){const E=D.g.length,A=[];for(let j=0;j<E;j++)A[j]=~D.g[j];return new c(A,~D.h).add(_)}t.abs=function(){return V(this)?k(this):this},t.add=function(D){const E=Math.max(this.g.length,D.g.length),A=[];let j=0;for(let N=0;N<=E;N++){let P=j+(this.i(N)&65535)+(D.i(N)&65535),M=(P>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);j=M>>>16,P&=65535,M&=65535,A[N]=M<<16|P}return new c(A,A[A.length-1]&-2147483648?-1:0)};function U(D,E){return D.add(k(E))}t.j=function(D){if(I(this)||I(D))return b;if(V(this))return V(D)?k(this).j(k(D)):k(k(this).j(D));if(V(D))return k(this.j(k(D)));if(this.l(S)<0&&D.l(S)<0)return p(this.m()*D.m());const E=this.g.length+D.g.length,A=[];for(var j=0;j<2*E;j++)A[j]=0;for(j=0;j<this.g.length;j++)for(let N=0;N<D.g.length;N++){const P=this.i(j)>>>16,M=this.i(j)&65535,Se=D.i(N)>>>16,Le=D.i(N)&65535;A[2*j+2*N]+=M*Le,q(A,2*j+2*N),A[2*j+2*N+1]+=P*Le,q(A,2*j+2*N+1),A[2*j+2*N+1]+=M*Se,q(A,2*j+2*N+1),A[2*j+2*N+2]+=P*Se,q(A,2*j+2*N+2)}for(D=0;D<E;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=E;D<2*E;D++)A[D]=0;return new c(A,0)};function q(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function F(D,E){this.g=D,this.h=E}function ee(D,E){if(I(E))throw Error("division by zero");if(I(D))return new F(b,b);if(V(D))return E=ee(k(D),E),new F(k(E.g),k(E.h));if(V(E))return E=ee(D,k(E)),new F(k(E.g),E.h);if(D.g.length>30){if(V(D)||V(E))throw Error("slowDivide_ only works with positive integers.");for(var A=_,j=E;j.l(D)<=0;)A=Y(A),j=Y(j);var N=le(A,1),P=le(j,1);for(j=le(j,2),A=le(A,2);!I(j);){var M=P.add(j);M.l(D)<=0&&(N=N.add(A),P=M),j=le(j,1),A=le(A,1)}return E=U(D,N.j(E)),new F(N,E)}for(N=b;D.l(E)>=0;){for(A=Math.max(1,Math.floor(D.m()/E.m())),j=Math.ceil(Math.log(A)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),P=p(A),M=P.j(E);V(M)||M.l(D)>0;)A-=j,P=p(A),M=P.j(E);I(P)&&(P=_),N=N.add(P),D=U(D,M)}return new F(N,D)}t.B=function(D){return ee(this,D).h},t.and=function(D){const E=Math.max(this.g.length,D.g.length),A=[];for(let j=0;j<E;j++)A[j]=this.i(j)&D.i(j);return new c(A,this.h&D.h)},t.or=function(D){const E=Math.max(this.g.length,D.g.length),A=[];for(let j=0;j<E;j++)A[j]=this.i(j)|D.i(j);return new c(A,this.h|D.h)},t.xor=function(D){const E=Math.max(this.g.length,D.g.length),A=[];for(let j=0;j<E;j++)A[j]=this.i(j)^D.i(j);return new c(A,this.h^D.h)};function Y(D){const E=D.g.length+1,A=[];for(let j=0;j<E;j++)A[j]=D.i(j)<<1|D.i(j-1)>>>31;return new c(A,D.h)}function le(D,E){const A=E>>5;E%=32;const j=D.g.length-A,N=[];for(let P=0;P<j;P++)N[P]=E>0?D.i(P+A)>>>E|D.i(P+A+1)<<32-E:D.i(P+A);return new c(N,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ZE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Gr=c}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eS,$c,tS,Pd,Xg,nS,sS,iS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,x){if(x)e:{var w=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var G=h[R];if(!(G in w))break e;w=w[G]}h=h[h.length-1],R=w[h],x=x(R),x!=R&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var w=[],R;for(R in x)Object.prototype.hasOwnProperty.call(x,R)&&w.push([R,x[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function m(h,x,w){return h.call.apply(h.bind,arguments)}function p(h,x,w){return p=m,p.apply(null,arguments)}function v(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,x){function w(){}w.prototype=x.prototype,h.Z=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(R,G,W){for(var he=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)he[Ve-2]=arguments[Ve];return x.prototype[G].apply(R,he)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const x=h.length;if(x>0){const w=Array(x);for(let R=0;R<x;R++)w[R]=h[R];return w}return[]}function I(h,x){for(let R=1;R<arguments.length;R++){const G=arguments[R];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=h.length||0;const W=G.length||0;h.length=w+W;for(let he=0;he<W;he++)h[w+he]=G[he]}else h.push(G)}}class V{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function k(h){c.setTimeout(()=>{throw h},0)}function U(){var h=D;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class q{constructor(){this.h=this.g=null}add(x,w){const R=F.get();R.set(x,w),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new V(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,le=!1,D=new q,E=()=>{const h=Promise.resolve(void 0);Y=()=>{h.then(A)}};function A(){for(var h;h=U();){try{h.h.call(h.g)}catch(w){k(w)}var x=F;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}le=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};c.addEventListener("test",w,x),c.removeEventListener("test",w,x)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Se(h,x){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(Se,N),Se.prototype.init=function(h,x){const w=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(h,x,w,R,G){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!R,this.ha=G,this.key=++X,this.da=this.fa=!1}function se(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ie(h,x,w){for(const R in h)x.call(w,h[R],R,h)}function Me(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function z(h){const x={};for(const w in h)x[w]=h[w];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,x){let w,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(w in R)h[w]=R[w];for(let W=0;W<te.length;W++)w=te[W],Object.prototype.hasOwnProperty.call(R,w)&&(h[w]=R[w])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,x,w,R,G){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const he=Ce(h,x,R,G);return he>-1?(x=h[he],w||(x.fa=!1)):(x=new ae(x,this.src,W,!!R,G),x.fa=w,h.push(x)),x};function we(h,x){const w=x.type;if(w in h.g){var R=h.g[w],G=Array.prototype.indexOf.call(R,x,void 0),W;(W=G>=0)&&Array.prototype.splice.call(R,G,1),W&&(se(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ce(h,x,w,R){for(let G=0;G<h.length;++G){const W=h[G];if(!W.da&&W.listener==x&&W.capture==!!w&&W.ha==R)return G}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),bt={};function tt(h,x,w,R,G){if(Array.isArray(x)){for(let W=0;W<x.length;W++)tt(h,x[W],w,R,G);return null}return w=en(w),h&&h[Le]?h.J(x,w,d(R)?!!R.capture:!1,G):En(h,x,w,!1,R,G)}function En(h,x,w,R,G,W){if(!x)throw Error("Invalid event type");const he=d(G)?!!G.capture:!!G;let Ve=Ye(h);if(Ve||(h[xe]=Ve=new ue(h)),w=Ve.add(x,w,R,he,W),w.proxy)return w;if(R=Jn(),w.proxy=R,R.src=h,R.listener=w,h.addEventListener)P||(G=he),G===void 0&&(G=!1),h.addEventListener(x.toString(),R,G);else if(h.attachEvent)h.attachEvent(Un(x.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Jn(){function h(w){return x.call(h.src,h.listener,w)}const x=de;return h}function Ln(h,x,w,R,G){if(Array.isArray(x))for(var W=0;W<x.length;W++)Ln(h,x[W],w,R,G);else R=d(R)?!!R.capture:!!R,w=en(w),h&&h[Le]?(h=h.i,W=String(x).toString(),W in h.g&&(x=h.g[W],w=Ce(x,w,R,G),w>-1&&(se(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete h.g[W],h.h--)))):h&&(h=Ye(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ce(x,w,R,G)),(w=h>-1?x[h]:null)&&Ti(w))}function Ti(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Le])we(x.i,h);else{var w=h.type,R=h.proxy;x.removeEventListener?x.removeEventListener(w,R,h.capture):x.detachEvent?x.detachEvent(Un(w),R):x.addListener&&x.removeListener&&x.removeListener(R),(w=Ye(x))?(we(w,h),w.h==0&&(w.src=null,x[xe]=null)):se(h)}}}function Un(h){return h in bt?bt[h]:bt[h]="on"+h}function de(h,x){if(h.da)h=!0;else{x=new Se(x,this);const w=h.listener,R=h.ha||h.src;h.fa&&Ti(h),h=w.call(R,x)}return h}function Ye(h){return h=h[xe],h instanceof ue?h:null}var kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function en(h){return typeof h=="function"?h:(h[kt]||(h[kt]=function(x){return h.handleEvent(x)}),h[kt])}function Xe(){j.call(this),this.i=new ue(this),this.M=this,this.G=null}b(Xe,j),Xe.prototype[Le]=!0,Xe.prototype.removeEventListener=function(h,x,w,R){Ln(this,h,x,w,R)};function lt(h,x){var w,R=h.G;if(R)for(w=[];R;R=R.G)w.push(R);if(h=h.M,R=x.type||x,typeof x=="string")x=new N(x,h);else if(x instanceof N)x.target=x.target||h;else{var G=x;x=new N(R,h),ce(x,G)}G=!0;let W,he;if(w)for(he=w.length-1;he>=0;he--)W=x.g=w[he],G=Yt(W,R,!0,x)&&G;if(W=x.g=h,G=Yt(W,R,!0,x)&&G,G=Yt(W,R,!1,x)&&G,w)for(he=0;he<w.length;he++)W=x.g=w[he],G=Yt(W,R,!1,x)&&G}Xe.prototype.N=function(){if(Xe.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const w=h.g[x];for(let R=0;R<w.length;R++)se(w[R]);delete h.g[x],h.h--}}this.G=null},Xe.prototype.J=function(h,x,w,R){return this.i.add(String(h),x,!1,w,R)},Xe.prototype.K=function(h,x,w,R){return this.i.add(String(h),x,!0,w,R)};function Yt(h,x,w,R){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let W=0;W<x.length;++W){const he=x[W];if(he&&!he.da&&he.capture==w){const Ve=he.listener,It=he.ha||he.src;he.fa&&we(h.i,he),G=Ve.call(It,R)!==!1&&G}}return G&&!R.defaultPrevented}function Us(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(h,x||0)}function ro(h){h.g=Us(()=>{h.g=null,h.i&&(h.i=!1,ro(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Rt extends j{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(h){j.call(this),this.h=h,this.g={}}b(Zn,j);var wi=[];function Ei(h){Ie(h.g,function(x,w){this.g.hasOwnProperty(w)&&Ti(x)},h),h.g={}}Zn.prototype.N=function(){Zn.Z.N.call(this),Ei(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=c.JSON.stringify,sm=c.JSON.parse,Hu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Gu(){}function $u(){}var vs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function an(){N.call(this,"d")}b(an,N);function es(){N.call(this,"c")}b(es,N);var Nt={},Ku=null;function ao(){return Ku=Ku||new Xe}Nt.Ia="serverreachability";function Yu(h){N.call(this,Nt.Ia,h)}b(Yu,N);function Bs(h){const x=ao();lt(x,new Yu(x))}Nt.STAT_EVENT="statevent";function oa(h,x){N.call(this,Nt.STAT_EVENT,h),this.stat=x}b(oa,N);function jt(h){const x=ao();lt(x,new oa(x,h))}Nt.Ja="timingevent";function Fs(h,x){N.call(this,Nt.Ja,h),this.size=x}b(Fs,N);function qs(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function bs(){this.g=!0}bs.prototype.ua=function(){this.g=!1};function im(h,x,w,R,G,W){h.info(function(){if(h.g)if(W){var he="",Ve=W.split("&");for(let nt=0;nt<Ve.length;nt++){var It=Ve[nt].split("=");if(It.length>1){const xt=It[0];It=It[1];const is=xt.split("_");he=is.length>=2&&is[1]=="type"?he+(xt+"="+It+"&"):he+(xt+"=redacted&")}}}else he=null;else he=W;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+x+`
`+w+`
`+he})}function Qu(h,x,w,R,G,W,he){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+x+`
`+w+`
`+W+" "+he})}function Hs(h,x,w,R){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+rm(h,w)+(R?" "+R:"")})}function la(h,x){h.info(function(){return"TIMEOUT: "+x})}bs.prototype.info=function(){};function rm(h,x){if(!h.g)return x;if(!x)return null;try{const W=JSON.parse(x);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var w=W[h];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let he=1;he<R.length;he++)R[he]=""}}}}return zs(W)}catch{return x}}var ca={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zl;function ua(){}b(ua,Gu),ua.prototype.g=function(){return new XMLHttpRequest},zl=new ua;function Si(h){return encodeURIComponent(String(h))}function Xu(h){var x=1;h=h.split(":");const w=[];for(;x>0&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function xs(h,x,w,R){this.j=h,this.i=x,this.l=w,this.S=R||1,this.V=new Zn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _s}function _s(){this.i=null,this.g="",this.h=!1}var Vt={},tn={};function Gs(h,x,w){h.M=1,h.A=ha(Lt(x)),h.u=w,h.R=!0,oo(h,null)}function oo(h,x){h.F=Date.now(),$s(h),h.B=Lt(h.A);var w=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),ho(w.i,"t",R),h.C=0,w=h.j.L,h.h=new _s,h.g=hh(h.j,w?x:null,!h.u),h.P>0&&(h.O=new Rt(p(h.Y,h,h.g),h.P)),x=h.V,w=h.g,R=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(wi[0]=G.toString()),G=wi);for(let W=0;W<G.length;W++){const he=tt(w,G[W],R||x.handleEvent,!1,x.h||x);if(!he)break;x.g[he.key]=he}x=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Bs(),im(h.i,h.v,h.B,h.l,h.S,h.u)}xs.prototype.ba=function(h){h=h.target;const x=this.O;x&&Es(h)==3?x.j():this.Y(h)},xs.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=Es(this.g),It=this.g.ya(),nt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Ve!=4||It==7||(It==8||nt<=0?Bs(3):Bs(2)),Ks(this);var x=this.g.ca();this.X=x;var w=am(this);if(this.o=x==200,Qu(this.i,this.v,this.B,this.l,this.S,Ve,x),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var W=R;break t}}W=null}if(h=W)Hs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ys(this,h);else{this.o=!1,this.m=3,jt(12),zn(this),ts(this);break e}}if(this.R){h=!0;let xt;for(;!this.K&&this.C<w.length;)if(xt=Ju(this,w),xt==tn){Ve==4&&(this.m=4,jt(14),h=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Vt){this.m=4,jt(15),Hs(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Hs(this.i,this.l,xt,null),Ys(this,xt);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||w.length!=0||this.h.h||(this.m=1,jt(16),h=!1),this.o=this.o&&h,!h)Hs(this.i,this.l,w,"[Invalid Chunked Response]"),zn(this),ts(this);else if(w.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),tc(he),he.P=!0,jt(11))}}else Hs(this.i,this.l,w,null),Ys(this,w);Ve==4&&zn(this),this.o&&!this.K&&(Ve==4?oh(this.j,this):(this.o=!1,$s(this)))}else Ci(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),zn(this),ts(this)}}}catch{}finally{}};function am(h){if(!Wu(h))return h.g.la();const x=on(h.g);if(x==="")return"";let w="";const R=x.length,G=Es(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return zn(h),ts(h),"";h.h.i=new c.TextDecoder}for(let W=0;W<R;W++)h.h.h=!0,w+=h.h.i.decode(x[W],{stream:!(G&&W==R-1)});return x.length=0,h.h.g+=w,h.C=0,h.h.g}function Wu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ju(h,x){var w=h.C,R=x.indexOf(`
`,w);return R==-1?tn:(w=Number(x.substring(w,R)),isNaN(w)?Vt:(R+=1,R+w>x.length?tn:(x=x.slice(R,R+w),h.C=R+w,x)))}xs.prototype.cancel=function(){this.K=!0,zn(this)};function $s(h){h.T=Date.now()+h.H,lo(h,h.H)}function lo(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=qs(p(h.aa,h),x)}function Ks(h){h.D&&(c.clearTimeout(h.D),h.D=null)}xs.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(la(this.i,this.B),this.M!=2&&(Bs(),jt(17)),zn(this),this.m=2,ts(this)):lo(this,this.T-h)};function ts(h){h.j.I==0||h.K||oh(h.j,h)}function zn(h){Ks(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Ei(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Ys(h,x){try{var w=h.j;if(w.I!=0&&(w.g==h||Xs(w.h,h))){if(!h.L&&Xs(w.h,h)&&w.I==3){try{var R=w.Ba.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)yo(w),hr(w);else break e;va(w),jt(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=qs(p(w.Va,w),6e3));Qs(w.h)<=1&&w.ta&&(w.ta=void 0)}else ni(w,11)}else if((h.L||w.g==h)&&yo(w),!M(x))for(G=w.Ba.g.parse(x),x=0;x<G.length;x++){let nt=G[x];const xt=nt[0];if(!(xt<=w.K))if(w.K=xt,nt=nt[1],w.I==2)if(nt[0]=="c"){w.M=nt[1],w.ba=nt[2];const is=nt[3];is!=null&&(w.ka=is,w.j.info("VER="+w.ka));const si=nt[4];si!=null&&(w.za=si,w.j.info("SVER="+w.za));const Ss=nt[5];Ss!=null&&typeof Ss=="number"&&Ss>0&&(R=1.5*Ss,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const As=h.g;if(As){const ba=As.g?As.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var W=R.h;W.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ql(W,W.h),W.h=null))}if(R.G){const vo=As.g?As.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(R.wa=vo,rt(R.J,R.G,vo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var he=h;if(R.na=uh(R,R.L?R.ba:null,R.W),he.L){Hl(R.h,he);var Ve=he,It=R.O;It&&(Ve.H=It),Ve.D&&(Ks(Ve),$s(Ve)),R.g=he}else rh(R);w.i.length>0&&ti(w)}else nt[0]!="stop"&&nt[0]!="close"||ni(w,7);else w.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ni(w,7):Zl(w):nt[0]!="noop"&&w.l&&w.l.qa(nt),w.A=0)}}Bs(4)}catch{}}var Pt=class{constructor(h,x){this.g=h,this.map=x}};function Bl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qs(h){return h.h?1:h.g?h.g.size:0}function Xs(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function ql(h,x){h.g?h.g.add(x):h.h=x}function Hl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Bl.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Gl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.G);return x}return S(h.i)}var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(h,x){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const R=h[w].indexOf("=");let G,W=null;R>=0?(G=h[w].substring(0,R),W=h[w].substring(R+1)):G=h[w],x(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Bn?(this.l=h.l,nn(this,h.j),this.o=h.o,this.g=h.g,ir(this,h.u),this.h=h.h,$l(this,sh(h.i)),this.m=h.m):h&&(x=String(h).match(Zu))?(this.l=!1,nn(this,x[1]||"",!0),this.o=Ws(x[2]||""),this.g=Ws(x[3]||"",!0),ir(this,x[4]),this.h=Ws(x[5]||"",!0),$l(this,x[6]||"",!0),this.m=Ws(x[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}Bn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(da(x,uo,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(da(x,uo,!0),"@"),h.push(Si(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(da(w,w.charAt(0)=="/"?Kl:eh,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",da(w,th)),h.join("")},Bn.prototype.resolve=function(h){const x=Lt(this);let w=!!h.j;w?nn(x,h.j):w=!!h.o,w?x.o=h.o:w=!!h.g,w?x.g=h.g:w=h.u!=null;var R=h.h;if(w)ir(x,h.u);else if(w=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=x.h.lastIndexOf("/");G!=-1&&(R=x.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const W=[];for(let he=0;he<G.length;){const Ve=G[he++];Ve=="."?R&&he==G.length&&W.push(""):Ve==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&he==G.length&&W.push("")):(W.push(Ve),R=!0)}R=W.join("/")}else R=G}return w?x.h=R:w=h.i.toString()!=="",w?$l(x,sh(h.i)):w=!!h.m,w&&(x.m=h.m),x};function Lt(h){return new Bn(h)}function nn(h,x,w){h.j=w?Ws(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function ir(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function $l(h,x,w){x instanceof ar?(h.i=x,fo(h.i,h.l)):(w||(x=da(x,rr)),h.i=new ar(x,h.l))}function rt(h,x,w){h.i.set(x,w)}function ha(h){return rt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ws(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function da(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,Nn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Nn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var uo=/[#\/\?@]/g,eh=/[#\?:]/g,Kl=/[#\?]/g,rr=/[#\?@]/g,th=/#/g;function ar(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function In(h){h.g||(h.g=new Map,h.h=0,h.i&&co(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=ar.prototype,t.add=function(h,x){In(this),this.i=null,h=or(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function nh(h,x){In(h),x=or(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Yl(h,x){return In(h),x=or(h,x),h.g.has(x)}t.forEach=function(h,x){In(this),this.g.forEach(function(w,R){w.forEach(function(G){h.call(x,G,R,this)},this)},this)};function Ql(h,x){In(h);let w=[];if(typeof x=="string")Yl(h,x)&&(w=w.concat(h.g.get(or(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)w=w.concat(h[x]);return w}t.set=function(h,x){return In(this),this.i=null,h=or(this,h),Yl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=Ql(this,h),h.length>0?String(h[0]):x):x};function ho(h,x,w){nh(h,x),w.length>0&&(h.i=null,h.g.set(or(h,x),S(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let R=0;R<x.length;R++){var w=x[R];const G=Si(w);w=Ql(this,w);for(let W=0;W<w.length;W++){let he=G;w[W]!==""&&(he+="="+Si(w[W])),h.push(he)}}return this.i=h.join("&")};function sh(h){const x=new ar;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function or(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function fo(h,x){x&&!h.j&&(In(h),h.i=null,h.g.forEach(function(w,R){const G=R.toLowerCase();R!=G&&(nh(this,R),ho(this,G,w))},h)),h.j=x}function Ts(h,x){const w=new bs;if(c.Image){const R=new Image;R.onload=v(ns,w,"TestLoadImage: loaded",!0,x,R),R.onerror=v(ns,w,"TestLoadImage: error",!1,x,R),R.onabort=v(ns,w,"TestLoadImage: abort",!1,x,R),R.ontimeout=v(ns,w,"TestLoadImage: timeout",!1,x,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else x(!1)}function Xl(h,x){const w=new bs,R=new AbortController,G=setTimeout(()=>{R.abort(),ns(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:R.signal}).then(W=>{clearTimeout(G),W.ok?ns(w,"TestPingServer: ok",!0,x):ns(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),ns(w,"TestPingServer: error",!1,x)})}function ns(h,x,w,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(w)}catch{}}function lr(){this.g=new Hu}function Js(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Js,Gu),Js.prototype.g=function(){return new fa(this.i,this.h)};function fa(h,x){Xe.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(fa,Xe),t=fa.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,ws(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function mo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?cr(this):ws(this),this.readyState==3&&mo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,cr(this))},t.Na=function(h){this.g&&(this.response=h,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ws(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function ws(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ss(h){let x="";return Ie(h,function(w,R){x+=R,x+=":",x+=w,x+=`\r
`}),x}function ma(h,x,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=ss(w),typeof h=="string"?w!=null&&Si(w):rt(h,x,w))}function ct(h){Xe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ct,Xe);var Zs=/^https?$/i,Wl=["POST","PUT"];t=ct.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zl.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(W){pa(this,W);return}if(h=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)w.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())w.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Wl,x,void 0)>=0)||R||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of w)this.g.setRequestHeader(W,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){pa(this,W)}};function pa(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Jl(h),Ai(h)}function Jl(h){h.A||(h.A=!0,lt(h,"complete"),lt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,lt(this,"complete"),lt(this,"abort"),Ai(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},t.Xa=function(){ga(this)};function ga(h){if(h.h&&typeof l<"u"){if(h.v&&Es(h)==4)setTimeout(h.Ca.bind(h),0);else if(lt(h,"readystatechange"),Es(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var R;if(R=W===0){let he=String(h.D).match(Zu)[1]||null;!he&&c.self&&c.self.location&&(he=c.self.location.protocol.slice(0,-1)),R=!Zs.test(he?he.toLowerCase():"")}w=R}if(w)lt(h,"complete"),lt(h,"success");else{h.o=6;try{var G=Es(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Jl(h)}}finally{Ai(h)}}}}function Ai(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,x||lt(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Es(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Es(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),sm(x)}};function on(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(h){const x={};h=(h.g&&Es(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(M(h[R]))continue;var w=Xu(h[R]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=x[G]||[];x[G]=W,W.push(w)}Me(x,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function ur(h){this.za=0,this.i=[],this.j=new bs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ei("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ei("baseRetryDelayMs",5e3,h),this.Za=ei("retryDelaySeedMs",1e4,h),this.Ta=ei("forwardChannelMaxRetries",2,h),this.va=ei("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Bl(h&&h.concurrentRequestLimit),this.Ba=new lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ur.prototype,t.ka=8,t.I=1,t.connect=function(h,x,w,R){jt(0),this.W=h,this.H=x||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=uh(this,null,this.W),ti(this)};function Zl(h){if(po(h),h.I==3){var x=h.V++,w=Lt(h.J);if(rt(w,"SID",h.M),rt(w,"RID",x),rt(w,"TYPE","terminate"),ya(h,w),x=new xs(h,h.j,x),x.M=2,x.A=ha(Lt(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=x.A,w=!0),w||(x.g=hh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),$s(x)}ch(h)}function hr(h){h.g&&(tc(h),h.g.cancel(),h.g=null)}function po(h){hr(h),h.v&&(c.clearTimeout(h.v),h.v=null),yo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ti(h){if(!Fl(h.h)&&!h.m){h.m=!0;var x=h.Ea;Y||E(),le||(Y(),le=!0),D.add(x,h),h.D=0}}function go(h,x){return Qs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=qs(p(h.Ea,h,x),lh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new xs(this,this.j,h);let W=this.o;if(this.U&&(W?(W=z(W),ce(W,this.U)):W=this.U),this.u!==null||this.R||(G.J=W,W=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=ih(this,G,x),w=Lt(this.J),rt(w,"RID",h),rt(w,"CVER",22),this.G&&rt(w,"X-HTTP-Session-Id",this.G),ya(this,w),W&&(this.R?x="headers="+Si(ss(W))+"&"+x:this.u&&ma(w,this.u,W)),ql(this.h,G),this.Ra&&rt(w,"TYPE","init"),this.S?(rt(w,"$req",x),rt(w,"SID","null"),G.U=!0,Gs(G,w,null)):Gs(G,w,x),this.I=2}}else this.I==3&&(h?ec(this,h):this.i.length==0||Fl(this.h)||ec(this))};function ec(h,x){var w;x?w=x.l:w=h.V++;const R=Lt(h.J);rt(R,"SID",h.M),rt(R,"RID",w),rt(R,"AID",h.K),ya(h,R),h.u&&h.o&&ma(R,h.u,h.o),w=new xs(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),x&&(h.i=x.G.concat(h.i)),x=ih(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ql(h.h,w),Gs(w,R,x)}function ya(h,x){h.H&&Ie(h.H,function(w,R){rt(x,R,w)}),h.l&&Ie({},function(w,R){rt(x,R,w)})}function ih(h,x,w){w=Math.min(h.i.length,w);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ve=-1;for(;;){const It=["count="+w];Ve==-1?w>0?(Ve=G[0].g,It.push("ofs="+Ve)):Ve=0:It.push("ofs="+Ve);let nt=!0;for(let xt=0;xt<w;xt++){var W=G[xt].g;const is=G[xt].map;if(W-=Ve,W<0)Ve=Math.max(0,G[xt].g-100),nt=!1;else try{W="req"+W+"_"||"";try{var he=is instanceof Map?is:Object.entries(is);for(const[si,Ss]of he){let As=Ss;d(Ss)&&(As=zs(Ss)),It.push(W+si+"="+encodeURIComponent(As))}}catch(si){throw It.push(W+"type="+encodeURIComponent("_badmap")),si}}catch{R&&R(is)}}if(nt){he=It.join("&");break e}}he=void 0}return h=h.i.splice(0,w),x.G=h,he}function rh(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;Y||E(),le||(Y(),le=!0),D.add(x,h),h.A=0}}function va(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=qs(p(h.Da,h),lh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ah(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=qs(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),hr(this),ah(this))};function tc(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ah(h){h.g=new xs(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Lt(h.na);rt(x,"RID","rpc"),rt(x,"SID",h.M),rt(x,"AID",h.K),rt(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&rt(x,"TO",h.ia),rt(x,"TYPE","xmlhttp"),ya(h,x),h.u&&h.o&&ma(x,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=ha(Lt(x)),w.u=null,w.R=!0,oo(w,h)}t.Va=function(){this.C!=null&&(this.C=null,hr(this),va(this),jt(19))};function yo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function oh(h,x){var w=null;if(h.g==x){yo(h),tc(h),h.g=null;var R=2}else if(Xs(h.h,x))w=x.G,Hl(h.h,x),R=1;else return;if(h.I!=0){if(x.o)if(R==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var G=h.D;R=ao(),lt(R,new Fs(R,w)),ti(h)}else rh(h);else if(G=x.m,G==3||G==0&&x.X>0||!(R==1&&go(h,x)||R==2&&va(h)))switch(w&&w.length>0&&(x=h.h,x.i=x.i.concat(w)),G){case 1:ni(h,5);break;case 4:ni(h,10);break;case 3:ni(h,6);break;default:ni(h,2)}}}function lh(h,x){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*x}function ni(h,x){if(h.j.info("Error code "+x),x==2){var w=p(h.bb,h),R=h.Ua;const G=!R;R=new Bn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nn(R,"https"),ha(R),G?Ts(R.toString(),w):Xl(R.toString(),w)}else jt(2);h.I=0,h.l&&h.l.pa(x),ch(h),po(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function ch(h){if(h.I=0,h.ja=[],h.l){const x=Gl(h.h);(x.length!=0||h.i.length!=0)&&(I(h.ja,x),I(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function uh(h,x,w){var R=w instanceof Bn?Lt(w):new Bn(w);if(R.g!="")x&&(R.g=x+"."+R.g),ir(R,R.u);else{var G=c.location;R=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const W=new Bn(null);R&&nn(W,R),x&&(W.g=x),G&&ir(W,G),w&&(W.h=w),R=W}return w=h.G,x=h.wa,w&&x&&rt(R,w,x),rt(R,"VER",h.ka),ya(h,R),R}function hh(h,x,w){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new ct(new Js({ab:w})):new ct(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}t=dh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function dr(){}dr.prototype.g=function(h,x){return new Sn(h,x)};function Sn(h,x){Xe.call(this),this.g=new ur(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!M(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Ri(this)}b(Sn,Xe),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Zl(this.g)},Sn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=zs(h),h=w);x.i.push(new Pt(x.Ya++,h)),x.I==3&&ti(x)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,Sn.Z.N.call(this)};function fh(h){an.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(fh,an);function mh(){es.call(this),this.status=1}b(mh,es);function Ri(h){this.g=h}b(Ri,dh),Ri.prototype.ra=function(){lt(this.g,"a")},Ri.prototype.qa=function(h){lt(this.g,new fh(h))},Ri.prototype.pa=function(h){lt(this.g,new mh)},Ri.prototype.oa=function(){lt(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,iS=function(){return new dr},sS=function(){return ao()},nS=Nt,Xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,Pd=ca,Ul.COMPLETE="complete",tS=Ul,$u.EventType=vs,vs.OPEN="a",vs.CLOSE="b",vs.ERROR="c",vs.MESSAGE="d",Xe.prototype.listen=Xe.prototype.J,$c=$u,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,eS=ct}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="12.8.0";function vO(t){Sl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Wy("@firebase/firestore");function Wo(){return Xa.logLevel}function me(t,...e){if(Xa.logLevel<=Ge.DEBUG){const n=e.map(e0);Xa.debug(`Firestore (${Sl}): ${t}`,...n)}}function Zi(t,...e){if(Xa.logLevel<=Ge.ERROR){const n=e.map(e0);Xa.error(`Firestore (${Sl}): ${t}`,...n)}}function dl(t,...e){if(Xa.logLevel<=Ge.WARN){const n=e.map(e0);Xa.warn(`Firestore (${Sl}): ${t}`,...n)}}function e0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,rS(t,i,n)}function rS(t,e,n){let i=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zi(i),new Error(i)}function it(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||rS(e,a,i)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class xO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _O{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ha,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ha)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new aS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class TO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class wO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new TO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ms(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _T(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _T(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=SO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function $e(t,e){return t<e?-1:t>e?1:0}function Wg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return mg(a)===mg(l)?$e(a,l):mg(a)?1:-1}return $e(t.length,e.length)}const AO=55296,CO=57343;function mg(t){const e=t.charCodeAt(0);return e>=AO&&e<=CO}function fl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__name__";class li{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ae(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=li.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return $e(e.length,n.length)}static compareSegments(e,n){const i=li.isNumericId(e),a=li.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?li.extractNumericId(e).compare(li.extractNumericId(n)):Wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class mt extends li{construct(e,n,i){return new mt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const RO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends li{construct(e,n,i){return new mn(e,n,i)}static isValidIdentifier(e){return RO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TT}static keyField(){return new mn([TT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(mt.fromString(e))}static fromName(e){return new Te(mt.fromString(e).popFirst(5))}static empty(){return new Te(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NO(t,e,n,i){if(e===!0&&i===!0)throw new fe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wT(t){if(!Te.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ET(t){if(Te.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function $r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(t);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function Iu(t,e){if(!lS(t))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=-62135596800,AT=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*AT);return new yt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ST)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AT}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ST;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:$t("string",yt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new yt(0,0))}static max(){return new De(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function IO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=De.fromTimestamp(i===1e9?new yt(n+1,0):new yt(n,i));return new Qr(a,Te.empty(),e)}function DO(t){return new Qr(t.readTime,t.key,hu)}class Qr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Qr(De.min(),Te.empty(),hu)}static max(){return new Qr(De.max(),Te.empty(),hu)}}function MO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==OO)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,i)=>{n(e)}))}static reject(e){return new oe(((n,i)=>{i(e)}))}static waitFor(e){return new oe(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const i of e)n=n.next((a=>a?oe.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new oe(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{c[p]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new oe(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function jO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-1;function Vf(t){return t==null}function tf(t){return t===0&&1/t==-1/0}function VO(t){return typeof t=="number"&&Number.isInteger(t)&&!tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="";function PO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CT(e)),e=LO(t.get(n),e);return CT(e)}function LO(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case cS:n+="";break;default:n+=l}}return n}function CT(t){return t+cS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new fn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(e){return new NT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class NT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Jt(mn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hS("Invalid base64 string: "+l):l}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const UO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=UO.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wr(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="server_timestamp",fS="__type__",mS="__previous_value__",pS="__local_write_time__";function s0(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fS])==null?void 0:i.stringValue)===dS}function Pf(t){const e=t.mapValue.fields[mS];return s0(e)?Pf(e):e}function du(t){const e=Xr(t.mapValue.fields[pS].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,i,a,l,c,d,m,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const nf="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||nf}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===nf}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}function BO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="__type__",FO="__max__",_d={mapValue:{}},yS="__vector__",sf="value";function Jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s0(t)?4:HO(t)?9007199254740991:qO(t)?10:11:Ae(28295,{value:t})}function pi(t,e){if(t===e)return!0;const n=Jr(t);if(n!==Jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Xr(a.timestampValue),d=Xr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Wr(a.bytesValue).isEqual(Wr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ot(a.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(a.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ot(a.integerValue)===Ot(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ot(a.doubleValue),d=Ot(l.doubleValue);return c===d?tf(c)===tf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(RT(c)!==RT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!pi(c[m],d[m])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function mu(t,e){return(t.values||[]).find((n=>pi(n,e)))!==void 0}function ml(t,e){if(t===e)return 0;const n=Jr(t),i=Jr(e);if(n!==i)return $e(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Ot(l.integerValue||l.doubleValue),m=Ot(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return IT(t.timestampValue,e.timestampValue);case 4:return IT(du(t),du(e));case 5:return Wg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Wr(l),m=Wr(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=$e(d[p],m[p]);if(v!==0)return v}return $e(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=$e(Ot(l.latitude),Ot(c.latitude));return d!==0?d:$e(Ot(l.longitude),Ot(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var _,S,I,V;const d=l.fields||{},m=c.fields||{},p=(_=d[sf])==null?void 0:_.arrayValue,v=(S=m[sf])==null?void 0:S.arrayValue,b=$e(((I=p==null?void 0:p.values)==null?void 0:I.length)||0,((V=v==null?void 0:v.values)==null?void 0:V.length)||0);return b!==0?b:DT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===_d.mapValue&&c===_d.mapValue)return 0;if(l===_d.mapValue)return 1;if(c===_d.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const _=Wg(m[b],v[b]);if(_!==0)return _;const S=ml(d[m[b]],p[v[b]]);if(S!==0)return S}return $e(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function IT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=Xr(t),i=Xr(e),a=$e(n.seconds,i.seconds);return a!==0?a:$e(n.nanos,i.nanos)}function DT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=ml(n[a],i[a]);if(l)return l}return $e(n.length,i.length)}function pl(t){return Jg(t)}function Jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Xr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Jg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Jg(n.fields[c])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function Ld(t){switch(Jr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pf(t);return e?16+Ld(e):16;case 5:return 2*t.stringValue.length;case 6:return Wr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Ld(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ia(i.fields,((l,c)=>{a+=l.length+Ld(c)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function MT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zg(t){return!!t&&"integerValue"in t}function i0(t){return!!t&&"arrayValue"in t}function OT(t){return!!t&&"nullValue"in t}function kT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ud(t){return!!t&&"mapValue"in t}function qO(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gS])==null?void 0:i.stringValue)===yS}function Zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ia(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Zc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zc(t.arrayValue.values[n]);return e}return{...t}}function HO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(n)}setAll(e){let n=mn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=Zc(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Ud(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ia(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Pn(Zc(this.value))}}function vS(t){const e=[];return ia(t.fields,((n,i)=>{const a=new mn([n]);if(Ud(i)){const l=vS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,De.min(),De.min(),De.min(),Pn.empty(),0)}static newFoundDocument(e,n,i,a){return new _n(e,1,n,De.min(),i,a,0)}static newNoDocument(e,n){return new _n(e,2,n,De.min(),De.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,De.min(),De.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.position=e,this.inclusive=n}}function jT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),n.key):i=ml(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function VT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function GO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class Gt extends bS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new KO(e,n,i):n==="array-contains"?new XO(e,i):n==="in"?new WO(e,i):n==="not-in"?new JO(e,i):n==="array-contains-any"?new ZO(e,i):new Gt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new YO(e,i):new QO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ml(n,this.value)):n!==null&&Jr(this.value)===Jr(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ls(e,n)}matches(e){return xS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xS(t){return t.op==="and"}function _S(t){return $O(t)&&xS(t)}function $O(t){for(const e of t.filters)if(e instanceof Ls)return!1;return!0}function ey(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+pl(t.value);if(_S(t))return t.filters.map((e=>ey(e))).join(",");{const e=t.filters.map((n=>ey(n))).join(",");return`${t.op}(${e})`}}function TS(t,e){return t instanceof Gt?(function(i,a){return a instanceof Gt&&i.op===a.op&&i.field.isEqual(a.field)&&pi(i.value,a.value)})(t,e):t instanceof Ls?(function(i,a){return a instanceof Ls&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&TS(c,a.filters[d])),!0):!1})(t,e):void Ae(19439)}function wS(t){return t instanceof Gt?(function(n){return`${n.field.canonicalString()} ${n.op} ${pl(n.value)}`})(t):t instanceof Ls?(function(n){return n.op.toString()+" {"+n.getFilters().map(wS).join(" ,")+"}"})(t):"Filter"}class KO extends Gt{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class YO extends Gt{constructor(e,n){super(e,"in",n),this.keys=ES("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class QO extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=ES("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ES(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Te.fromName(i.referenceValue)))}class XO extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i0(n)&&mu(n.arrayValue,this.value)}}class WO extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class JO extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class ZO extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>mu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function PT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new ek(t,e,n,i,a,l,c)}function r0(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ey(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>pl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>pl(i))).join(",")),e.Te=n}return e.Te}function a0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VT(t.startAt,e.startAt)&&VT(t.endAt,e.endAt)}function ty(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tk(t,e,n,i,a,l,c,d){return new Rl(t,e,n,i,a,l,c,d)}function o0(t){return new Rl(t)}function LT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nk(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function SS(t){return t.collectionGroup!==null}function eu(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Jt(mn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new pu(l,i))})),n.has(mn.keyField().canonicalString())||e.Ie.push(new pu(mn.keyField(),i))}return e.Ie}function ui(t){const e=ke(t);return e.Ee||(e.Ee=sk(e,eu(t))),e.Ee}function sk(t,e){if(t.limitType==="F")return PT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new pu(a.field,l)}));const n=t.endAt?new rf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new rf(t.startAt.position,t.startAt.inclusive):null;return PT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ny(t,e){const n=t.filters.concat([e]);return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ik(t,e){const n=t.explicitOrderBy.concat([e]);return new Rl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function sy(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lf(t,e){return a0(ui(t),ui(e))&&t.limitType===e.limitType}function AS(t){return`${r0(ui(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>wS(a))).join(", ")}]`),Vf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>pl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>pl(a))).join(",")),`Target(${i})`})(ui(t))}; limitType=${t.limitType})`}function Uf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of eu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const p=jT(c,d,m);return c.inclusive?p<=0:p<0})(i.startAt,eu(i),a)||i.endAt&&!(function(c,d,m){const p=jT(c,d,m);return c.inclusive?p>=0:p>0})(i.endAt,eu(i),a))})(t,e)}function rk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CS(t){return(e,n)=>{let i=!1;for(const a of eu(t)){const l=ak(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function ak(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?ml(m,p):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new Et(Te.comparator);function er(){return ok}const RS=new Et(Te.comparator);function Kc(...t){let e=RS;for(const n of t)e=e.insert(n.key,n);return e}function NS(t){let e=RS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function za(){return tu()}function IS(){return tu()}function tu(){return new no((t=>t.toString()),((t,e)=>t.isEqual(e)))}const lk=new Et(Te.comparator),ck=new Jt(Te.comparator);function Ke(...t){let e=ck;for(const n of t)e=e.add(n);return e}const uk=new Jt($e);function hk(){return uk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function DS(t){return{integerValue:""+t}}function dk(t,e){return VO(e)?DS(e):l0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function fk(t,e,n){return t instanceof af?(function(a,l){const c={fields:{[fS]:{stringValue:dS},[pS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&s0(l)&&(l=Pf(l)),l&&(c.fields[mS]=l),{mapValue:c}})(n,e):t instanceof gu?OS(t,e):t instanceof yu?kS(t,e):(function(a,l){const c=MS(a,l),d=UT(c)+UT(a.Ae);return Zg(c)&&Zg(a.Ae)?DS(d):l0(a.serializer,d)})(t,e)}function mk(t,e,n){return t instanceof gu?OS(t,e):t instanceof yu?kS(t,e):n}function MS(t,e){return t instanceof of?(function(i){return Zg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class af extends zf{}class gu extends zf{constructor(e){super(),this.elements=e}}function OS(t,e){const n=jS(e);for(const i of t.elements)n.some((a=>pi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class yu extends zf{constructor(e){super(),this.elements=e}}function kS(t,e){let n=jS(e);for(const i of t.elements)n=n.filter((a=>!pi(a,i)));return{arrayValue:{values:n}}}class of extends zf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UT(t){return Ot(t.integerValue||t.doubleValue)}function jS(t){return i0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pk(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof gu&&a instanceof gu||i instanceof yu&&a instanceof yu?fl(i.elements,a.elements,pi):i instanceof of&&a instanceof of?pi(i.Ae,a.Ae):i instanceof af&&a instanceof af})(t.transform,e.transform)}class gk{constructor(e,n){this.version=e,this.transformResults=n}}class ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bf{}function VS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new c0(t.key,ks.none()):new Du(t.key,t.data,ks.none());{const n=t.data,i=Pn.empty();let a=new Jt(mn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ra(t.key,i,new Xn(a.toArray()),ks.none())}}function yk(t,e,n){t instanceof Du?(function(a,l,c){const d=a.value.clone(),m=BT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ra?(function(a,l,c){if(!zd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=BT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(PS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function nu(t,e,n,i){return t instanceof Du?(function(l,c,d,m){if(!zd(l.precondition,c))return d;const p=l.value.clone(),v=FT(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof ra?(function(l,c,d,m){if(!zd(l.precondition,c))return d;const p=FT(l.fieldTransforms,m,c),v=c.data;return v.setAll(PS(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,d){return zd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function vk(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=MS(i.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(i.field,l))}return n||null}function zT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&fl(i,a,((l,c)=>pk(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Du extends Bf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ra extends Bf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function PS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function BT(t,e,n){const i=new Map;it(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,mk(c,d,n[a]))}return i}function FT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,fk(l,c,e))}return i}class c0 extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bk extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&yk(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=nu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=nu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=IS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=VS(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(De.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((n,i)=>zT(n,i)))&&fl(this.baseMutations,e.baseMutations,((n,i)=>zT(n,i)))}}class u0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){it(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return lk})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new u0(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,We;function wk(t){switch(t){case re.OK:return Ae(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function LS(t){if(t===void 0)return Zi("GRPC error has no .code"),re.UNKNOWN;switch(t){case qt.OK:return re.OK;case qt.CANCELLED:return re.CANCELLED;case qt.UNKNOWN:return re.UNKNOWN;case qt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case qt.INTERNAL:return re.INTERNAL;case qt.UNAVAILABLE:return re.UNAVAILABLE;case qt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case qt.NOT_FOUND:return re.NOT_FOUND;case qt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case qt.ABORTED:return re.ABORTED;case qt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case qt.DATA_LOSS:return re.DATA_LOSS;default:return Ae(39323,{code:t})}}(We=qt||(qt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new Gr([4294967295,4294967295],0);function qT(t){const e=Ek().encode(t),n=new ZE;return n.update(e),new Uint8Array(n.digest())}function HT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gr([n,i],0),new Gr([a,l],0)]}class h0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Yc(`Invalid padding: ${n}`);if(i<0)throw new Yc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Yc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gr.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Gr.fromNumber(i)));return a.compare(Sk)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qT(e),[i,a]=HT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new h0(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=qT(e),[i,a]=HT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ff(De.min(),a,new Et($e),er(),Ke())}}class Mu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Mu(i,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class US{constructor(e,n){this.targetId=e,this.Ce=n}}class zS{constructor(e,n,i=yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class GT{constructor(){this.ve=0,this.Fe=$T(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),i=Ke();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ae(38017,{changeType:l})}})),new Mu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=$T()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ak{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.He=Td(),this.Je=Td(),this.Ze=new Et($e)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ty(l))if(i===0){const c=new Te(l.path);this.et(n,c,_n.newNoDocument(c,De.min()))}else it(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Wr(i).toUint8Array()}catch(m){if(m instanceof hS)return dl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new h0(c,a,l)}catch(m){return dl(m instanceof Yc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&ty(d.target)){const m=new Te(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,_n.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ke();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ff(e,n,this.Ze,this.je,i);return this.je=er(),this.He=Td(),this.Je=Td(),this.Ze=new Et($e),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new GT,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Jt($e),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Jt($e),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Td(){return new Et(Te.comparator)}function $T(){return new Et(Te.comparator)}const Ck={asc:"ASCENDING",desc:"DESCENDING"},Rk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nk={and:"AND",or:"OR"};class Ik{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iy(t,e){return t.useProto3Json||Vf(e)?e:{value:e}}function lf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dk(t,e){return lf(t,e.toTimestamp())}function hi(t){return it(!!t,49232),De.fromTimestamp((function(n){const i=Xr(n);return new yt(i.seconds,i.nanos)})(t))}function d0(t,e){return ry(t,e).canonicalString()}function ry(t,e){const n=(function(a){return new mt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function FS(t){const e=mt.fromString(t);return it(KS(e),10190,{key:e.toString()}),e}function ay(t,e){return d0(t.databaseId,e.path)}function pg(t,e){const n=FS(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(HS(n))}function qS(t,e){return d0(t.databaseId,e)}function Mk(t){const e=FS(t);return e.length===4?mt.emptyPath():HS(e)}function oy(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HS(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KT(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function Ok(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(it(v===void 0||typeof v=="string",58123),yn.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),yn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const v=p.code===void 0?re.UNKNOWN:LS(p.code);return new fe(v,p.message||"")})(c);n=new zS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=pg(t,i.document.name),l=hi(i.document.updateTime),c=i.document.createTime?hi(i.document.createTime):De.min(),d=new Pn({mapValue:{fields:i.document.fields}}),m=_n.newFoundDocument(a,l,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Bd(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=pg(t,i.document),l=i.readTime?hi(i.readTime):De.min(),c=_n.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Bd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=pg(t,i.document),l=i.removedTargetIds||[];n=new Bd([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Tk(a,l),d=i.targetId;n=new US(d,c)}}return n}function kk(t,e){let n;if(e instanceof Du)n={update:KT(t,e.key,e.value)};else if(e instanceof c0)n={delete:ay(t,e.key)};else if(e instanceof ra)n={update:KT(t,e.key,e.data),updateMask:qk(e.fieldMask)};else{if(!(e instanceof bk))return Ae(16599,{dt:e.type});n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof af)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof yu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof of)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ae(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Dk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(t,e.precondition)),n}function jk(t,e){return t&&t.length>0?(it(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?hi(a.updateTime):hi(l);return c.isEqual(De.min())&&(c=hi(l)),new gk(c,a.transformResults||[])})(n,e)))):[]}function Vk(t,e){return{documents:[qS(t,e.path)]}}function Pk(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=qS(t,a);const l=(function(p){if(p.length!==0)return $S(Ls.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(_){return{field:Zo(_.field),direction:zk(_.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=iy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function Lk(t){let e=Mk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){it(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const _=GS(b);return _ instanceof Ls&&_S(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((_=>(function(I){return new pu(el(I.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let _;return _=typeof b=="object"?b.value:b,Vf(_)?null:_})(n.limit));let m=null;n.startAt&&(m=(function(b){const _=!!b.before,S=b.values||[];return new rf(S,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const _=!b.before,S=b.values||[];return new rf(S,_)})(n.endAt)),tk(e,a,c,l,d,"F",m,p)}function Uk(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=el(n.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=el(n.unaryFilter.field);return Gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(n.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(n.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gt.create(el(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ls.create(n.compositeFilter.filters.map((i=>GS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function zk(t){return Ck[t]}function Bk(t){return Rk[t]}function Fk(t){return Nk[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function el(t){return mn.fromServerFormat(t.fieldPath)}function $S(t){return t instanceof Gt?(function(n){if(n.op==="=="){if(kT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(OT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(OT(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:Bk(n.op),value:n.value}}})(t):t instanceof Ls?(function(n){const i=n.getFilters().map((a=>$S(a)));return i.length===1?i[0]:{compositeFilter:{op:Fk(n.op),filters:i}}})(t):Ae(54877,{filter:t})}function qk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function KS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function YS(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,i,a,l=De.min(),c=De.min(),d=yn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.yt=e}}function Gk(t){const e=Lk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Sn=new Kk}addToCollectionParentIndex(e,n){return this.Sn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Qr.min())}updateCollectionGroup(e,n,i){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class Kk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Jt(mt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Jt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QS=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(QS,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new gl(0)}static ar(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="LruGarbageCollector",Yk=1048576;function XT([t,e],[n,i]){const a=$e(t,n);return a===0?$e(e,i):a}class Qk{constructor(e){this.Pr=e,this.buffer=new Jt(XT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();XT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Xk{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(QT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?me(QT,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.Ar(3e5)}))}}class Wk{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(jf.ce);const i=new Qk(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(YT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),Wo()<=Ge.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function Jk(t,e){return new Wk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.changes=new no((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&nu(i.mutation,a,Xn.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ke()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ke()){const a=za();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Kc();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=za();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ke())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=er();const c=tu(),d=(function(){return tu()})();return n.forEach(((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ra)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),nu(v.mutation,p,v.mutation.getFieldMask(),yt.now())):c.set(p.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>d.set(p,new ej(v,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=tu();let a=new Et(((c,d)=>c-d)),l=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=i.get(m)||Xn.empty();v=d.applyToLocalView(p,v),i.set(m,v);const b=(a.get(d.batchId)||Ke()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,b=IS();v.forEach((_=>{if(!l.has(_)){const S=VS(n.get(_),i.get(_));S!==null&&b.set(_,S),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return oe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return nk(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):oe.resolve(za());let d=hu,m=l;return c.next((p=>oe.forEach(p,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{m=m.insert(v,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ke()))).next((v=>({batchId:d,changes:NS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((i=>{let a=Kc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Kc();return this.indexManager.getCollectionParents(e,l).next((d=>oe.forEach(d,(m=>{const p=(function(b,_){return new Rl(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((b,_)=>{c=c.insert(b,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,_n.newInvalidDocument(v)))}));let d=Kc();return c.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&nu(v.mutation,p,Xn.empty(),yt.now()),Uf(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return oe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:hi(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:Gk(a.bundledQuery),readTime:hi(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.overlays=new Et(Te.comparator),this.Lr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=za();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),oe.resolve()}getOverlaysForCollection(e,n,i){const a=za(),l=n.length+1,c=new Te(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Et(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=za(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=za(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return oe.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new _k(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ke(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.kr=new Jt(rn.Kr),this.qr=new Jt(rn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new rn(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new rn(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Te(new mt([])),i=new rn(n,e),a=new rn(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new mt([])),i=new rn(n,e),a=new rn(n,e+1);let l=Ke();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new rn(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||$e(e.Hr,n.Hr)}static Ur(e,n){return $e(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Jt(rn.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xk(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?n0:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new rn(n,0),a=new rn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Jt($e);return n.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),oe.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const c=new rn(new Te(l),0);let d=new Jt($e);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Hr)),!0)}),c),oe.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){it(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return oe.forEach(n.mutations,(a=>{const l=new rn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new rn(n,0),a=this.Jr.firstAfterOrEqual(i);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.ti=e,this.docs=(function(){return new Et(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return oe.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let i=er();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))})),oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=er();const c=n.path,d=new Te(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||MO(DO(v),i)<=0||(a.has(v.key)||Uf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ae(9500)}ni(e,n){return oe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new oj(this)}getSize(e){return oe.resolve(this.size)}}class oj extends Zk{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),oe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.persistence=e,this.ri=new no((n=>r0(n)),a0),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new f0,this.targetCount=0,this.oi=gl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),oe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.lr(n),oe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return oe.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),oe.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return oe.resolve(i)}containsKey(e,n){return oe.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this._i={},this.overlays={},this.ai=new jf(0),this.ui=!1,this.ui=!0,this.ci=new ij,this.referenceDelegate=e(this),this.li=new lj(this),this.indexManager=new $k,this.remoteDocumentCache=(function(a){return new aj(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new Hk(n),this.Pi=new nj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new rj(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new cj(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return oe.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class cj extends kO{constructor(e){super(),this.currentSequenceNumber=e}}class m0{constructor(e){this.persistence=e,this.Ri=new f0,this.Ai=null}static Vi(e){return new m0(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),oe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,(i=>{const a=Te.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,De.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class cf{constructor(e,n){this.persistence=e,this.fi=new no((i=>PO(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=Jk(this,n)}static Vi(e,n){return new cf(e,n)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return oe.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(i++,l.removeEntry(c,De.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),oe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ld(e.data.value)),n}wr(e,n,i){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return oe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ke(),a=Ke();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new p0(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return eM()?8:jO(wn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new uj;return this.ys(e,n,c).next((d=>{if(l.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Wo()<=Ge.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Wo()<=Ge.DEBUG&&me("QueryEngine","Query:",Jo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Wo()<=Ge.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):oe.resolve())}gs(e,n){if(LT(n))return oe.resolve(null);let i=ui(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=sy(n,null,"F"),i=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ke(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.bs(n,d);return this.Ss(n,p,c,m.readTime)?this.gs(e,sy(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,i,a){return LT(n)||a.isEqual(De.min())?oe.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?oe.resolve(null):(Wo()<=Ge.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jo(n)),this.Ds(e,c,n,IO(a,hu)).next((d=>d)))}))}bs(e,n){let i=new Jt(CS(e));return n.forEach(((a,l)=>{Uf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Wo()<=Ge.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.fs.getDocumentsMatchingQuery(e,n,Qr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="LocalStore",dj=3e8;class fj{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Et($e),this.Fs=new no((l=>r0(l)),a0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function mj(t,e,n,i){return new fj(t,e,n,i)}async function WS(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Ke();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function pj(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,v){const b=p.batch,_=b.keys();let S=oe.resolve();return _.forEach((I=>{S=S.next((()=>v.getEntry(m,I))).next((V=>{const k=p.docVersions.get(I);it(k!==null,48541),V.version.compareTo(k)<0&&(b.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),v.addEntry(V)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ke();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function JS(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function gj(t,e){const n=ke(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const _=a.get(b);if(!_)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let S=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(yn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(V,k,U){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=dj?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(_,S,v)&&d.push(n.li.updateTargetData(l,S))}));let m=er(),p=Ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(yj(l,c,e.documentUpdates).next((v=>{m=v.Bs,p=v.Ls}))),!i.isEqual(De.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return oe.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function yj(t,e,n){let i=Ke(),a=Ke();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=er();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(De.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(g0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function vj(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=n0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function bj(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,oe.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Br(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function ly(t,e,n){const i=ke(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Cl(c))throw c;me(g0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function WT(t,e,n){const i=ke(t);let a=De.min(),l=Ke();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,v){const b=ke(m),_=b.Fs.get(v);return _!==void 0?oe.resolve(b.vs.get(_)):b.li.getTargetData(p,v)})(i,c,ui(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:De.min(),n?l:Ke()))).next((d=>(xj(i,rk(e),d),{documents:d,ks:l})))))}function xj(t,e,n){let i=t.Ms.get(e)||De.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class JT{constructor(){this.activeTargetIds=hk()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _j{constructor(){this.vo=new JT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new JT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="ConnectivityMonitor";class e1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(ZT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(ZT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function cy(){return wd===null?wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="RestConnection",wj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Ej{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===nf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=cy(),d=this.Qo(e,n.toUriEncodedString());me(gg,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(d),v=eo(p);return this.zo(e,d,m,i,v).then((b=>(me(gg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw dl(gg,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=wj[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection",Bc=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class rl extends Ej{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!rl.c_){const e=sS();Bc(e,nS.STAT_EVENT,(n=>{n.stat===Xg.PROXY?me(bn,"STAT_EVENT: detected buffering proxy"):n.stat===Xg.NOPROXY&&me(bn,"STAT_EVENT: detected no buffering proxy")})),rl.c_=!0}}zo(e,n,i,a,l){const c=cy();return new Promise(((d,m)=>{const p=new eS;p.setWithCredentials(!0),p.listenOnce(tS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Pd.NO_ERROR:const b=p.getResponseJson();me(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Pd.TIMEOUT:me(bn,`RPC '${e}' ${c} timed out`),m(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Pd.HTTP_ERROR:const _=p.getStatus();if(me(bn,`RPC '${e}' ${c} failed with status:`,_,"response text:",p.getResponseText()),_>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const V=(function(U){const q=U.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(q)>=0?q:re.UNKNOWN})(I.status);m(new fe(V,I.message))}else m(new fe(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(bn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);me(bn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=cy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=l.join("");me(bn,`Creating RPC '${e}' stream ${a}: ${p}`,d);const v=c.createWebChannel(p,d);this.I_(v);let b=!1,_=!1;const S=new Sj({Ho:I=>{_?me(bn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(me(bn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),me(bn,`RPC '${e}' stream ${a} sending:`,I),v.send(I))},Jo:()=>v.close()});return Bc(v,$c.EventType.OPEN,(()=>{_||(me(bn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Bc(v,$c.EventType.CLOSE,(()=>{_||(_=!0,me(bn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),Bc(v,$c.EventType.ERROR,(I=>{_||(_=!0,dl(bn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),S.o_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),Bc(v,$c.EventType.MESSAGE,(I=>{var V;if(!_){const k=I.data[0];it(!!k,16349);const U=k,q=(U==null?void 0:U.error)||((V=U[0])==null?void 0:V.error);if(q){me(bn,`RPC '${e}' stream ${a} received error:`,q);const F=q.status;let ee=(function(D){const E=qt[D];if(E!==void 0)return LS(E)})(F),Y=q.message;ee===void 0&&(ee=re.INTERNAL,Y="Unknown error status: "+F+" with message "+q.message),_=!0,S.o_(new fe(ee,Y)),v.close()}else me(bn,`RPC '${e}' stream ${a} received:`,k),S.__(k)}})),rl.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return iS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){return new rl(t)}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return new Ik(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rl.c_=!1;class ZS{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="PersistentStream";class eA{constructor(e,n,i,a,l,c,d,m){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new fe(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(t1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(t1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cj extends eA{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ok(this.serializer,e),i=(function(l){if(!("targetChange"in l))return De.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?hi(c.readTime):De.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=oy(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=ty(m)?{documents:Vk(l,m)}:{query:Pk(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=BS(l,c.resumeToken);const p=iy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(De.min())>0){d.readTime=lf(l,c.snapshotVersion.toTimestamp());const p=iy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=Uk(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=oy(this.serializer),n.removeTarget=e,this.K_(n)}}class Rj extends eA{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jk(e.writeResults,e.commitTime),i=hi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=oy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>kk(this.serializer,i)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{}class Ij extends Nj{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,ry(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(re.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,ry(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Dj(t,e,n,i){return new Ij(t,e,n,i)}class Mj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="RemoteStore";class Oj{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{so(this)&&(me(Wa,"Restarting streams for network reachability change."),await(async function(m){const p=ke(m);p.Ea.add(4),await Ou(p),p.Va.set("Unknown"),p.Ea.delete(4),await Hf(p)})(this))}))})),this.Va=new Mj(i,a)}}async function Hf(t){if(so(t))for(const e of t.Ra)await e(!0)}async function Ou(t){for(const e of t.Ra)await e(!1)}function tA(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),x0(n)?b0(n):Nl(n).O_()&&v0(n,e))}function y0(t,e){const n=ke(t),i=Nl(n);n.Ia.delete(e),i.O_()&&nA(n,e),n.Ia.size===0&&(i.O_()?i.L_():so(n)&&n.Va.set("Unknown"))}function v0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(t).Z_(e)}function nA(t,e){t.da.$e(e),Nl(t).X_(e)}function b0(t){t.da=new Ak({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nl(t).start(),t.Va.ua()}function x0(t){return so(t)&&!Nl(t).x_()&&t.Ia.size>0}function so(t){return ke(t).Ea.size===0}function sA(t){t.da=void 0}async function kj(t){t.Va.set("Online")}async function jj(t){t.Ia.forEach(((e,n)=>{v0(t,e)}))}async function Vj(t,e){sA(t),x0(t)?(t.Va.ha(e),b0(t)):t.Va.set("Unknown")}async function Pj(t,e,n){if(t.Va.set("Online"),e instanceof zS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){me(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await uf(t,i)}else if(e instanceof Bd?t.da.Xe(e):e instanceof US?t.da.st(e):t.da.tt(e),!n.isEqual(De.min()))try{const i=await JS(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),nA(l,m);const b=new Br(v.target,m,p,v.sequenceNumber);v0(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){me(Wa,"Failed to raise snapshot:",i),await uf(t,i)}}async function uf(t,e,n){if(!Cl(e))throw e;t.Ea.add(1),await Ou(t),t.Va.set("Offline"),n||(n=()=>JS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hf(t)}))}function iA(t,e){return e().catch((n=>uf(t,n,e)))}async function Gf(t){const e=ke(t),n=Zr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:n0;for(;Lj(e);)try{const a=await vj(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,Uj(e,a)}catch(a){await uf(e,a)}rA(e)&&aA(e)}function Lj(t){return so(t)&&t.Ta.length<10}function Uj(t,e){t.Ta.push(e);const n=Zr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function rA(t){return so(t)&&!Zr(t).x_()&&t.Ta.length>0}function aA(t){Zr(t).start()}async function zj(t){Zr(t).ra()}async function Bj(t){const e=Zr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Fj(t,e,n){const i=t.Ta.shift(),a=u0.from(i,e,n);await iA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Gf(t)}async function qj(t,e){e&&Zr(t).Y_&&await(async function(i,a){if((function(c){return wk(c)&&c!==re.ABORTED})(a.code)){const l=i.Ta.shift();Zr(i).B_(),await iA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Gf(i)}})(t,e),rA(t)&&aA(t)}async function n1(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),me(Wa,"RemoteStore received new credentials");const i=so(n);n.Ea.add(3),await Ou(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hf(n)}async function Hj(t,e){const n=ke(t);e?(n.Ea.delete(2),await Hf(n)):e||(n.Ea.add(2),await Ou(n),n.Va.set("Unknown"))}function Nl(t){return t.ma||(t.ma=(function(n,i,a){const l=ke(n);return l.sa(),new Cj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:kj.bind(null,t),Yo:jj.bind(null,t),t_:Vj.bind(null,t),J_:Pj.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),x0(t)?b0(t):t.Va.set("Unknown")):(await t.ma.stop(),sA(t))}))),t.ma}function Zr(t){return t.fa||(t.fa=(function(n,i,a){const l=ke(n);return l.sa(),new Rj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zj.bind(null,t),t_:qj.bind(null,t),ta:Bj.bind(null,t),na:Fj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Gf(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new _0(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T0(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),Cl(t))return new fe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=Kc(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new al;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.ga=new Et(Te.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class yl{constructor(e,n,i,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new yl(e,n,al.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class $j{constructor(){this.queries=i1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=ke(n),l=a.queries;a.queries=i1(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(i)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function i1(){return new no((t=>AS(t)),Lf)}async function Kj(t,e){const n=ke(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new Gj,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=T0(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&w0(n)}async function Yj(t,e){const n=ke(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Qj(t,e){const n=ke(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&w0(n)}function Xj(t,e,n){const i=ke(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function w0(t){t.Ca.forEach((e=>{e.next()}))}var uy,r1;(r1=uy||(uy={})).Ma="default",r1.Cache="cache";class Wj{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.key=e}}class lA{constructor(e){this.key=e}}class Jj{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=CS(e),this.tu=new al(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new s1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const _=a.get(v),S=Uf(this.query,b)?b:null,I=!!_&&this.mutatedKeys.has(_.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;_&&S?_.data.isEqual(S.data)?I!==V&&(i.track({type:3,doc:S}),k=!0):this.su(_,S)||(i.track({type:2,doc:S}),k=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(d=!0)):!_&&S?(i.track({type:0,doc:S}),k=!0):_&&!S&&(i.track({type:1,doc:_}),k=!0,(m||p)&&(d=!0)),k&&(S?(c=c.add(S),l=V?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,I){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:k})}};return V(S)-V(I)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new yl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new lA(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new oA(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const E0="SyncEngine";class Zj{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class eV{constructor(e){this.key=e,this.hu=!1}}class tV{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new no((d=>AS(d)),Lf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Et(Te.comparator),this.Au=new Map,this.Vu=new f0,this.du={},this.mu=new Map,this.fu=gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nV(t,e,n=!0){const i=mA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await cA(i,e,n,!0),a}async function sV(t,e){const n=mA(t);await cA(n,e,!0,!1)}async function cA(t,e,n,i){const a=await bj(t.localStore,ui(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await iV(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&tA(t.remoteStore,a),d}async function iV(t,e,n,i,a){t.pu=(b,_,S)=>(async function(V,k,U,q){let F=k.view.ru(U);F.Ss&&(F=await WT(V.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,F))));const ee=q&&q.targetChanges.get(k.targetId),Y=q&&q.targetMismatches.get(k.targetId)!=null,le=k.view.applyChanges(F,V.isPrimaryClient,ee,Y);return o1(V,k.targetId,le.au),le.snapshot})(t,b,_,S);const l=await WT(t.localStore,e,!0),c=new Jj(e,l.ks),d=c.ru(l.documents),m=Mu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);o1(t,n,p.au);const v=new Zj(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function rV(t,e,n){const i=ke(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Lf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ly(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&y0(i.remoteStore,a.targetId),hy(i,a.targetId)})).catch(Al)):(hy(i,a.targetId),await ly(i.localStore,a.targetId,!0))}async function aV(t,e){const n=ke(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),y0(n.remoteStore,i.targetId))}async function oV(t,e,n){const i=mV(t);try{const a=await(function(c,d){const m=ke(c),p=yt.now(),v=d.reduce(((S,I)=>S.add(I.key)),Ke());let b,_;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let I=er(),V=Ke();return m.xs.getEntries(S,v).next((k=>{I=k,I.forEach(((U,q)=>{q.isValidDocument()||(V=V.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,I))).next((k=>{b=k;const U=[];for(const q of d){const F=vk(q,b.get(q.key).overlayedDocument);F!=null&&U.push(new ra(q.key,F,vS(F.value.mapValue),ks.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,U,d)})).next((k=>{_=k;const U=k.applyToLocalDocumentSet(b,V);return m.documentOverlayCache.saveOverlays(S,k.batchId,U)}))})).then((()=>({batchId:_.batchId,changes:NS(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.du[c.currentUser.toKey()];p||(p=new Et($e)),p=p.insert(d,m),c.du[c.currentUser.toKey()]=p})(i,a.batchId,n),await ku(i,a.changes),await Gf(i.remoteStore)}catch(a){const l=T0(a,"Failed to persist write");n.reject(l)}}async function uA(t,e){const n=ke(t);try{const i=await gj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(it(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?it(c.hu,14607):a.removedDocuments.size>0&&(it(c.hu,42227),c.hu=!1))})),await ku(n,i,e)}catch(i){await Al(i)}}function a1(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=ke(c);m.onlineState=d;let p=!1;m.queries.forEach(((v,b)=>{for(const _ of b.ba)_.va(d)&&(p=!0)})),p&&w0(m)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function lV(t,e,n){const i=ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Et(Te.comparator);c=c.insert(l,_n.newNoDocument(l,De.min()));const d=Ke().add(l),m=new Ff(De.min(),new Map,new Et($e),c,d);await uA(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),S0(i)}else await ly(i.localStore,e,!1).then((()=>hy(i,e,n))).catch(Al)}async function cV(t,e){const n=ke(t),i=e.batch.batchId;try{const a=await pj(n.localStore,e);dA(n,i,null),hA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ku(n,a)}catch(a){await Al(a)}}async function uV(t,e,n){const i=ke(t);try{const a=await(function(c,d){const m=ke(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next((b=>(it(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);dA(i,e,n),hA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ku(i,a)}catch(a){await Al(a)}}function hA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function dA(t,e,n){const i=ke(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||fA(t,i)}))}function fA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(y0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),S0(t))}function o1(t,e,n){for(const i of n)i instanceof oA?(t.Vu.addReference(i.key,e),hV(t,i)):i instanceof lA?(me(E0,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||fA(t,i.key)):Ae(19791,{wu:i})}function hV(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(me(E0,"New document in limbo: "+n),t.Eu.add(i),S0(t))}function S0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(mt.fromString(e)),i=t.fu.next();t.Au.set(i,new eV(n)),t.Ru=t.Ru.insert(n,i),tA(t.remoteStore,new Br(ui(o0(n.path)),i,"TargetPurposeLimboResolution",jf.ce))}}async function ku(t,e,n){const i=ke(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,n).then((p=>{var v;if((p||n)&&i.isPrimaryClient){const b=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(p){a.push(p);const b=p0.Es(m.targetId,p);l.push(b)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(m,p){const v=ke(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>oe.forEach(p,(_=>oe.forEach(_.Ts,(S=>v.persistence.referenceDelegate.addReference(b,_.targetId,S))).next((()=>oe.forEach(_.Is,(S=>v.persistence.referenceDelegate.removeReference(b,_.targetId,S)))))))))}catch(b){if(!Cl(b))throw b;me(g0,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const S=v.vs.get(_),I=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(I);v.vs=v.vs.insert(_,V)}}})(i.localStore,l))}async function dV(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){me(E0,"User change. New user:",e.toKey());const i=await WS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new fe(re.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ku(n,i.Ns)}}function fV(t,e){const n=ke(t),i=n.Au.get(e);if(i&&i.hu)return Ke().add(i.key);{let a=Ke();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function mA(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lV.bind(null,e),e.Pu.J_=Qj.bind(null,e.eventManager),e.Pu.yu=Xj.bind(null,e.eventManager),e}function mV(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uV.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mj(this.persistence,new hj,e.initialUser,this.serializer)}Cu(e){return new XS(m0.Vi,this.serializer)}Du(e){return new _j}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class pV extends hf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof cf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Xk(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new XS((i=>cf.Vi(i,n)),this.serializer)}}class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>a1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dV.bind(null,this.syncEngine),await Hj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $j})()}createDatastore(e){const n=qf(e.databaseInfo.databaseId),i=Aj(e.databaseInfo);return Dj(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new Oj(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>a1(this.syncEngine,n,0)),(function(){return e1.v()?new e1:new Tj})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,v){const b=new tV(a,l,c,d,m,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=ke(a);me(Wa,"RemoteStore shutting down."),l.Ea.add(5),await Ou(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dy.provider={build:()=>new dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="FirestoreClient";class yV{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=xn.UNAUTHENTICATED,this.clientId=t0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{me(ea,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(me(ea,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=T0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function vg(t,e){t.asyncQueue.verifyOperationInProgress(),me(ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await WS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function l1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vV(t);me(ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>n1(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>n1(e.remoteStore,a))),t._onlineComponents=e}async function vV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ea,"Using user provided OfflineComponentProvider");try{await vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await vg(t,new hf)}}else me(ea,"Using default OfflineComponentProvider"),await vg(t,new pV(void 0));return t._offlineComponents}async function pA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ea,"Using user provided OnlineComponentProvider"),await l1(t,t._uninitializedComponentsProvider._online)):(me(ea,"Using default OnlineComponentProvider"),await l1(t,new dy))),t._onlineComponents}function bV(t){return pA(t).then((e=>e.syncEngine))}async function c1(t){const e=await pA(t),n=e.eventManager;return n.onListen=nV.bind(null,e.syncEngine),n.onUnlisten=rV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aV.bind(null,e.syncEngine),n}function xV(t,e,n,i){const a=new gV(i),l=new Wj(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Kj(await c1(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Yj(await c1(t),l)))}}function _V(t,e){const n=new Ha;return t.asyncQueue.enqueueAndForget((async()=>oV(await bV(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="ComponentProvider",u1=new Map;function wV(t,e,n,i,a){return new zO(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,gA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firestore.googleapis.com",h1=!0;class d1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=h1}else this.host=e.host,this.ssl=e.ssl??h1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Yk)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new bO;switch(i.type){case"firstParty":return new wO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=u1.get(n);i&&(me(TV,"Removing Datastore"),u1.delete(n),i.terminate())})(this),Promise.resolve()}}function EV(t,e,n,i={}){var p;t=$r(t,$f);const a=eo(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Qy(`https://${d}`),Xy("Firestore",!0)),l.host!==yA&&l.host!==d&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Ya(m,c)&&(t._setSettings(m),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=xn.MOCK_USER;else{v=KE(i.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new xn(_)}t._authCredentials=new xO(new aS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class Kt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Iu(n,Kt._jsonSchema))return new Kt(e,i||null,new Te(mt.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:$t("string",Kt._jsonSchemaVersion),referencePath:$t("string")};class Kr extends io{constructor(e,n,i){super(e,n,o0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Te(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function Ed(t,e,...n){if(t=Zt(t),oS("collection","path",e),t instanceof $f){const i=mt.fromString(e,...n);return ET(i),new Kr(t,null,i)}{if(!(t instanceof Kt||t instanceof Kr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(mt.fromString(e,...n));return ET(i),new Kr(t.firestore,null,i)}}function Fd(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=t0.newId()),oS("doc","path",e),t instanceof $f){const i=mt.fromString(e,...n);return wT(i),new Kt(t,null,new Te(i))}{if(!(t instanceof Kt||t instanceof Kr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(mt.fromString(e,...n));return wT(i),new Kt(t.firestore,t instanceof Kr?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="AsyncQueue";class m1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZS(this,"async_queue_retry"),this._c=()=>{const i=yg();i&&me(f1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;me(f1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",p1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=_0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:p1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function p1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vl extends $f{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new m1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m1(e),this._firestoreClient=void 0,await e}}}function SV(t,e){const n=typeof t=="object"?t:Zy(),i=typeof t=="string"?t:nf,a=Of(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=HE("firestore");l&&EV(a,...l)}return a}function vA(t){if(t._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AV(t),t._firestoreClient}function AV(t){var i,a,l,c;const e=t._freezeSettings(),n=wV(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(yn.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ps(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,ps._jsonSchema))return ps.fromBase64String(e.bytes)}}ps._jsonSchemaVersion="firestore/bytes/1.0",ps._jsonSchema={type:$t("string",ps._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:$t("string",di._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new js(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:$t("string",js._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=/^__.*__$/;class RV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}class bA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:t})}}class R0{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new R0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return df(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(xA(this.dataSource)&&CV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class NV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||qf(e)}createContext(e,n,i,a=!1){return new R0({dataSource:e,methodName:n,targetDoc:i,path:mn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(t){const e=t._freezeSettings(),n=qf(t._databaseId);return new NV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IV(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);I0("Data must be an object, but it was:",c,i);const d=_A(i,c);let m,p;if(l.merge)m=new Xn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const _=bl(e,b,n);if(!c.contains(_))throw new fe(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);EA(v,_)||v.push(_)}m=new Xn(v),p=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=c.fieldTransforms;return new RV(new Pn(d),m,p)}class Kf extends C0{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function DV(t,e,n,i){const a=t.createContext(1,e,n);I0("Data must be an object, but it was:",a,i);const l=[],c=Pn.empty();ia(i,((m,p)=>{const v=wA(e,m,n);p=Zt(p);const b=a.childContextForFieldPath(v);if(p instanceof Kf)l.push(v);else{const _=ju(p,b);_!=null&&(l.push(v),c.set(v,_))}}));const d=new Xn(l);return new bA(c,d,a.fieldTransforms)}function MV(t,e,n,i,a,l){const c=t.createContext(1,e,n),d=[bl(e,i,n)],m=[a];if(l.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)d.push(bl(e,l[_])),m.push(l[_+1]);const p=[],v=Pn.empty();for(let _=d.length-1;_>=0;--_)if(!EA(p,d[_])){const S=d[_];let I=m[_];I=Zt(I);const V=c.childContextForFieldPath(S);if(I instanceof Kf)p.push(S);else{const k=ju(I,V);k!=null&&(p.push(S),v.set(S,k))}}const b=new Xn(p);return new bA(v,b,c.fieldTransforms)}function OV(t,e,n,i=!1){return ju(n,t.createContext(i?4:3,e))}function ju(t,e){if(TA(t=Zt(t)))return I0("Unsupported field value:",e,t),_A(t,e);if(t instanceof C0)return(function(i,a){if(!xA(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=ju(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=yt.fromDate(i);return{timestampValue:lf(a.serializer,l)}}if(i instanceof yt){const l=new yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lf(a.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ps)return{bytesValue:BS(a.serializer,i._byteString)};if(i instanceof Kt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:d0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof js)return(function(c,d){const m=c instanceof js?c.toArray():c;return{mapValue:{fields:{[gS]:{stringValue:yS},[sf]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return l0(d.serializer,v)}))}}}}}})(i,a);if(YS(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${kf(i)}`)})(t,e)}function _A(t,e){const n={};return uS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(t,((i,a)=>{const l=ju(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function TA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof di||t instanceof ps||t instanceof Kt||t instanceof C0||t instanceof js||YS(t))}function I0(t,e,n){if(!TA(n)||!lS(n)){const i=kf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function bl(t,e,n){if((e=Zt(e))instanceof A0)return e._internalPath;if(typeof e=="string")return wA(t,e);throw df("Field path arguments must be of type string or ",t,!1,void 0,n)}const kV=new RegExp("[~\\*/\\[\\]]");function wA(t,e,n){if(e.search(kV)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new A0(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function df(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new fe(re.INVALID_ARGUMENT,d+t+m)}function EA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{convertValue(e,n="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ia(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){var i,a,l;const n=(l=(a=(i=e.fields)==null?void 0:i[sf].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Ot(c.doubleValue)));return new js(n)}convertGeoPoint(e){return new di(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Pf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=mt.fromString(e);it(KS(i),9688,{name:e});const a=new fu(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(n)||Zi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends jV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}const g1="@firebase/firestore",y1="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(bl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VV extends AA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D0{}class CA extends D0{}function LV(t,e,...n){let i=[];e instanceof D0&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof O0)).length,d=l.filter((m=>m instanceof M0)).length;if(c>1||c>0&&d>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class M0 extends CA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new M0(e,n,i)}_apply(e){const n=this._parse(e);return RA(e._query,n),new io(e.firestore,e.converter,ny(e._query,n))}_parse(e){const n=N0(e.firestore);return(function(l,c,d,m,p,v,b){let _;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){x1(b,v);const I=[];for(const V of b)I.push(b1(m,l,V));_={arrayValue:{values:I}}}else _=b1(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||x1(b,v),_=OV(d,c,b,v==="in"||v==="not-in");return Gt.create(p,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class O0 extends D0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new O0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ls.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)RA(c,m),c=ny(c,m)})(e._query,n),new io(e.firestore,e.converter,ny(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k0 extends CA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new k0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pu(l,c)})(e._query,this._field,this._direction);return new io(e.firestore,e.converter,ik(e._query,n))}}function UV(t,e="asc"){const n=e,i=bl("orderBy",t);return k0._create(i,n)}function b1(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SS(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(mt.fromString(n));if(!Te.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return MT(t,new Te(i))}if(n instanceof Kt)return MT(t,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(n)}.`)}function x1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RA(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function zV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ga extends AA{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(bl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ga._jsonSchema={type:$t("string",Ga._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class qd extends Ga{data(e={}){return super.data(e)}}class ol{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Qc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new qd(this._firestore,this._userDataWriter,i.key,i,new Qc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new qd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Qc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new qd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Qc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:BV(d.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=t0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:$t("string",ol._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};function FV(t,e,n,...i){t=$r(t,Kt);const a=$r(t.firestore,vl),l=N0(a);let c;return c=typeof(e=Zt(e))=="string"||e instanceof A0?MV(l,"updateDoc",t._key,e,n,i):DV(l,"updateDoc",t._key,e),j0(a,[c.toMutation(t._key,ks.exists(!0))])}function _1(t){return j0($r(t.firestore,vl),[new c0(t._key,ks.none())])}function T1(t,e){const n=$r(t.firestore,vl),i=Fd(t),a=zV(t.converter,e),l=N0(t.firestore);return j0(n,[IV(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,ks.exists(!1))]).then((()=>i))}function w1(t,...e){var p,v,b;t=Zt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||v1(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(v1(e[i])){const _=e[i];e[i]=(p=_.next)==null?void 0:p.bind(_),e[i+1]=(v=_.error)==null?void 0:v.bind(_),e[i+2]=(b=_.complete)==null?void 0:b.bind(_)}let l,c,d;if(t instanceof Kt)c=$r(t.firestore,vl),d=o0(t._key.path),l={next:_=>{e[i]&&e[i](qV(c,t,_))},error:e[i+1],complete:e[i+2]};else{const _=$r(t,io);c=$r(_.firestore,vl),d=_._query;const S=new SA(c);l={next:I=>{e[i]&&e[i](new ol(c,S,_,I))},error:e[i+1],complete:e[i+2]},PV(t._query)}const m=vA(c);return xV(m,d,a,l)}function j0(t,e){const n=vA(t);return _V(n,e)}function qV(t,e,n){const i=n.docs.get(e._key),a=new SA(t);return new Ga(t,a,e._key,i,new Qc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){vO(to),Qa(new Yr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new vl(new _O(i.getProvider("auth-internal")),new EO(c,i.getProvider("app-check-internal")),BO(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ci(g1,y1,e),ci(g1,y1,"esm2020")})();var HV="firebase",GV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(HV,GV,"app");function NA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $V=NA,IA=new Ru("auth","Firebase",NA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Wy("@firebase/auth");function KV(t,...e){ff.logLevel<=Ge.WARN&&ff.warn(`Auth (${to}): ${t}`,...e)}function Hd(t,...e){ff.logLevel<=Ge.ERROR&&ff.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,...e){throw P0(t,...e)}function Vs(t,...e){return P0(t,...e)}function V0(t,e,n){const i={...$V(),[e]:n};return new Ru("auth","Firebase",i).create(e,{appName:t.name})}function $a(t){return V0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YV(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&gi(t,"argument-error"),V0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return IA.create(t,...e)}function Ne(t,e,...n){if(!t)throw P0(e,...n)}function $i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function tr(t,e){t||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function QV(){return E1()==="http:"||E1()==="https:"}function E1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QV()||WD()||"connection"in navigator)?navigator.onLine:!0}function WV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=YD()||JD()}get(){return XV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e){tr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e4=new Vu(3e4,6e4);function U0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Il(t,e,n,i,a={}){return MA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Nu({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return XD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&eo(t.emulatorConfig.host)&&(p.credentials="include"),DA.fetch()(await OA(t,t.config.apiHost,n,d),p)})}async function MA(t,e,n){t._canInitEmulator=!1;const i={...JV,...e};try{const a=new n4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Sd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Sd(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Sd(t,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw V0(t,v,p);gi(t,v)}}catch(a){if(a instanceof xi)throw a;gi(t,"network-request-failed",{message:String(a)})}}async function t4(t,e,n,i,a={}){const l=await Il(t,e,n,i,a);return"mfaPendingCredential"in l&&gi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function OA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?L0(t.config,a):`${t.config.apiScheme}://${a}`;return ZV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class n4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vs(this.auth,"network-request-failed")),e4.get())})}}function Sd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Vs(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e){return Il(t,"POST","/v1/accounts:delete",e)}async function mf(t,e){return Il(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i4(t,e=!1){const n=Zt(t),i=await n.getIdToken(e),a=z0(i);Ne(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:su(bg(a.auth_time)),issuedAtTime:su(bg(a.iat)),expirationTime:su(bg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function bg(t){return Number(t)*1e3}function z0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const a=FE(n);return a?JSON.parse(a):(Hd("Failed to decode base64 JWT payload"),null)}catch(a){return Hd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function S1(t){const e=z0(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xi&&r4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function r4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t){var b;const e=t.auth,n=await t.getIdToken(),i=await vu(t,mf(e,{idToken:n}));Ne(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=(b=a.providerUserInfo)!=null&&b.length?kA(a.providerUserInfo):[],c=l4(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new my(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function o4(t){const e=Zt(t);await pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l4(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function kA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e){const n=await MA(t,{},async()=>{const i=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await OA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return t.emulatorConfig&&eo(t.emulatorConfig.host)&&(m.credentials="include"),DA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u4(t,e){return Il(t,"POST","/v2/accounts:revokeToken",U0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=S1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await c4(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new ll;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ms{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new a4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new my(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i4(this,e)}reload(){return o4(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await pf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ms(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await vu(this,s4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:S,providerData:I,stsTokenManager:V}=n;Ne(b&&V,e,"internal-error");const k=ll.fromJSON(this.name,V);Ne(typeof b=="string",e,"internal-error"),jr(i,e.name),jr(a,e.name),Ne(typeof _=="boolean",e,"internal-error"),Ne(typeof S=="boolean",e,"internal-error"),jr(l,e.name),jr(c,e.name),jr(d,e.name),jr(m,e.name),jr(p,e.name),jr(v,e.name);const U=new Ms({uid:b,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:p,lastLoginAt:v});return I&&Array.isArray(I)&&(U.providerData=I.map(q=>({...q}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,i=!1){const a=new ll;a.updateFromServerResponse(n);const l=new Ms({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await pf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new ll;d.updateFromIdToken(i);const m=new Ms({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new my(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Map;function Ki(t){tr(t instanceof Function,"Expected a class definition");let e=A1.get(t);return e?(tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jA.type="NONE";const C1=jA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Gd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Gd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mf(this.auth,{idToken:e}).catch(()=>{});return n?Ms._fromGetAccountInfoResponse(this.auth,n,e):null}return Ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new cl(Ki(C1),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ki(C1);const c=Gd(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const _=await mf(e,{idToken:v}).catch(()=>{});if(!_)break;b=await Ms._fromGetAccountInfoResponse(e,_,v)}else b=Ms._fromJSON(e,v);p!==l&&(d=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new cl(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new cl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BA(e))return"Blackberry";if(FA(e))return"Webos";if(PA(e))return"Safari";if((e.includes("chrome/")||LA(e))&&!e.includes("edge/"))return"Chrome";if(zA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function VA(t=wn()){return/firefox\//i.test(t)}function PA(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LA(t=wn()){return/crios\//i.test(t)}function UA(t=wn()){return/iemobile/i.test(t)}function zA(t=wn()){return/android/i.test(t)}function BA(t=wn()){return/blackberry/i.test(t)}function FA(t=wn()){return/webos/i.test(t)}function B0(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h4(t=wn()){var e;return B0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function d4(){return ZD()&&document.documentMode===10}function qA(t=wn()){return B0(t)||zA(t)||FA(t)||BA(t)||/windows phone/i.test(t)||UA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t,e=[]){let n;switch(t){case"Browser":n=R1(wn());break;case"Worker":n=`${R1(wn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e={}){return Il(t,"GET","/v2/passwordPolicy",U0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=6;class g4{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??p4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N1(this),this.idTokenSubscription=new N1(this),this.beforeStateQueue=new f4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mf(this,{idToken:e}),i=await Ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ms(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(i=m.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ms(this.app))return Promise.reject($a(this));const n=e?Zt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ms(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ms(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m4(this),n=new g4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await u4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&KV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Yf(t){return Zt(t)}class N1{constructor(e){this.auth=e,this.observer=null,this.addObserver=oM(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v4(t){F0=t}function b4(t){return F0.loadJS(t)}function x4(){return F0.gapiScript}function _4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t,e){const n=Of(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ya(l,e??{}))return a;gi(a,"already-initialized")}return n.initialize({options:e})}function w4(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function E4(t,e,n){const i=Yf(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=GA(e),{host:c,port:d}=S4(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Ya(p,i.config.emulator)&&Ya(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,eo(c)?(Qy(`${l}//${c}${m}`),Xy("Auth",!0)):A4()}function GA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S4(t){const e=GA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:I1(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:I1(c)}}}function I1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return t4(t,"POST","/v1/accounts:signInWithIdp",U0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="http://localhost";class Ja extends $A{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new Ja(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ul(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:C4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Pu{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Gi.credential(n,i)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Pu{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Pu{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return zr.credential(n,i)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ms._fromIdTokenResponse(e,i,a),c=D1(i);return new xl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=D1(i);return new xl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function D1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends xi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new gf(e,n,i,a)}}function KA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gf._fromErrorAndOperation(t,l,e,i):l})}async function R4(t,e,n=!1){const i=await vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e,n=!1){const{auth:i}=t;if(ms(i.app))return Promise.reject($a(i));const a="reauthenticate";try{const l=await vu(t,KA(i,a,e,t),n);Ne(l.idToken,i,"internal-error");const c=z0(l.idToken);Ne(c,i,"internal-error");const{sub:d}=c;return Ne(t.uid===d,i,"user-mismatch"),xl._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&gi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e,n=!1){if(ms(t.app))return Promise.reject($a(t));const i="signIn",a=await KA(t,i,e),l=await xl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function D4(t,e,n,i){return Zt(t).onIdTokenChanged(e,n,i)}function M4(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function O4(t,e,n,i){return Zt(t).onAuthStateChanged(e,n,i)}function M1(t){return Zt(t).signOut()}const yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yf,"1"),this.storage.removeItem(yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=1e3,j4=10;class QA extends YA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);d4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,j4):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},k4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QA.type="LOCAL";const V4=QA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends YA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XA.type="SESSION";const WA=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Qf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await P4(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=H0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(_.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function U4(t){fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function z4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function F4(){return JA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebaseLocalStorageDb",q4=1,vf="firebaseLocalStorage",e2="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xf(t,e){return t.transaction([vf],e?"readwrite":"readonly").objectStore(vf)}function H4(){const t=indexedDB.deleteDatabase(ZA);return new Lu(t).toPromise()}function py(){const t=indexedDB.open(ZA,q4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(vf,{keyPath:e2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(vf)?e(i):(i.close(),await H4(),e(await py()))})})}async function O1(t,e,n){const i=Xf(t,!0).put({[e2]:e,value:n});return new Lu(i).toPromise()}async function G4(t,e){const n=Xf(t,!1).get(e),i=await new Lu(n).toPromise();return i===void 0?null:i.value}function k1(t,e){const n=Xf(t,!0).delete(e);return new Lu(n).toPromise()}const $4=800,K4=3;class t2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>K4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qf._getInstance(F4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await z4(),!this.activeServiceWorker)return;this.sender=new L4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await py();return await O1(e,yf,"1"),await k1(e,yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>O1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>G4(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Xf(a,!1).getAll();return new Lu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t2.type="LOCAL";const Y4=t2;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e){return e?Ki(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends $A{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q4(t){return I4(t.auth,new G0(t),t.bypassAuthState)}function X4(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),N4(n,new G0(t),t.bypassAuthState)}async function W4(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),R4(n,new G0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q4;case"linkViaPopup":case"linkViaRedirect":return W4;case"reauthViaPopup":case"reauthViaRedirect":return X4;default:gi(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new Vu(2e3,1e4);async function Z4(t,e,n){if(ms(t.app))return Promise.reject(Vs(t,"operation-not-supported-in-this-environment"));const i=Yf(t);YV(t,e,q0);const a=n2(i,n);return new Ba(i,"signInViaPopup",e,a).executeNotNull()}class Ba extends s2{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=H0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J4.get())};e()}}Ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="pendingRedirect",$d=new Map;class tP extends s2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=$d.get(this.auth._key());if(!e){try{const i=await nP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}$d.set(this.auth._key(),e)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nP(t,e){const n=rP(e),i=iP(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function sP(t,e){$d.set(t._key(),e)}function iP(t){return Ki(t._redirectPersistence)}function rP(t){return Gd(eP,t.config.apiKey,t.name)}async function aP(t,e,n=!1){if(ms(t.app))return Promise.reject($a(t));const i=Yf(t),a=n2(i,e),c=await new tP(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=600*1e3;class lP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!i2(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vs(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oP&&this.cachedEventUids.clear(),this.cachedEventUids.has(j1(e))}saveEventToCache(e){this.cachedEventUids.add(j1(e)),this.lastProcessedEventTime=Date.now()}}function j1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(t,e={}){return Il(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dP=/^https?/;async function fP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uP(t);for(const n of e)try{if(mP(n))return}catch{}gi(t,"unauthorized-domain")}function mP(t){const e=fy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!dP.test(n))return!1;if(hP.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Vu(3e4,6e4);function V1(){const t=fi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gP(t){return new Promise((e,n)=>{var a,l,c;function i(){V1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V1(),n(Vs(t,"network-request-failed"))},timeout:pP.get()})}if((l=(a=fi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=fi().gapi)!=null&&c.load)i();else{const d=_4("iframefcb");return fi()[d]=()=>{gapi.load?i():n(Vs(t,"network-request-failed"))},b4(`${x4()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function yP(t){return Kd=Kd||gP(t),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new Vu(5e3,15e3),bP="__/auth/iframe",xP="emulator/auth/iframe",_P={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wP(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?L0(e,xP):`https://${t.config.authDomain}/${bP}`,i={apiKey:e.apiKey,appName:t.name,v:to},a=TP.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Nu(i).slice(1)}`}async function EP(t){const e=await yP(t),n=fi().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:wP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_P,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Vs(t,"network-request-failed"),d=fi().setTimeout(()=>{l(c)},vP.get());function m(){fi().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AP=500,CP=600,RP="_blank",NP="http://localhost";class P1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IP(t,e,n,i=AP,a=CP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...SP,width:i.toString(),height:a.toString(),top:l,left:c},p=wn().toLowerCase();n&&(d=LA(p)?RP:n),VA(p)&&(e=e||NP,m.scrollbars="yes");const v=Object.entries(m).reduce((_,[S,I])=>`${_}${S}=${I},`,"");if(h4(p)&&d!=="_self")return DP(e||"",d),new P1(null);const b=window.open(e||"",d,v);Ne(b,t,"popup-blocked");try{b.focus()}catch{}return new P1(b)}function DP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="__/auth/handler",OP="emulator/auth/handler",kP=encodeURIComponent("fac");async function L1(t,e,n,i,a,l){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:to,eventId:a};if(e instanceof q0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",aM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Pu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),p=m?`#${kP}=${encodeURIComponent(m)}`:"";return`${jP(t)}?${Nu(d).slice(1)}${p}`}function jP({config:t}){return t.emulator?L0(t,OP):`https://${t.authDomain}/${MP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="webStorageSupport";class VP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WA,this._completeRedirectFn=aP,this._overrideRedirectResult=sP}async _openPopup(e,n,i,a){var c;tr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await L1(e,n,i,fy(),a);return IP(e,l,H0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await L1(e,n,i,fy(),a);return U4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(tr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await EP(e),i=new lP(e);return n.register("authEvent",a=>(Ne(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xg,{type:xg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[xg];l!==void 0&&n(!!l),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qA()||PA()||B0()}}const PP=VP;var U1="@firebase/auth",z1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zP(t){Qa(new Yr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HA(t)},p=new y4(i,a,l,m);return w4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Qa(new Yr("auth-internal",e=>{const n=Yf(e.getProvider("auth").getImmediate());return(i=>new LP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(U1,z1,UP(t)),ci(U1,z1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=300,FP=$E("authIdTokenMaxAge")||BP;let B1=null;const qP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>FP)return;const a=n==null?void 0:n.token;B1!==a&&(B1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function HP(t=Zy()){const e=Of(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T4(t,{popupRedirectResolver:PP,persistence:[Y4,V4,WA]}),i=$E("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=qP(l.toString());M4(n,c,()=>c(n.currentUser)),D4(n,d=>c(d))}}const a=qE("auth");return a&&E4(n,`http://${a}`),n}function GP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}v4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Vs("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",GP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zP("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="firebasestorage.googleapis.com",$P="storageBucket",KP=120*1e3,YP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends xi{constructor(e,n,i=0){super(_g(e),`Firebase Storage: ${n} (${_g(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_i.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yi||(yi={}));function _g(t){return"storage/"+t}function QP(){const t="An unknown error occurred, please check the error payload for server response.";return new _i(yi.UNKNOWN,t)}function XP(){return new _i(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WP(){return new _i(yi.CANCELED,"User canceled the upload/download.")}function JP(t){return new _i(yi.INVALID_URL,"Invalid URL '"+t+"'.")}function ZP(t){return new _i(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function F1(t){return new _i(yi.INVALID_ARGUMENT,t)}function a2(){return new _i(yi.APP_DELETED,"The Firebase app was deleted.")}function e3(t){return new _i(yi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Os.makeFromUrl(e,n)}catch{return new Os(e,"")}if(i.path==="")return i;throw ZP(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(ee){ee.path_=decodeURIComponent(ee.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${a}/o${_}`,"i"),I={bucket:1,path:3},V=n===r2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",U=new RegExp(`^https?://${V}/${a}/${k}`,"i"),F=[{regex:d,indices:m,postModify:l},{regex:S,indices:I,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let ee=0;ee<F.length;ee++){const Y=F[ee],le=Y.regex.exec(e);if(le){const D=le[Y.indices.bucket];let E=le[Y.indices.path];E||(E=""),i=new Os(D,E),Y.postModify(i);break}}if(i==null)throw JP(e);return i}}class t3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t,e,n){let i=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function v(...k){p||(p=!0,e.apply(null,k))}function b(k){a=setTimeout(()=>{a=null,t(S,m())},k)}function _(){l&&clearTimeout(l)}function S(k,...U){if(p){_();return}if(k){_(),v.call(null,k,...U);return}if(m()||c){_(),v.call(null,k,...U);return}i<64&&(i*=2);let F;d===1?(d=2,F=0):F=(i+Math.random())*1e3,b(F)}let I=!1;function V(k){I||(I=!0,_(),!p&&(a!==null?(k||(d=2),clearTimeout(a),b(0)):k||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,V(!0)},n),V}function s3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){return t!==void 0}function q1(t,e,n,i){if(i<e)throw F1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw F1(`Invalid value for '${t}'. Expected ${n} or less.`)}function r3(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var bf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bf||(bf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,i,a,l,c,d,m,p,v,b,_=!0,S=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,V)=>{this.resolve_=I,this.reject_=V,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Ad(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===bf.NO_ERROR,m=l.getStatus();if(!d||a3(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===bf.ABORT;i(!1,new Ad(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;i(!0,new Ad(p,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());i3(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=QP();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?a2():WP();c(m)}else{const m=XP();c(m)}};this.canceled_?n(!1,new Ad(!1,null,!0)):this.backoffId_=n3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ad{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function l3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function c3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function h3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function d3(t,e,n,i,a,l,c=!0,d=!1){const m=r3(t.urlParams),p=t.url+m,v=Object.assign({},t.headers);return u3(v,e),l3(v,n),c3(v,l),h3(v,i),new o3(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function m3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this._service=e,n instanceof Os?this._location=n:this._location=Os.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xf(e,n)}get root(){const e=new Os(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m3(this._location.path)}get storage(){return this._service}get parent(){const e=f3(this._location.path);if(e===null)return null;const n=new Os(this._location.bucket,e);return new xf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw e3(e)}}function H1(t,e){const n=e==null?void 0:e[$P];return n==null?null:Os.makeFromBucketSpec(n,t)}function p3(t,e,n,i={}){t.host=`${e}:${n}`;const a=eo(e);a&&(Qy(`https://${t.host}/b`),Xy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:KE(l,t.app.options.projectId))}class g3{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=r2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KP,this._maxUploadRetryTime=YP,this._requests=new Set,a!=null?this._bucket=Os.makeFromBucketSpec(a,this._host):this._bucket=H1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Os.makeFromBucketSpec(this._url,e):this._bucket=H1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new t3(a2());{const c=d3(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const G1="@firebase/storage",$1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="storage";function y3(t=Zy(),e){t=Zt(t);const i=Of(t,o2).getImmediate({identifier:e}),a=HE("storage");return a&&v3(i,...a),i}function v3(t,e,n,i={}){p3(t,e,n,i)}function b3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new g3(n,i,a,e,to)}function x3(){Qa(new Yr(o2,b3,"PUBLIC").setMultipleInstances(!0)),ci(G1,$1,""),ci(G1,$1,"esm2020")}x3();const _3={apiKey:"AIzaSyCOtVFEKK7fr6acQ6wnGSPbJZVwWm2xyyM",authDomain:"ankit-yummy-fi.firebaseapp.com",projectId:"ankit-yummy-fi",storageBucket:"ankit-yummy-fi.firebasestorage.app",messagingSenderId:"915590299815",appId:"1:915590299815:web:bbc4c94bac15f3d5901b82"},$0=XE(_3),Cd=HP($0),T3=new Gi,ja=SV($0);y3($0);const l2=O.createContext(void 0),w3=({children:t})=>{const[e,n]=O.useState([]),i=O.useCallback(v=>{n(b=>b.filter(_=>_.id!==v))},[]),a=O.useCallback(v=>{const b=`toast-${Date.now()}-${Math.random()}`,_={id:b,duration:4e3,...v};n([_]),v.type!=="confirm"&&_.duration&&setTimeout(()=>{i(b)},_.duration)},[i]),l=O.useCallback((v,b)=>{a({type:"success",message:v,title:b})},[a]),c=O.useCallback((v,b)=>{a({type:"error",message:v,title:b,duration:5e3})},[a]),d=O.useCallback((v,b)=>{a({type:"warning",message:v,title:b})},[a]),m=O.useCallback((v,b)=>{a({type:"info",message:v,title:b})},[a]),p=O.useCallback((v,b,_,S="Confirm",I="Cancel",V)=>{a({type:"confirm",message:v,title:V,onConfirm:b,onCancel:_,confirmText:S,cancelText:I})},[a]);return y.jsx(l2.Provider,{value:{toasts:e,showToast:a,showSuccess:l,showError:c,showWarning:d,showInfo:m,showConfirm:p,hideToast:i},children:t})},Dl=()=>{const t=O.useContext(l2);if(!t)throw new Error("useToast must be used within ToastProvider");return t},c2=O.createContext(void 0),E3=({children:t})=>{const[e,n]=O.useState(VD),[i,a]=O.useState(!0),[l,c]=O.useState([]),[d,m]=O.useState([]),[p,v]=O.useState(!0),[b,_]=O.useState(localStorage.getItem("tableNumber")),[S,I]=O.useState(null),{showSuccess:V}=Dl();O.useEffect(()=>{const A=Ed(ja,"products"),j=w1(A,N=>{if(N.empty){n([]),a(!1);return}const P=N.docs.map(M=>({...M.data(),id:M.id}));n(P),a(!1)},N=>{console.error(" Error loading products from Firestore:",N),console.error("Error code:",N.code),console.error("Error message:",N.message),n([]),a(!1)});return()=>j()},[]),O.useEffect(()=>{const A=Ed(ja,"orders"),j=LV(A,UV("createdAt","desc")),N=w1(j,P=>{const M=P.docs.map(Se=>({...Se.data(),id:Se.id}));m(M),v(!1)},P=>{console.error(" Error loading orders from Firestore:",P),m([]),v(!1)});return()=>N()},[]),O.useEffect(()=>{b&&localStorage.setItem("tableNumber",b),S&&localStorage.setItem("customerName",S)},[b,S]);const k=(A,j)=>{_(A),I(j)},U=A=>{c(j=>j.find(P=>P.id===A.id)?j.map(P=>P.id===A.id?{...P,quantity:P.quantity+1}:P):[...j,{...A,quantity:1}]),V(`${A.name} added to cart!`," Added to Cart")},q=A=>{c(j=>j.filter(N=>N.id!==A))},F=(A,j)=>{c(N=>N.map(P=>{if(P.id===A){const M=P.quantity+j;return M>0?{...P,quantity:M}:P}return P}))},ee=async(A,j)=>{const N=A||b,P=j||S;if(!N||l.length===0)return null;const M={tableNumber:N,customerName:P||"Guest",items:[...l],totalAmount:l.reduce((Le,X)=>Le+X.price*X.quantity,0),status:"pending",createdAt:new Date().toISOString()},Se=await T1(Ed(ja,"orders"),M);return c([]),localStorage.setItem("lastOrderId",Se.id),Se.id},Y=async A=>{await T1(Ed(ja,"products"),{name:A.name,price:A.price,offerPrice:A.offerPrice,description:A.description,category:A.category,imageUrl:A.imageUrl,isVeg:A.isVeg})},le=async A=>{await _1(Fd(ja,"products",A))},D=async(A,j)=>{const N={status:j};j==="confirmed"&&(N.confirmedAt=new Date().toISOString()),j==="ready"&&(N.readyAt=new Date().toISOString()),await FV(Fd(ja,"orders",A),N)},E=async A=>{try{await _1(Fd(ja,"orders",A)),console.log(` Order ${A} deleted successfully`)}catch(j){throw console.error(` Error deleting order ${A}:`,j),j}};return y.jsx(c2.Provider,{value:{products:e,productsLoading:i,cart:l,orders:d,ordersLoading:p,tableNumber:b,customerName:S,setTableInfo:k,addToCart:U,removeFromCart:q,updateQuantity:F,placeOrder:ee,addProduct:Y,deleteProduct:le,updateOrderStatus:D,deleteOrder:E},children:t})},Ml=()=>{const t=O.useContext(c2);if(!t)throw new Error("useApp must be used within AppProvider");return t},K0=O.createContext({});function Y0(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const u2=typeof window<"u",h2=u2?O.useLayoutEffect:O.useEffect,Wf=O.createContext(null);function Q0(t,e){t.indexOf(e)===-1&&t.push(e)}function X0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vi=(t,e,n)=>n>e?e:n<t?t:n;let W0=()=>{};const nr={},d2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function f2(t){return typeof t=="object"&&t!==null}const m2=t=>/^0[^.\s]+$/u.test(t);function J0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ys=t=>t,S3=(t,e)=>n=>e(t(n)),Uu=(...t)=>t.reduce(S3),bu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Z0{constructor(){this.subscriptions=[]}add(e){return Q0(this.subscriptions,e),()=>X0(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=t=>t*1e3,gs=t=>t/1e3;function p2(t,e){return e?t*(1e3/e):0}const g2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,A3=1e-7,C3=12;function R3(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=g2(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>A3&&++d<C3);return c}function zu(t,e,n,i){if(t===e&&n===i)return ys;const a=l=>R3(l,0,1,t,n);return l=>l===0||l===1?l:g2(a(l),e,i)}const y2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,v2=t=>e=>1-t(1-e),b2=zu(.33,1.53,.69,.99),ev=v2(b2),x2=y2(ev),_2=t=>(t*=2)<1?.5*ev(t):.5*(2-Math.pow(2,-10*(t-1))),tv=t=>1-Math.sin(Math.acos(t)),T2=v2(tv),w2=y2(tv),N3=zu(.42,0,1,1),I3=zu(0,0,.58,1),E2=zu(.42,0,.58,1),D3=t=>Array.isArray(t)&&typeof t[0]!="number",S2=t=>Array.isArray(t)&&typeof t[0]=="number",M3={linear:ys,easeIn:N3,easeInOut:E2,easeOut:I3,circIn:tv,circInOut:w2,circOut:T2,backIn:ev,backInOut:x2,backOut:b2,anticipate:_2},O3=t=>typeof t=="string",K1=t=>{if(S2(t)){W0(t.length===4);const[e,n,i,a]=t;return zu(e,n,i,a)}else if(O3(t))return M3[t];return t},Rd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function k3(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,b=!1,_=!1)=>{const I=_&&a?n:i;return b&&c.add(v),I.has(v)||I.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const j3=40;function A2(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Rd.reduce((F,ee)=>(F[ee]=k3(l),F),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:v,update:b,preRender:_,render:S,postRender:I}=c,V=()=>{const F=nr.useManualTiming?a.timestamp:performance.now();n=!1,nr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(F-a.timestamp,j3),1)),a.timestamp=F,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),b.process(a),_.process(a),S.process(a),I.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(V))},k=()=>{n=!0,i=!0,a.isProcessing||t(V)};return{schedule:Rd.reduce((F,ee)=>{const Y=c[ee];return F[ee]=(le,D=!1,E=!1)=>(n||k(),Y.schedule(le,D,E)),F},{}),cancel:F=>{for(let ee=0;ee<Rd.length;ee++)c[Rd[ee]].cancel(F)},state:a,steps:c}}const{schedule:vt,cancel:ta,state:dn,steps:Tg}=A2(typeof requestAnimationFrame<"u"?requestAnimationFrame:ys,!0);let Yd;function V3(){Yd=void 0}const Cn={now:()=>(Yd===void 0&&Cn.set(dn.isProcessing||nr.useManualTiming?dn.timestamp:performance.now()),Yd),set:t=>{Yd=t,queueMicrotask(V3)}},C2=t=>e=>typeof e=="string"&&e.startsWith(t),R2=C2("--"),P3=C2("var(--"),nv=t=>P3(t)?L3.test(t.split("/*")[0].trim()):!1,L3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Y1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Ol={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xu={...Ol,transform:t=>vi(0,1,t)},Nd={...Ol,default:1},iu=t=>Math.round(t*1e5)/1e5,sv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function U3(t){return t==null}const z3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iv=(t,e)=>n=>!!(typeof n=="string"&&z3.test(n)&&n.startsWith(t)||e&&!U3(n)&&Object.prototype.hasOwnProperty.call(n,e)),N2=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(sv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},B3=t=>vi(0,255,t),wg={...Ol,transform:t=>Math.round(B3(t))},Fa={test:iv("rgb","red"),parse:N2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+wg.transform(t)+", "+wg.transform(e)+", "+wg.transform(n)+", "+iu(xu.transform(i))+")"};function F3(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const gy={test:iv("#"),parse:F3,transform:Fa.transform},Bu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pr=Bu("deg"),mi=Bu("%"),ve=Bu("px"),q3=Bu("vh"),H3=Bu("vw"),Q1={...mi,parse:t=>mi.parse(t)/100,transform:t=>mi.transform(t*100)},tl={test:iv("hsl","hue"),parse:N2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+mi.transform(iu(e))+", "+mi.transform(iu(n))+", "+iu(xu.transform(i))+")"},Ht={test:t=>Fa.test(t)||gy.test(t)||tl.test(t),parse:t=>Fa.test(t)?Fa.parse(t):tl.test(t)?tl.parse(t):gy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fa.transform(t):tl.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},G3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $3(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sv))==null?void 0:e.length)||0)+(((n=t.match(G3))==null?void 0:n.length)||0)>0}const I2="number",D2="color",K3="var",Y3="var(",X1="${}",Q3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _u(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(Q3,m=>(Ht.test(m)?(i.color.push(l),a.push(D2),n.push(Ht.parse(m))):m.startsWith(Y3)?(i.var.push(l),a.push(K3),n.push(m)):(i.number.push(l),a.push(I2),n.push(parseFloat(m))),++l,X1)).split(X1);return{values:n,split:d,indexes:i,types:a}}function M2(t){return _u(t).values}function O2(t){const{split:e,types:n}=_u(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===I2?l+=iu(a[c]):d===D2?l+=Ht.transform(a[c]):l+=a[c]}return l}}const X3=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function W3(t){const e=M2(t);return O2(t)(e.map(X3))}const na={test:$3,parse:M2,createTransformer:O2,getAnimatableNone:W3};function Eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function J3({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=Eg(m,d,t+1/3),l=Eg(m,d,t),c=Eg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function _f(t,e){return n=>n>0?e:t}const wt=(t,e,n)=>t+(e-t)*n,Sg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Z3=[gy,Fa,tl],e6=t=>Z3.find(e=>e.test(t));function W1(t){const e=e6(t);if(!e)return!1;let n=e.parse(t);return e===tl&&(n=J3(n)),n}const J1=(t,e)=>{const n=W1(t),i=W1(e);if(!n||!i)return _f(t,e);const a={...n};return l=>(a.red=Sg(n.red,i.red,l),a.green=Sg(n.green,i.green,l),a.blue=Sg(n.blue,i.blue,l),a.alpha=wt(n.alpha,i.alpha,l),Fa.transform(a))},yy=new Set(["none","hidden"]);function t6(t,e){return yy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function n6(t,e){return n=>wt(t,e,n)}function rv(t){return typeof t=="number"?n6:typeof t=="string"?nv(t)?_f:Ht.test(t)?J1:r6:Array.isArray(t)?k2:typeof t=="object"?Ht.test(t)?J1:s6:_f}function k2(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>rv(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function s6(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=rv(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function i6(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const r6=(t,e)=>{const n=na.createTransformer(e),i=_u(t),a=_u(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?yy.has(t)&&!a.values.length||yy.has(e)&&!i.values.length?t6(t,e):Uu(k2(i6(i,a),a.values),n):_f(t,e)};function j2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wt(t,e,n):rv(t)(t,e)}const a6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>vt.update(e,n),stop:()=>ta(e),now:()=>dn.isProcessing?dn.timestamp:Cn.now()}},V2=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Tf=2e4;function av(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Tf;)e+=n,i=t.next(e);return e>=Tf?1/0:e}function o6(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(av(i),Tf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:gs(a)}}const l6=5;function P2(t,e,n){const i=Math.max(e-l6,0);return p2(n-t(i),e-i)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ag=.001;function c6({duration:t=Ct.duration,bounce:e=Ct.bounce,velocity:n=Ct.velocity,mass:i=Ct.mass}){let a,l,c=1-e;c=vi(Ct.minDamping,Ct.maxDamping,c),t=vi(Ct.minDuration,Ct.maxDuration,gs(t)),c<1?(a=p=>{const v=p*c,b=v*t,_=v-n,S=vy(p,c),I=Math.exp(-b);return Ag-_/S*I},l=p=>{const b=p*c*t,_=b*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,I=Math.exp(-b),V=vy(Math.pow(p,2),c);return(-a(p)+Ag>0?-1:1)*((_-S)*I)/V}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-Ag+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const d=5/t,m=h6(a,l,d);if(t=Qi(t),isNaN(m))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const u6=12;function h6(t,e,n){let i=n;for(let a=1;a<u6;a++)i=i-t(i)/e(i);return i}function vy(t,e){return t*Math.sqrt(1-e*e)}const d6=["duration","bounce"],f6=["stiffness","damping","mass"];function Z1(t,e){return e.some(n=>t[n]!==void 0)}function m6(t){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...t};if(!Z1(t,f6)&&Z1(t,d6))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*vi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ct.mass,stiffness:a,damping:l}}else{const n=c6(t);e={...e,...n,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function wf(t=Ct.visualDuration,e=Ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:b,velocity:_,isResolvedFromDuration:S}=m6({...n,velocity:-gs(n.velocity||0)}),I=_||0,V=p/(2*Math.sqrt(m*v)),k=c-l,U=gs(Math.sqrt(m/v)),q=Math.abs(k)<5;i||(i=q?Ct.restSpeed.granular:Ct.restSpeed.default),a||(a=q?Ct.restDelta.granular:Ct.restDelta.default);let F;if(V<1){const Y=vy(U,V);F=le=>{const D=Math.exp(-V*U*le);return c-D*((I+V*U*k)/Y*Math.sin(Y*le)+k*Math.cos(Y*le))}}else if(V===1)F=Y=>c-Math.exp(-U*Y)*(k+(I+U*k)*Y);else{const Y=U*Math.sqrt(V*V-1);F=le=>{const D=Math.exp(-V*U*le),E=Math.min(Y*le,300);return c-D*((I+V*U*k)*Math.sinh(E)+Y*k*Math.cosh(E))/Y}}const ee={calculatedDuration:S&&b||null,next:Y=>{const le=F(Y);if(S)d.done=Y>=b;else{let D=Y===0?I:0;V<1&&(D=Y===0?Qi(I):P2(F,Y,le));const E=Math.abs(D)<=i,A=Math.abs(c-le)<=a;d.done=E&&A}return d.value=d.done?c:le,d},toString:()=>{const Y=Math.min(av(ee),Tf),le=V2(D=>ee.next(Y*D).value,Y,30);return Y+"ms "+le},toTransition:()=>{}};return ee}wf.applyToOptions=t=>{const e=o6(t,100,wf);return t.ease=e.ease,t.duration=Qi(e.duration),t.type="keyframes",t};function by({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:v}){const b=t[0],_={done:!1,value:b},S=E=>d!==void 0&&E<d||m!==void 0&&E>m,I=E=>d===void 0?m:m===void 0||Math.abs(d-E)<Math.abs(m-E)?d:m;let V=n*e;const k=b+V,U=c===void 0?k:c(k);U!==k&&(V=U-b);const q=E=>-V*Math.exp(-E/i),F=E=>U+q(E),ee=E=>{const A=q(E),j=F(E);_.done=Math.abs(A)<=p,_.value=_.done?U:j};let Y,le;const D=E=>{S(_.value)&&(Y=E,le=wf({keyframes:[_.value,I(_.value)],velocity:P2(F,E,_.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return D(0),{calculatedDuration:null,next:E=>{let A=!1;return!le&&Y===void 0&&(A=!0,ee(E),D(E)),Y!==void 0&&E>=Y?le.next(E-Y):(!A&&ee(E),_)}}}function p6(t,e,n){const i=[],a=n||nr.mix||j2,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ys:e;d=Uu(m,d)}i.push(d)}return i}function g6(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(W0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=p6(e,i,a),m=d.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const _=bu(t[b],t[b+1],v);return d[b](_)};return n?v=>p(vi(t[0],t[l-1],v)):p}function y6(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=bu(0,e,i);t.push(wt(n,1,a))}}function v6(t){const e=[0];return y6(e,t.length-1),e}function b6(t,e){return t.map(n=>n*e)}function x6(t,e){return t.map(()=>e||E2).splice(0,t.length-1)}function ru({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=D3(i)?i.map(K1):K1(i),l={done:!1,value:e[0]},c=b6(n&&n.length===e.length?n:v6(e),t),d=g6(c,e,{ease:Array.isArray(a)?a:x6(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const _6=t=>t!==null;function ov(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(_6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const T6={decay:by,inertia:by,tween:ru,keyframes:ru,spring:wf};function L2(t){typeof t.type=="string"&&(t.type=T6[t.type])}class lv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const w6=t=>t/100;class cv extends lv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;L2(e);const{type:n=ru,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||ru;m!==ru&&typeof d[0]!="number"&&(this.mixKeyframes=Uu(w6,j2(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=av(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:_,repeatDelay:S,type:I,onUpdate:V,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,ee=i;if(b){const E=Math.min(this.currentTime,a)/d;let A=Math.floor(E),j=E%1;!j&&E>=1&&(j=1),j===1&&A--,A=Math.min(A,b+1),!!(A%2)&&(_==="reverse"?(j=1-j,S&&(j-=S/d)):_==="mirror"&&(ee=c)),F=vi(0,1,j)*d}const Y=q?{done:!1,value:v[0]}:ee.next(F);l&&(Y.value=l(Y.value));let{done:le}=Y;!q&&m!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return D&&I!==by&&(Y.value=ov(v,this.options,k,this.speed)),V&&V(Y.value),D&&this.finish(),Y}then(e,n){return this.finished.then(e,n)}get duration(){return gs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gs(e)}get time(){return gs(this.currentTime)}set time(e){var n;e=Qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gs(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=a6,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function E6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const qa=t=>t*180/Math.PI,xy=t=>{const e=qa(Math.atan2(t[1],t[0]));return _y(e)},S6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xy,rotateZ:xy,skewX:t=>qa(Math.atan(t[1])),skewY:t=>qa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_y=t=>(t=t%360,t<0&&(t+=360),t),ew=xy,tw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),nw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),A6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tw,scaleY:nw,scale:t=>(tw(t)+nw(t))/2,rotateX:t=>_y(qa(Math.atan2(t[6],t[5]))),rotateY:t=>_y(qa(Math.atan2(-t[2],t[0]))),rotateZ:ew,rotate:ew,skewX:t=>qa(Math.atan(t[4])),skewY:t=>qa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ty(t){return t.includes("scale")?1:0}function wy(t,e){if(!t||t==="none")return Ty(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=A6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=S6,a=d}if(!a)return Ty(e);const l=i[e],c=a[1].split(",").map(R6);return typeof l=="function"?l(c):c[l]}const C6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return wy(n,e)};function R6(t){return parseFloat(t.trim())}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(kl),sw=t=>t===Ol||t===ve,N6=new Set(["x","y","z"]),I6=kl.filter(t=>!N6.has(t));function D6(t){const e=[];return I6.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Fr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wy(e,"x"),y:(t,{transform:e})=>wy(e,"y")};Fr.translateX=Fr.x;Fr.translateY=Fr.y;const Ka=new Set;let Ey=!1,Sy=!1,Ay=!1;function U2(){if(Sy){const t=Array.from(Ka).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=D6(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{var d;(d=i.getValue(l))==null||d.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Sy=!1,Ey=!1,Ka.forEach(t=>t.complete(Ay)),Ka.clear()}function z2(){Ka.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Sy=!0)})}function M6(){Ay=!0,z2(),U2(),Ay=!1}class uv{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ka.add(this),Ey||(Ey=!0,vt.read(z2),vt.resolveKeyframes(U2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}E6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ka.delete(this)}cancel(){this.state==="scheduled"&&(Ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const O6=t=>t.startsWith("--");function k6(t,e,n){O6(e)?t.style.setProperty(e,n):t.style[e]=n}const j6=J0(()=>window.ScrollTimeline!==void 0),V6={};function P6(t,e){const n=J0(t);return()=>V6[e]??n()}const B2=P6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,iw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function F2(t,e){if(t)return typeof t=="function"?B2()?V2(t,e):"ease-out":S2(t)?Xc(t):Array.isArray(t)?t.map(n=>F2(n,e)||iw.easeOut):iw[t]}function L6(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const b=F2(d,a);Array.isArray(b)&&(v.easing=b);const _={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(v,_)}function q2(t){return typeof t=="function"&&"applyToOptions"in t}function U6({type:t,...e}){return q2(t)&&B2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class z6 extends lv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,W0(typeof e.type!="string");const p=U6(e);this.animation=L6(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=ov(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):k6(n,i,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return gs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gs(e)}get time(){return gs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&j6()?(this.animation.timeline=e,ys):n(this)}}const H2={anticipate:_2,backInOut:x2,circInOut:w2};function B6(t){return t in H2}function F6(t){typeof t.ease=="string"&&B6(t.ease)&&(t.ease=H2[t.ease])}const Cg=10;class q6 extends z6{constructor(e){F6(e),L2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new cv({...c,autoplay:!1}),m=Math.max(Cg,Cn.now()-this.startTime),p=vi(0,Cg,m-Cg);n.setWithVelocity(d.sample(Math.max(0,m-p)).value,d.sample(m).value,p),d.stop()}}const rw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(na.test(t)||t==="0")&&!t.startsWith("url("));function H6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function G6(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=rw(a,e),d=rw(l,e);return!c||!d?!1:H6(t)||(n==="spring"||q2(n))&&i}function Cy(t){t.duration=0,t.type="keyframes"}const $6=new Set(["opacity","clipPath","filter","transform"]),K6=J0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y6(t){var v;const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return K6()&&n&&$6.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Q6=40;class X6 extends lv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:v,...b}){var I;super(),this.stop=()=>{var V,k;this._animation&&(this._animation.stop(),(V=this.stopTimeline)==null||V.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Cn.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:v,...b},S=(v==null?void 0:v.KeyframeResolver)||uv;this.keyframeResolver=new S(d,(V,k,U)=>this.onKeyframesResolved(V,k,_,!U),m,p,v),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(e,n,i,a){var k,U;this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:v}=i;this.resolvedAt=Cn.now(),G6(e,l,c,d)||((nr.instantAnimations||!m)&&(v==null||v(ov(e,i,n))),e[0]=e[e.length-1],Cy(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Q6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!p&&Y6(_),I=(U=(k=_.motionValue)==null?void 0:k.owner)==null?void 0:U.current,V=S?new q6({..._,element:I}):new cv(_);V.finished.then(()=>{this.notifyFinished()}).catch(ys),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),M6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function G2(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}const W6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function J6(t){const e=W6.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function $2(t,e,n=1){const[i,a]=J6(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return d2(c)?parseFloat(c):c}return nv(a)?$2(a,e,n+1):a}const Z6={type:"spring",stiffness:500,damping:25,restSpeed:10},eL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tL={type:"keyframes",duration:.8},nL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sL=(t,{keyframes:e})=>e.length>2?tL:jl.has(t)?t.startsWith("scale")?eL(e[1]):Z6:nL,iL=t=>t!==null;function rL(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(iL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function hv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function aL({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const dv=(t,e,n,i={},a,l)=>c=>{const d=hv(i,t)||{},m=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Qi(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};aL(d)||Object.assign(v,sL(t,v)),v.duration&&(v.duration=Qi(v.duration)),v.repeatDelay&&(v.repeatDelay=Qi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Cy(v),v.delay===0&&(b=!0)),(nr.instantAnimations||nr.skipAnimations)&&(b=!0,Cy(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const _=rL(v.keyframes,d);if(_!==void 0){vt.update(()=>{v.onUpdate(_),v.onComplete()});return}}return d.isSync?new cv(v):new X6(v)};function aw(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function fv(t,e,n,i){if(typeof e=="function"){const[a,l]=aw(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=aw(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function hl(t,e,n){const i=t.getProps();return fv(i,e,n!==void 0?n:i.custom,t)}const K2=new Set(["width","height","top","left","right","bottom",...kl]),ow=30,oL=t=>!isNaN(parseFloat(t));class lL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=oL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z0);const i=this.events[e].add(n);return e==="change"?()=>{i(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ow)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ow);return p2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new lL(t,e)}const Ry=t=>Array.isArray(t);function cL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function uL(t){return Ry(t)?t[t.length-1]||0:t}function hL(t,e){const n=hl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=uL(l[c]);cL(t,c,d)}}const Tn=t=>!!(t&&t.getVelocity);function dL(t){return!!(Tn(t)&&t.add)}function Ny(t,e){const n=t.getValue("willChange");if(dL(n))return n.add(e);if(!n&&nr.WillChange){const i=new nr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function mv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const fL="framerAppearId",Y2="data-"+mv(fL);function Q2(t){return t.props[Y2]}function mL({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function X2(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const b=t.getValue(v,t.latestValues[v]??null),_=d[v];if(_===void 0||p&&mL(p,v))continue;const S={delay:n,...hv(l||{},v)},I=b.get();if(I!==void 0&&!b.isAnimating&&!Array.isArray(_)&&_===I&&!S.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const U=Q2(t);if(U){const q=window.MotionHandoffAnimation(U,v,vt);q!==null&&(S.startTime=q,V=!0)}}Ny(t,v),b.start(dv(v,b,_,t.shouldReduceMotion&&K2.has(v)?{type:!1}:S,t,V));const k=b.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{vt.update(()=>{c&&hL(t,c)})}),m}function Iy(t,e,n={}){var m;const i=hl(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(X2(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:_}=a;return pL(t,e,p,v,b,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,v]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function pL(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Iy(m,e,{...c,delay:n+(typeof i=="function"?0:i)+G2(t.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function gL(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Iy(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Iy(t,e,n);else{const a=typeof e=="function"?hl(t,e,n.custom):e;i=Promise.all(X2(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const yL={test:t=>t==="auto",parse:t=>t},W2=t=>e=>e.test(t),J2=[Ol,ve,mi,Pr,H3,q3,yL],lw=t=>J2.find(W2(t));function vL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||m2(t):!0}const bL=new Set(["brightness","contrast","saturate","opacity"]);function xL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(sv)||[];if(!i)return t;const a=n.replace(i,"");let l=bL.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const _L=/\b([a-z-]*)\(.*?\)/gu,Dy={...na,getAnimatableNone:t=>{const e=t.match(_L);return e?e.map(xL).join(" "):t}},cw={...Ol,transform:Math.round},TL={rotate:Pr,rotateX:Pr,rotateY:Pr,rotateZ:Pr,scale:Nd,scaleX:Nd,scaleY:Nd,scaleZ:Nd,skew:Pr,skewX:Pr,skewY:Pr,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:xu,originX:Q1,originY:Q1,originZ:ve},pv={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,inset:ve,insetBlock:ve,insetBlockStart:ve,insetBlockEnd:ve,insetInline:ve,insetInlineStart:ve,insetInlineEnd:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,paddingBlock:ve,paddingBlockStart:ve,paddingBlockEnd:ve,paddingInline:ve,paddingInlineStart:ve,paddingInlineEnd:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,marginBlock:ve,marginBlockStart:ve,marginBlockEnd:ve,marginInline:ve,marginInlineStart:ve,marginInlineEnd:ve,fontSize:ve,backgroundPositionX:ve,backgroundPositionY:ve,...TL,zIndex:cw,fillOpacity:xu,strokeOpacity:xu,numOctaves:cw},wL={...pv,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:Dy,WebkitFilter:Dy},Z2=t=>wL[t];function eC(t,e){let n=Z2(t);return n!==Dy&&(n=na),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const EL=new Set(["auto","none","0"]);function SL(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!EL.has(l)&&_u(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=eC(n,a)}class AL extends uv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),nv(b))){const _=$2(b,n.current);_!==void 0&&(e[v]=_),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!K2.has(i)||e.length!==2)return;const[a,l]=e,c=lw(a),d=lw(l),m=Y1(a),p=Y1(l);if(m!==p&&Fr[i]){this.needsMeasurement=!0;return}if(c!==d)if(sw(c)&&sw(d))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else Fr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||vL(e[a]))&&i.push(a);i.length&&SL(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Fr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function CL(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const tC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function My(t){return f2(t)&&"offsetHeight"in t}const{schedule:gv}=A2(queueMicrotask,!1),Ds={x:!1,y:!1};function nC(){return Ds.x||Ds.y}function RL(t){return t==="x"||t==="y"?Ds[t]?null:(Ds[t]=!0,()=>{Ds[t]=!1}):Ds.x||Ds.y?null:(Ds.x=Ds.y=!0,()=>{Ds.x=Ds.y=!1})}function sC(t,e){const n=CL(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function uw(t){return!(t.pointerType==="touch"||nC())}function NL(t,e,n={}){const[i,a,l]=sC(t,n),c=d=>{if(!uw(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const v=b=>{uw(b)&&(p(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const iC=(t,e)=>e?t===e?!0:iC(t,e.parentElement):!1,yv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,IL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rC(t){return IL.has(t.tagName)||t.isContentEditable===!0}const Qd=new WeakSet;function hw(t){return e=>{e.key==="Enter"&&t(e)}}function Rg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const DL=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=hw(()=>{if(Qd.has(n))return;Rg(n,"down");const a=hw(()=>{Rg(n,"up")}),l=()=>Rg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function dw(t){return yv(t)&&!nC()}function ML(t,e,n={}){const[i,a,l]=sC(t,n),c=d=>{const m=d.currentTarget;if(!dw(d))return;Qd.add(m);const p=e(m,d),v=(S,I)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",_),Qd.has(m)&&Qd.delete(m),dw(S)&&typeof p=="function"&&p(S,{success:I})},b=S=>{v(S,m===window||m===document||n.useGlobalTarget||iC(m,S.target))},_=S=>{v(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",_,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),My(d)&&(d.addEventListener("focus",p=>DL(p,a)),!rC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function aC(t){return f2(t)&&"ownerSVGElement"in t}function OL(t){return aC(t)&&t.tagName==="svg"}const kL=[...J2,Ht,na],jL=t=>kL.find(W2(t)),fw=()=>({translate:0,scale:1,origin:0,originPoint:0}),nl=()=>({x:fw(),y:fw()}),mw=()=>({min:0,max:0}),Wt=()=>({x:mw(),y:mw()}),Oy={current:null},oC={current:!1},VL=typeof window<"u";function PL(){if(oC.current=!0,!!VL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Oy.current=t.matches;t.addEventListener("change",e),e()}else Oy.current=!1}const LL=new WeakMap;function Jf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Tu(t){return typeof t=="string"||Array.isArray(t)}const vv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bv=["initial",...vv];function Zf(t){return Jf(t.animate)||bv.some(e=>Tu(t[e]))}function lC(t){return!!(Zf(t)||t.variants)}function UL(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Tn(a))t.addValue(i,a);else if(Tn(l))t.addValue(i,_l(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,_l(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const pw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ef={};function cC(t){Ef=t}function zL(){return Ef}class BL{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Cn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,vt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Zf(n),this.isVariantNode=lC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const S=b[_];m[_]!==void 0&&Tn(S)&&S.set(m[_])}}mount(e){var n;this.current=e,LL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(oC.current||PL(),this.shouldReduceMotion=Oy.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=jl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&vt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ef){const n=Ef[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<pw.length;i++){const a=pw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=UL(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=_l(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(d2(i)||m2(i))?i=parseFloat(i):!jL(i)&&na.test(n)&&(i=eC(e,n)),this.setBaseTarget(e,Tn(i)?i.get():i)),Tn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=fv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Tn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){gv.render(this.render)}}class uC extends BL{constructor(){super(...arguments),this.KeyframeResolver=AL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function hC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function FL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ng(t){return t===void 0||t===1}function ky({scale:t,scaleX:e,scaleY:n}){return!Ng(t)||!Ng(e)||!Ng(n)}function Ua(t){return ky(t)||dC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dC(t){return gw(t.x)||gw(t.y)}function gw(t){return t&&t!=="0%"}function Sf(t,e,n){const i=t-n,a=e*i;return n+a}function yw(t,e,n,i,a){return a!==void 0&&(t=Sf(t,a,i)),Sf(t,n,i)+e}function jy(t,e=0,n=1,i,a){t.min=yw(t.min,e,n,i,a),t.max=yw(t.max,e,n,i,a)}function fC(t,{x:e,y:n}){jy(t.x,e.translate,e.scale,e.originPoint),jy(t.y,n.translate,n.scale,n.originPoint)}const vw=.999999999999,bw=1.0000000000001;function HL(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,fC(t,c)),i&&Ua(l.latestValues)&&il(t,l.latestValues))}e.x<bw&&e.x>vw&&(e.x=1),e.y<bw&&e.y>vw&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function xw(t,e,n,i,a=.5){const l=wt(t.min,t.max,a);jy(t,e,n,l,i)}function il(t,e){xw(t.x,e.x,e.scaleX,e.scale,e.originX),xw(t.y,e.y,e.scaleY,e.scale,e.originY)}function mC(t,e){return hC(qL(t.getBoundingClientRect(),e))}function GL(t,e,n){const i=mC(t,n),{scroll:a}=e;return a&&(sl(i.x,a.offset.x),sl(i.y,a.offset.y)),i}const $L={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KL=kl.length;function YL(t,e,n){let i="",a=!0;for(let l=0;l<KL;l++){const c=kl[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(c.startsWith("scale")?1:0);else{const p=parseFloat(d);m=c.startsWith("scale")?p===1:p===0}if(!m||n){const p=tC(d,pv[c]);if(!m){a=!1;const v=$L[c]||c;i+=`${v}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function xv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(jl.has(m)){c=!0;continue}else if(R2(m)){a[m]=p;continue}else{const v=tC(p,pv[m]);m.startsWith("origin")?(d=!0,l[m]=v):i[m]=v}}if(e.transform||(c||n?i.transform=YL(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${p} ${v}`}}function pC(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function _w(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=_w(t,e.target.x),i=_w(t,e.target.y);return`${n}% ${i}%`}},QL={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=na.parse(t);if(a.length>5)return i;const l=na.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=wt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Vy={borderRadius:{...Fc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fc,borderTopRightRadius:Fc,borderBottomLeftRadius:Fc,borderBottomRightRadius:Fc,boxShadow:QL};function gC(t,{layout:e,layoutId:n}){return jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vy[t]||t==="opacity")}function _v(t,e,n){var c;const i=t.style,a=e==null?void 0:e.style,l={};if(!i)return l;for(const d in i)(Tn(i[d])||a&&Tn(a[d])||gC(d,t)||((c=n==null?void 0:n.getValue(d))==null?void 0:c.liveStyle)!==void 0)&&(l[d]=i[d]);return l}function XL(t){return window.getComputedStyle(t)}class WL extends uC{constructor(){super(...arguments),this.type="html",this.renderInstance=pC}readValueFromInstance(e,n){var i;if(jl.has(n))return(i=this.projection)!=null&&i.isProjecting?Ty(n):C6(e,n);{const a=XL(e),l=(R2(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mC(e,n)}build(e,n,i){xv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return _v(e,n,i)}}const JL={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZL={offset:"strokeDashoffset",array:"strokeDasharray"};function e5(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?JL:ZL;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const t5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function yC(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,v){if(xv(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:_}=t;b.transform&&(_.transform=b.transform,delete b.transform),(_.transform||b.transformOrigin)&&(_.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),_.transform&&(_.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox);for(const S of t5)b[S]!==void 0&&(_[S]=b[S],delete b[S]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&e5(b,a,l,c,!1)}const vC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),bC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function n5(t,e,n,i){pC(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(vC.has(a)?a:mv(a),e.attrs[a])}function xC(t,e,n){const i=_v(t,e,n);for(const a in t)if(Tn(t[a])||Tn(e[a])){const l=kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class s5 extends uC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jl.has(n)){const i=Z2(n);return i&&i.default||0}return n=vC.has(n)?n:mv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return xC(e,n,i)}build(e,n,i){yC(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){n5(e,n,i,a)}mount(e){this.isSVGTag=bC(e.tagName),super.mount(e)}}const i5=bv.length;function _C(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_C(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<i5;n++){const i=bv[n],a=t.props[i];(Tu(a)||a===!1)&&(e[i]=a)}return e}function TC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const r5=[...vv].reverse(),a5=vv.length;function o5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>gL(t,n,i)))}function l5(t){let e=o5(t),n=Tw(),i=!0;const a=m=>(p,v)=>{var _;const b=hl(t,v,m==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(b){const{transition:S,transitionEnd:I,...V}=b;p={...p,...V,...I}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,v=_C(t.parent)||{},b=[],_=new Set;let S={},I=1/0;for(let k=0;k<a5;k++){const U=r5[k],q=n[U],F=p[U]!==void 0?p[U]:v[U],ee=Tu(F),Y=U===m?q.isActive:null;Y===!1&&(I=k);let le=F===v[U]&&F!==p[U]&&ee;if(le&&i&&t.manuallyAnimateOnMount&&(le=!1),q.protectedKeys={...S},!q.isActive&&Y===null||!F&&!q.prevProp||Jf(F)||typeof F=="boolean")continue;const D=c5(q.prevProp,F);let E=D||U===m&&q.isActive&&!le&&ee||k>I&&ee,A=!1;const j=Array.isArray(F)?F:[F];let N=j.reduce(a(U),{});Y===!1&&(N={});const{prevResolvedValues:P={}}=q,M={...P,...N},Se=ae=>{E=!0,_.has(ae)&&(A=!0,_.delete(ae)),q.needsAnimating[ae]=!0;const se=t.getValue(ae);se&&(se.liveStyle=!1)};for(const ae in M){const se=N[ae],Ie=P[ae];if(S.hasOwnProperty(ae))continue;let Me=!1;Ry(se)&&Ry(Ie)?Me=!TC(se,Ie):Me=se!==Ie,Me?se!=null?Se(ae):_.add(ae):se!==void 0&&_.has(ae)?Se(ae):q.protectedKeys[ae]=!0}q.prevProp=F,q.prevResolvedValues=N,q.isActive&&(S={...S,...N}),i&&t.blockInitialAnimation&&(E=!1);const Le=le&&D;E&&(!Le||A)&&b.push(...j.map(ae=>{const se={type:U};if(typeof ae=="string"&&i&&!Le&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ie}=t,Me=hl(Ie,ae);if(Ie.enteringChildren&&Me){const{delayChildren:z}=Me.transition||{};se.delay=G2(Ie.enteringChildren,t,z)}}return{animation:ae,options:se}}))}if(_.size){const k={};if(typeof p.initial!="boolean"){const U=hl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(k.transition=U.transition)}_.forEach(U=>{const q=t.getBaseTarget(U),F=t.getValue(U);F&&(F.liveStyle=!0),k[U]=q??null}),b.push({animation:k})}let V=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),i=!1,V?e(b):Promise.resolve()}function d(m,p){var b;if(n[m].isActive===p)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(_=>{var S;return(S=_.animationState)==null?void 0:S.setActive(m,p)}),n[m].isActive=p;const v=c(m);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Tw()}}}function c5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!TC(e,t):!1}function Va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tw(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}function ww(t,e){t.min=e.min,t.max=e.max}function Is(t,e){ww(t.x,e.x),ww(t.y,e.y)}function Ew(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const wC=1e-4,u5=1-wC,h5=1+wC,EC=.01,d5=0-EC,f5=0+EC;function Rn(t){return t.max-t.min}function m5(t,e,n){return Math.abs(t-e)<=n}function Sw(t,e,n,i=.5){t.origin=i,t.originPoint=wt(e.min,e.max,t.origin),t.scale=Rn(n)/Rn(e),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=u5&&t.scale<=h5||isNaN(t.scale))&&(t.scale=1),(t.translate>=d5&&t.translate<=f5||isNaN(t.translate))&&(t.translate=0)}function au(t,e,n,i){Sw(t.x,e.x,n.x,i?i.originX:void 0),Sw(t.y,e.y,n.y,i?i.originY:void 0)}function Aw(t,e,n){t.min=n.min+e.min,t.max=t.min+Rn(e)}function p5(t,e,n){Aw(t.x,e.x,n.x),Aw(t.y,e.y,n.y)}function Cw(t,e,n){t.min=e.min-n.min,t.max=t.min+Rn(e)}function Af(t,e,n){Cw(t.x,e.x,n.x),Cw(t.y,e.y,n.y)}function Rw(t,e,n,i,a){return t-=e,t=Sf(t,1/n,i),a!==void 0&&(t=Sf(t,1/a,i)),t}function g5(t,e=0,n=1,i=.5,a,l=t,c=t){if(mi.test(e)&&(e=parseFloat(e),e=wt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=wt(l.min,l.max,i);t===l&&(d-=e),t.min=Rw(t.min,e,n,d,a),t.max=Rw(t.max,e,n,d,a)}function Nw(t,e,[n,i,a],l,c){g5(t,e[n],e[i],e[a],e.scale,l,c)}const y5=["x","scaleX","originX"],v5=["y","scaleY","originY"];function Iw(t,e,n,i){Nw(t.x,e,y5,n?n.x:void 0,i?i.x:void 0),Nw(t.y,e,v5,n?n.y:void 0,i?i.y:void 0)}function Dw(t){return t.translate===0&&t.scale===1}function SC(t){return Dw(t.x)&&Dw(t.y)}function Mw(t,e){return t.min===e.min&&t.max===e.max}function b5(t,e){return Mw(t.x,e.x)&&Mw(t.y,e.y)}function Ow(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AC(t,e){return Ow(t.x,e.x)&&Ow(t.y,e.y)}function kw(t){return Rn(t.x)/Rn(t.y)}function jw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function fs(t){return[t("x"),t("y")]}function x5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:_,skewX:S,skewY:I}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),_&&(i+=`rotateY(${_}deg) `),S&&(i+=`skewX(${S}deg) `),I&&(i+=`skewY(${I}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(i+=`scale(${d}, ${m})`),i||"none"}const CC=["TopLeft","TopRight","BottomLeft","BottomRight"],_5=CC.length,Vw=t=>typeof t=="string"?parseFloat(t):t,Pw=t=>typeof t=="number"||ve.test(t);function T5(t,e,n,i,a,l){a?(t.opacity=wt(0,n.opacity??1,w5(i)),t.opacityExit=wt(e.opacity??1,0,E5(i))):l&&(t.opacity=wt(e.opacity??1,n.opacity??1,i));for(let c=0;c<_5;c++){const d=`border${CC[c]}Radius`;let m=Lw(e,d),p=Lw(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Pw(m)===Pw(p)?(t[d]=Math.max(wt(Vw(m),Vw(p),i),0),(mi.test(p)||mi.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,i))}function Lw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w5=RC(0,.5,T2),E5=RC(.5,.95,ys);function RC(t,e,n){return i=>i<t?0:i>e?1:n(bu(t,e,i))}function S5(t,e,n){const i=Tn(t)?t:_l(t);return i.start(dv("",i,e,n)),i.animation}function wu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const A5=(t,e)=>t.depth-e.depth;class C5{constructor(){this.children=[],this.isDirty=!1}add(e){Q0(this.children,e),this.isDirty=!0}remove(e){X0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A5),this.isDirty=!1,this.children.forEach(e)}}function R5(t,e){const n=Cn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(ta(i),t(l-e))};return vt.setup(i,!0),()=>ta(i)}function Xd(t){return Tn(t)?t.get():t}class N5{constructor(){this.members=[]}add(e){Q0(this.members,e),e.scheduleRender()}remove(e){if(X0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Wd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ig=["","X","Y","Z"],I5=1e3;let D5=0;function Dg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function NC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Q2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&NC(i)}function IC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=D5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(k5),this.nodes.forEach(L5),this.nodes.forEach(U5),this.nodes.forEach(j5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new C5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Z0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=aC(c)&&!OL(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const _=()=>this.root.updateBlockedByResize=!1;vt.read(()=>{b=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,v&&v(),v=R5(_,250),Wd.hasAnimatedSinceResize&&(Wd.hasAnimatedSinceResize=!1,this.nodes.forEach(Bw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||H5,{onLayoutAnimationStart:V,onLayoutAnimationComplete:k}=p.getProps(),U=!this.targetLayout||!AC(this.targetLayout,S),q=!b&&_;if(this.options.layoutRoot||this.resumeFrom||q||b&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...hv(I,"layout"),onPlay:V,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,q)}else b||Bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(z5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(P5),this.nodes.forEach(M5),this.nodes.forEach(O5)):this.nodes.forEach(zw),this.clearAllSnapshots();const d=Cn.now();dn.delta=vi(0,1e3/60,d-dn.timestamp),dn.timestamp=d,dn.isProcessing=!0,Tg.update.process(dn),Tg.preRender.process(dn),Tg.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(V5),this.sharedNodes.forEach(B5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!SC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ua(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),G5(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Wt();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some($5))){const{scroll:v}=this.root;v&&(sl(d.x,v.offset.x),sl(d.y,v.offset.y))}return d}removeElementScroll(c){var m;const d=Wt();if(Is(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:b,options:_}=v;v!==this.root&&b&&_.layoutScroll&&(b.wasRoot&&Is(d,c),sl(d.x,b.offset.x),sl(d.y,b.offset.y))}return d}applyTransform(c,d=!1){const m=Wt();Is(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&il(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ua(v.latestValues)&&il(m,v.latestValues)}return Ua(this.latestValues)&&il(m,this.latestValues),m}removeTransform(c){const d=Wt();Is(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ua(p.latestValues))continue;ky(p.latestValues)&&p.updateSnapshot();const v=Wt(),b=p.measurePageBox();Is(v,b),Iw(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ua(this.latestValues)&&Iw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=dn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Is(this.target,this.layout.layoutBox),fC(this.target,this.targetDelta)):Is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ky(this.parent.latestValues)||dC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Af(this.relativeTargetOrigin,d,m),Is(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var I;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Is(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,_=this.treeScale.y;HL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Wt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ew(this.prevProjectionDelta.x,this.projectionDelta.x),Ew(this.prevProjectionDelta.y,this.projectionDelta.y)),au(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==_||!jw(this.projectionDelta.x,this.prevProjectionDelta.x)||!jw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nl(),this.projectionDelta=nl(),this.projectionDeltaWithTransform=nl()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},b=nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Wt(),S=m?m.source:void 0,I=this.layout?this.layout.source:void 0,V=S!==I,k=this.getStack(),U=!k||k.members.length<=1,q=!!(V&&!U&&this.options.crossfade===!0&&!this.path.some(q5));this.animationProgress=0;let F;this.mixTargetDelta=ee=>{const Y=ee/1e3;Fw(b.x,c.x,Y),Fw(b.y,c.y,Y),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Af(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F5(this.relativeTarget,this.relativeTargetOrigin,_,Y),F&&b5(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Wt()),Is(F,this.relativeTarget)),V&&(this.animationValues=v,T5(v,p,this.latestValues,Y,q,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,m,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{Wd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=S5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&DC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Wt();const b=Rn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+b;const _=Rn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+_}Is(d,m),il(d,v),au(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new N5),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Dg("z",c,p,this.animationValues);for(let v=0;v<Ig.length;v++)Dg(`rotate${Ig[v]}`,c,p,this.animationValues),Dg(`skew${Ig[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Xd(d==null?void 0:d.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Xd(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ua(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=x5(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),c.transform=b;const{x:_,y:S}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const I in Vy){if(v[I]===void 0)continue;const{correct:V,applyTo:k,isCSSVariable:U}=Vy[I],q=b==="none"?v[I]:V(v[I],p);if(k){const F=k.length;for(let ee=0;ee<F;ee++)c[k[ee]]=q}else U?this.options.visualElement.renderState.vars[I]=q:c[I]=q}this.options.layoutId&&(c.pointerEvents=p===this?Xd(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Uw),this.root.sharedNodes.clear()}}}function M5(t){t.updateLayout()}function O5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?fs(b=>{const _=c?e.measuredBox[b]:e.layoutBox[b],S=Rn(_);_.min=i[b].min,_.max=_.min+S}):DC(l,e.layoutBox,i)&&fs(b=>{const _=c?e.measuredBox[b]:e.layoutBox[b],S=Rn(i[b]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+S)});const d=nl();au(d,i,e.layoutBox);const m=nl();c?au(m,t.applyTransform(a,!0),e.measuredBox):au(m,i,e.layoutBox);const p=!SC(d);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:_,layout:S}=b;if(_&&S){const I=Wt();Af(I,e.layoutBox,_.layoutBox);const V=Wt();Af(V,i,S.layoutBox),AC(I,V)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=I,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:m,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function k5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function j5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function V5(t){t.clearSnapshot()}function Uw(t){t.clearMeasurements()}function zw(t){t.isLayoutDirty=!1}function P5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function L5(t){t.resolveTargetDelta()}function U5(t){t.calcProjection()}function z5(t){t.resetSkewAndRotation()}function B5(t){t.removeLeadSnapshot()}function Fw(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qw(t,e,n,i){t.min=wt(e.min,n.min,i),t.max=wt(e.max,n.max,i)}function F5(t,e,n,i){qw(t.x,e.x,n.x,i),qw(t.y,e.y,n.y,i)}function q5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const H5={duration:.45,ease:[.4,0,.1,1]},Hw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Gw=Hw("applewebkit/")&&!Hw("chrome/")?Math.round:ys;function $w(t){t.min=Gw(t.min),t.max=Gw(t.max)}function G5(t){$w(t.x),$w(t.y)}function DC(t,e,n){return t==="position"||t==="preserve-aspect"&&!m5(kw(e),kw(n),.2)}function $5(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const K5=IC({attachResizeListener:(t,e)=>wu(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Mg={current:void 0},MC=IC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mg.current){const t=new K5({});t.mount(window),t.setOptions({layoutScroll:!0}),Mg.current=t}return Mg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tv=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Kw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Y5(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Kw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Kw(t[a],null)}}}}function Q5(...t){return O.useCallback(Y5(...t),t)}class X5 extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=My(i)&&i.offsetWidth||0,l=My(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function W5({children:t,isPresent:e,anchorX:n,anchorY:i,root:a}){var b;const l=O.useId(),c=O.useRef(null),d=O.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=O.useContext(Tv),p=((b=t.props)==null?void 0:b.ref)??(t==null?void 0:t.ref),v=Q5(c,p);return O.useInsertionEffect(()=>{const{width:_,height:S,top:I,left:V,right:k,bottom:U}=d.current;if(e||!c.current||!_||!S)return;const q=n==="left"?`left: ${V}`:`right: ${k}`,F=i==="bottom"?`bottom: ${U}`:`top: ${I}`;c.current.dataset.motionPopId=l;const ee=document.createElement("style");m&&(ee.nonce=m);const Y=a??document.head;return Y.appendChild(ee),ee.sheet&&ee.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${S}px !important;
            ${q}px !important;
            ${F}px !important;
          }
        `),()=>{Y.contains(ee)&&Y.removeChild(ee)}},[e]),y.jsx(X5,{isPresent:e,childRef:c,sizeRef:d,children:O.cloneElement(t,{ref:v})})}const J5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:m,root:p})=>{const v=Y0(Z5),b=O.useId();let _=!0,S=O.useMemo(()=>(_=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:I=>{v.set(I,!0);for(const V of v.values())if(!V)return;i&&i()},register:I=>(v.set(I,!1),()=>v.delete(I))}),[n,v,i]);return l&&_&&(S={...S}),O.useMemo(()=>{v.forEach((I,V)=>v.set(V,!1))},[n]),O.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),c==="popLayout"&&(t=y.jsx(W5,{isPresent:n,anchorX:d,anchorY:m,root:p,children:t})),y.jsx(Wf.Provider,{value:S,children:t})};function Z5(){return new Map}function OC(t=!0){const e=O.useContext(Wf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const c=O.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Id=t=>t.key||"";function Yw(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const Xi=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:m="top",root:p})=>{const[v,b]=OC(c),_=O.useMemo(()=>Yw(t),[t]),S=c&&!v?[]:_.map(Id),I=O.useRef(!0),V=O.useRef(_),k=Y0(()=>new Map),U=O.useRef(new Set),[q,F]=O.useState(_),[ee,Y]=O.useState(_);h2(()=>{I.current=!1,V.current=_;for(let E=0;E<ee.length;E++){const A=Id(ee[E]);S.includes(A)?(k.delete(A),U.current.delete(A)):k.get(A)!==!0&&k.set(A,!1)}},[ee,S.length,S.join("-")]);const le=[];if(_!==q){let E=[..._];for(let A=0;A<ee.length;A++){const j=ee[A],N=Id(j);S.includes(N)||(E.splice(A,0,j),le.push(j))}return l==="wait"&&le.length&&(E=le),Y(Yw(E)),F(_),null}const{forceRender:D}=O.useContext(K0);return y.jsx(y.Fragment,{children:ee.map(E=>{const A=Id(E),j=c&&!v?!1:_===ee||S.includes(A),N=()=>{if(U.current.has(A))return;if(U.current.add(A),k.has(A))k.set(A,!0);else return;let P=!0;k.forEach(M=>{M||(P=!1)}),P&&(D==null||D(),Y(V.current),c&&(b==null||b()),i&&i())};return y.jsx(J5,{isPresent:j,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:j?void 0:N,anchorX:d,anchorY:m,children:E},A)})})},kC=O.createContext({strict:!1}),Qw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Xw=!1;function eU(){if(Xw)return;const t={};for(const e in Qw)t[e]={isEnabled:n=>Qw[e].some(i=>!!n[i])};cC(t),Xw=!0}function jC(){return eU(),zL()}function tU(t){const e=jC();for(const n in t)e[n]={...e[n],...t[n]};cC(e)}const nU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nU.has(t)}let VC=t=>!Cf(t);function sU(t){typeof t=="function"&&(VC=e=>e.startsWith("on")?!Cf(e):t(e))}try{sU(require("@emotion/is-prop-valid").default)}catch{}function iU(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(VC(a)||n===!0&&Cf(a)||!e&&!Cf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const em=O.createContext({});function rU(t,e){if(Zf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Tu(n)?n:void 0,animate:Tu(i)?i:void 0}}return t.inherit!==!1?e:{}}function aU(t){const{initial:e,animate:n}=rU(t,O.useContext(em));return O.useMemo(()=>({initial:e,animate:n}),[Ww(e),Ww(n)])}function Ww(t){return Array.isArray(t)?t.join(" "):t}const wv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PC(t,e,n){for(const i in e)!Tn(e[i])&&!gC(i,n)&&(t[i]=e[i])}function oU({transformTemplate:t},e){return O.useMemo(()=>{const n=wv();return xv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lU(t,e){const n=t.style||{},i={};return PC(i,n,t),Object.assign(i,oU(t,e)),i}function cU(t,e){const n={},i=lU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const LC=()=>({...wv(),attrs:{}});function uU(t,e,n,i){const a=O.useMemo(()=>{const l=LC();return yC(l,e,bC(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};PC(l,t.style,t),a.style={...l,...a.style}}return a}const hU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ev(t){return typeof t!="string"||t.includes("-")?!1:!!(hU.indexOf(t)>-1||/[A-Z]/u.test(t))}function dU(t,e,n,{latestValues:i},a,l=!1,c){const m=(c??Ev(t)?uU:cU)(e,i,a,t),p=iU(e,typeof t=="string",l),v=t!==O.Fragment?{...p,...m,ref:n}:{},{children:b}=e,_=O.useMemo(()=>Tn(b)?b.get():b,[b]);return O.createElement(t,{...v,children:_})}function fU({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:mU(n,i,a,t),renderState:e()}}function mU(t,e,n,i){const a={},l=i(t,{});for(const _ in l)a[_]=Xd(l[_]);let{initial:c,animate:d}=t;const m=Zf(t),p=lC(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!Jf(b)){const _=Array.isArray(b)?b:[b];for(let S=0;S<_.length;S++){const I=fv(t,_[S]);if(I){const{transitionEnd:V,transition:k,...U}=I;for(const q in U){let F=U[q];if(Array.isArray(F)){const ee=v?F.length-1:0;F=F[ee]}F!==null&&(a[q]=F)}for(const q in V)a[q]=V[q]}}}return a}const UC=t=>(e,n)=>{const i=O.useContext(em),a=O.useContext(Wf),l=()=>fU(t,e,i,a);return n?l():Y0(l)},pU=UC({scrapeMotionValuesFromProps:_v,createRenderState:wv}),gU=UC({scrapeMotionValuesFromProps:xC,createRenderState:LC}),yU=Symbol.for("motionComponentSymbol");function vU(t,e,n){const i=O.useRef(n);O.useInsertionEffect(()=>{i.current=n});const a=O.useRef(null);return O.useCallback(l=>{var d;l&&((d=t.onMount)==null||d.call(t,l)),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const m=c(l);typeof m=="function"&&(a.current=m)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const zC=O.createContext({});function Wc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bU(t,e,n,i,a,l){var U,q;const{visualElement:c}=O.useContext(em),d=O.useContext(kC),m=O.useContext(Wf),p=O.useContext(Tv).reducedMotion,v=O.useRef(null),b=O.useRef(!1);i=i||d.renderer,!v.current&&i&&(v.current=i(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:l}),b.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const _=v.current,S=O.useContext(zC);_&&!_.projection&&a&&(_.type==="html"||_.type==="svg")&&xU(v.current,n,a,S);const I=O.useRef(!1);O.useInsertionEffect(()=>{_&&I.current&&_.update(n,m)});const V=n[Y2],k=O.useRef(!!V&&!((U=window.MotionHandoffIsComplete)!=null&&U.call(window,V))&&((q=window.MotionHasOptimisedAnimation)==null?void 0:q.call(window,V)));return h2(()=>{b.current=!0,_&&(I.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),k.current&&_.animationState&&_.animationState.animateChanges())}),O.useEffect(()=>{_&&(!k.current&&_.animationState&&_.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)==null||F.call(window,V)}),k.current=!1),_.enteringChildren=void 0)}),_}function xU(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Wc(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:m,layoutRoot:p})}function BC(t){if(t)return t.options.allowProjection!==!1?t.projection:BC(t.parent)}function Og(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&tU(i);const l=n?n==="svg":Ev(t),c=l?gU:pU;function d(p,v){let b;const _={...O.useContext(Tv),...p,layoutId:_U(p)},{isStatic:S}=_,I=aU(p),V=c(p,S);if(!S&&u2){TU();const k=wU(_);b=k.MeasureLayout,I.visualElement=bU(t,V,_,a,k.ProjectionNode,l)}return y.jsxs(em.Provider,{value:I,children:[b&&I.visualElement?y.jsx(b,{visualElement:I.visualElement,..._}):null,dU(t,p,vU(V,I.visualElement,v),V,S,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=O.forwardRef(d);return m[yU]=t,m}function _U({layoutId:t}){const e=O.useContext(K0).id;return e&&t!==void 0?e+"-"+t:t}function TU(t,e){O.useContext(kC).strict}function wU(t){const e=jC(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function EU(t,e){if(typeof Proxy>"u")return Og;const n=new Map,i=(l,c)=>Og(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Og(c,void 0,t,e)),n.get(c))})}const SU=(t,e)=>e.isSVG??Ev(t)?new s5(e):new WL(e,{allowProjection:t!==O.Fragment});class AU extends aa{constructor(e){super(e),e.animationState||(e.animationState=l5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let CU=0;class RU extends aa{constructor(){super(...arguments),this.id=CU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const NU={animation:{Feature:AU},exit:{Feature:RU}};function Fu(t){return{point:{x:t.pageX,y:t.pageY}}}const IU=t=>e=>yv(e)&&t(e,Fu(e));function ou(t,e,n,i){return wu(t,e,IU(n),i)}const FC=({current:t})=>t?t.ownerDocument.defaultView:null,Jw=(t,e)=>Math.abs(t-e);function DU(t,e){const n=Jw(t.x,e.x),i=Jw(t.y,e.y);return Math.sqrt(n**2+i**2)}const Zw=new Set(["auto","scroll"]);class qC{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=jg(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,V=DU(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!V)return;const{point:k}=S,{timestamp:U}=dn;this.history.push({...k,timestamp:U});const{onStart:q,onMove:F}=this.handlers;I||(q&&q(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,S)},this.handlePointerMove=(S,I)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=kg(I,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(S,I)=>{this.end();const{onEnd:V,onSessionEnd:k,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=jg(S.type==="pointercancel"?this.lastMoveEventInfo:kg(I,this.transformPagePoint),this.history);this.startEvent&&V&&V(S,q),k&&k(S,q)},!yv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const m=Fu(e),p=kg(m,this.transformPagePoint),{point:v}=p,{timestamp:b}=dn;this.history=[{...v,timestamp:b}];const{onSessionStart:_}=n;_&&_(e,jg(p,this.history)),this.removeListeners=Uu(ou(this.contextWindow,"pointermove",this.handlePointerMove),ou(this.contextWindow,"pointerup",this.handlePointerUp),ou(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(Zw.has(i.overflowX)||Zw.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),vt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ta(this.updatePoint)}}function kg(t,e){return e?{point:e(t.point)}:t}function eE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jg({point:t},e){return{point:t,delta:eE(t,HC(e)),offset:eE(t,MU(e)),velocity:OU(e,.1)}}function MU(t){return t[0]}function HC(t){return t[t.length-1]}function OU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=HC(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Qi(e)));)n--;if(!i)return{x:0,y:0};const l=gs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function kU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?wt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?wt(n,t,i.max):Math.min(t,n)),t}function tE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jU(t,{top:e,left:n,bottom:i,right:a}){return{x:tE(t.x,n,a),y:tE(t.y,e,i)}}function nE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function VU(t,e){return{x:nE(t.x,e.x),y:nE(t.y,e.y)}}function PU(t,e){let n=.5;const i=Rn(t),a=Rn(e);return a>i?n=bu(e.min,e.max-i,t.min):i>a&&(n=bu(t.min,t.max-a,e.min)),vi(0,1,n)}function LU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Py=.35;function UU(t=Py){return t===!1?t=0:t===!0&&(t=Py),{x:sE(t,"left","right"),y:sE(t,"top","bottom")}}function sE(t,e,n){return{min:iE(t,e),max:iE(t,n)}}function iE(t,e){return typeof t=="number"?t:t[e]||0}const zU=new WeakMap;class BU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(Fu(b).point)):this.pauseAnimation()},c=(b,_)=>{this.stopAnimation();const{drag:S,dragPropagation:I,onDragStart:V}=this.getProps();if(S&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RL(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fs(U=>{let q=this.getAxisMotionValue(U).get()||0;if(mi.test(q)){const{projection:F}=this.visualElement;if(F&&F.layout){const ee=F.layout.layoutBox[U];ee&&(q=Rn(ee)*(parseFloat(q)/100))}}this.originPoint[U]=q}),V&&vt.postRender(()=>V(b,_)),Ny(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:I,onDirectionLock:V,onDrag:k}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:U}=_;if(I&&this.currentDirection===null){this.currentDirection=FU(U),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",_.point,U),this.updateAxis("y",_.point,U),this.visualElement.render(),k&&k(b,_)},m=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_,this.stop(b,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>fs(b=>{var _;return this.getAnimationState(b)==="paused"&&((_=this.getAxisMotionValue(b).animation)==null?void 0:_.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new qC(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:FC(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&vt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Dd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=kU(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Wc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=jU(i.layoutBox,e):this.constraints=!1,this.elastic=UU(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fs(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=LU(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wc(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=GL(i,a.root,this.visualElement.getTransformPagePoint());let c=VU(a.layout.layoutBox,l);if(n){const d=n(FL(c));this.hasMutatedConstraints=!!d,d&&(c=hC(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=fs(v=>{if(!Dd(v,n,this.currentDirection))return;let b=m&&m[v]||{};c&&(b={min:0,max:0});const _=a?200:1e6,S=a?40:1e7,I={type:"inertia",velocity:i?e[v]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,I)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Ny(this.visualElement,e),i.start(dv(e,i,0,n,this.visualElement,!1))}stopAnimation(){fs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){fs(n=>{const{drag:i}=this.getProps();if(!Dd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-wt(c,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Wc(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fs(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=PU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fs(c=>{if(!Dd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(wt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;zU.set(this.visualElement,this);const e=this.visualElement.current,n=ou(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps(),b=m.target,_=b!==e&&rC(b);p&&v&&!_&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Wc(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),vt.read(i);const c=wu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(fs(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Py,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Dd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qU extends aa{constructor(e){super(e),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new BU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const rE=t=>(e,n)=>{t&&vt.postRender(()=>t(e,n))};class HU extends aa{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(e){this.session=new qC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:rE(e),onStart:rE(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&vt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=ou(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vg=!1;class GU extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Vg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Wd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Vg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||vt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Vg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GC(t){const[e,n]=OC(),i=O.useContext(K0);return y.jsx(GU,{...t,layoutGroup:i,switchLayoutGroup:O.useContext(zC),isPresent:e,safeToRemove:n})}const $U={pan:{Feature:HU},drag:{Feature:qU,ProjectionNode:MC,MeasureLayout:GC}};function aE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&vt.postRender(()=>l(e,Fu(e)))}class KU extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=NL(e,(n,i)=>(aE(this.node,i,"Start"),a=>aE(this.node,a,"End"))))}unmount(){}}class YU extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uu(wu(this.node.current,"focus",()=>this.onFocus()),wu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&vt.postRender(()=>l(e,Fu(e)))}class QU extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=ML(e,(n,i)=>(oE(this.node,i,"Start"),(a,{success:l})=>oE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ly=new WeakMap,Pg=new WeakMap,XU=t=>{const e=Ly.get(t.target);e&&e(t)},WU=t=>{t.forEach(XU)};function JU({root:t,...e}){const n=t||document;Pg.has(n)||Pg.set(n,{});const i=Pg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(WU,{root:t,...e})),i[a]}function ZU(t,e,n){const i=JU(e);return Ly.set(t,n),i.observe(t),()=>{Ly.delete(t),i.unobserve(t)}}const e9={some:0,all:1};class t9 extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:e9[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),_=p?v:b;_&&_(m)};return ZU(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n9(e,n))&&this.startObserver()}unmount(){}}function n9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const s9={inView:{Feature:t9},tap:{Feature:QU},focus:{Feature:YU},hover:{Feature:KU}},i9={layout:{ProjectionNode:MC,MeasureLayout:GC}},r9={...NU,...s9,...$U,...i9},je=EU(r9,SU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),lE=t=>{const e=o9(t);return e.charAt(0).toUpperCase()+e.slice(1)},$C=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),l9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>O.createElement("svg",{ref:m,...c9,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:$C("lucide",a),...!l&&!l9(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,v])=>O.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=O.forwardRef(({className:i,...a},l)=>O.createElement(u9,{ref:l,iconNode:e,className:$C(`lucide-${a9(lE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=lE(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],d9=Re("arrow-left",h9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],m9=Re("banknote",f9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cE=Re("bell",p9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],y9=Re("calendar",g9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lg=Re("check",v9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],uE=Re("chef-hat",b9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sv=Re("chevron-down",x9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],T9=Re("chevron-right",_9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],KC=Re("chevron-up",w9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rf=Re("circle-alert",E9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pn=Re("circle-check-big",S9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],C9=Re("circle-x",A9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ug=Re("clipboard-list",R9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Za=Re("clock",N9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],D9=Re("copy",I9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],O9=Re("credit-card",M9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],j9=Re("database",k9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],YC=Re("dollar-sign",V9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],QC=Re("download",P9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],U9=Re("external-link",L9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],B9=Re("eye",z9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],q9=Re("file-spreadsheet",F9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],tm=Re("flame",H9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$9=Re("image",G9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Y9=Re("info",K9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],X9=Re("layout-dashboard",Q9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],J9=Re("list-filter",W9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ez=Re("loader-circle",Z9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nz=Re("lock",tz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uy=Re("log-out",sz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],XC=Re("map-pin",iz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],az=Re("menu",rz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M5 12h14",key:"1ays0h"}]],lz=Re("minus",oz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hE=Re("package",cz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],WC=Re("plus",uz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],JC=Re("printer",hz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fz=Re("refresh-cw",dz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pz=Re("settings",mz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Eu=Re("shopping-bag",gz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],lu=Re("shopping-cart",yz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],bz=Re("smartphone",vz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ZC=Re("trash-2",xz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],eR=Re("trending-up",_z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wz=Re("triangle-alert",Tz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tR=Re("user",Ez);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Az=Re("utensils-crossed",Sz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sa=Re("x",Cz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nz=Re("zap",Rz);function nR(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=nR(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Iz(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=nR(t))&&(i&&(i+=" "),i+=e);return i}const Dz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},Mz=(t,e)=>({classGroupId:t,validator:e}),sR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Nf="-",dE=[],Oz="arbitrary..",kz=t=>{const e=Vz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return jz(c);const d=c.split(Nf),m=d[0]===""&&d.length>1?1:0;return iR(d,m,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const m=i[c],p=n[c];return m?p?Dz(p,m):m:p||dE}return n[c]||dE}}},iR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=iR(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=e===0?t.join(Nf):t.slice(e).join(Nf),m=c.length;for(let p=0;p<m;p++){const v=c[p];if(v.validator(d))return v.classGroupId}},jz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?Oz+i:void 0})(),Vz=t=>{const{theme:e,classGroups:n}=t;return Pz(n,e)},Pz=(t,e)=>{const n=sR();for(const i in t){const a=t[i];Av(a,n,i,e)}return n},Av=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];Lz(c,e,n,i)}},Lz=(t,e,n,i)=>{if(typeof t=="string"){Uz(t,e,n);return}if(typeof t=="function"){zz(t,e,n,i);return}Bz(t,e,n,i)},Uz=(t,e,n)=>{const i=t===""?e:rR(e,t);i.classGroupId=n},zz=(t,e,n,i)=>{if(Fz(t)){Av(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(Mz(n,t))},Bz=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[d,m]=a[c];Av(m,rR(e,d),n,i)}},rR=(t,e)=>{let n=t;const i=e.split(Nf),a=i.length;for(let l=0;l<a;l++){const c=i[l];let d=n.nextPart.get(c);d||(d=sR(),n.nextPart.set(c,d)),n=d}return n},Fz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,qz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},zy="!",fE=":",Hz=[],mE=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),Gz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,d=0,m=0,p;const v=a.length;for(let V=0;V<v;V++){const k=a[V];if(c===0&&d===0){if(k===fE){l.push(a.slice(m,V)),m=V+1;continue}if(k==="/"){p=V;continue}}k==="["?c++:k==="]"?c--:k==="("?d++:k===")"&&d--}const b=l.length===0?a:a.slice(m);let _=b,S=!1;b.endsWith(zy)?(_=b.slice(0,-1),S=!0):b.startsWith(zy)&&(_=b.slice(1),S=!0);const I=p&&p>m?p-m:void 0;return mE(l,S,_,I)};if(e){const a=e+fE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):mE(Hz,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},$z=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",m=e.has(c);d||m?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},Kz=t=>({cache:qz(t.cacheSize),parseClassName:Gz(t),sortModifiers:$z(t),...kz(t)}),Yz=/\s+/,Qz=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(Yz);let m="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:b,modifiers:_,hasImportantModifier:S,baseClassName:I,maybePostfixModifierPosition:V}=n(v);if(b){m=v+(m.length>0?" "+m:m);continue}let k=!!V,U=i(k?I.substring(0,V):I);if(!U){if(!k){m=v+(m.length>0?" "+m:m);continue}if(U=i(I),!U){m=v+(m.length>0?" "+m:m);continue}k=!1}const q=_.length===0?"":_.length===1?_[0]:l(_).join(":"),F=S?q+zy:q,ee=F+U;if(c.indexOf(ee)>-1)continue;c.push(ee);const Y=a(U,k);for(let le=0;le<Y.length;++le){const D=Y[le];c.push(F+D)}m=v+(m.length>0?" "+m:m)}return m},Xz=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=aR(n))&&(a&&(a+=" "),a+=i);return a},aR=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=aR(t[i]))&&(n&&(n+=" "),n+=e);return n},Wz=(t,...e)=>{let n,i,a,l;const c=m=>{const p=e.reduce((v,b)=>b(v),t());return n=Kz(p),i=n.cache.get,a=n.cache.set,l=d,d(m)},d=m=>{const p=i(m);if(p)return p;const v=Qz(m,n);return a(m,v),v};return l=c,(...m)=>l(Xz(...m))},Jz=[],Xt=t=>{const e=n=>n[t]||Jz;return e.isThemeGetter=!0,e},oR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Zz=/^\d+\/\d+$/,e8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,s8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=t=>Zz.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),Vr=t=>!!t&&Number.isInteger(Number(t)),zg=t=>t.endsWith("%")&&ze(t.slice(0,-1)),Hi=t=>e8.test(t),r8=()=>!0,a8=t=>t8.test(t)&&!n8.test(t),cR=()=>!1,o8=t=>s8.test(t),l8=t=>i8.test(t),c8=t=>!ge(t)&&!ye(t),u8=t=>Vl(t,dR,cR),ge=t=>oR.test(t),Pa=t=>Vl(t,fR,a8),Bg=t=>Vl(t,p8,ze),pE=t=>Vl(t,uR,cR),h8=t=>Vl(t,hR,l8),Md=t=>Vl(t,mR,o8),ye=t=>lR.test(t),qc=t=>Pl(t,fR),d8=t=>Pl(t,g8),gE=t=>Pl(t,uR),f8=t=>Pl(t,dR),m8=t=>Pl(t,hR),Od=t=>Pl(t,mR,!0),Vl=(t,e,n)=>{const i=oR.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Pl=(t,e,n=!1)=>{const i=lR.exec(t);return i?i[1]?e(i[1]):n:!1},uR=t=>t==="position"||t==="percentage",hR=t=>t==="image"||t==="url",dR=t=>t==="length"||t==="size"||t==="bg-size",fR=t=>t==="length",p8=t=>t==="number",g8=t=>t==="family-name",mR=t=>t==="shadow",y8=()=>{const t=Xt("color"),e=Xt("font"),n=Xt("text"),i=Xt("font-weight"),a=Xt("tracking"),l=Xt("leading"),c=Xt("breakpoint"),d=Xt("container"),m=Xt("spacing"),p=Xt("radius"),v=Xt("shadow"),b=Xt("inset-shadow"),_=Xt("text-shadow"),S=Xt("drop-shadow"),I=Xt("blur"),V=Xt("perspective"),k=Xt("aspect"),U=Xt("ease"),q=Xt("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Y=()=>[...ee(),ye,ge],le=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],E=()=>[ye,ge,m],A=()=>[Yo,"full","auto",...E()],j=()=>[Vr,"none","subgrid",ye,ge],N=()=>["auto",{span:["full",Vr,ye,ge]},Vr,ye,ge],P=()=>[Vr,"auto",ye,ge],M=()=>["auto","min","max","fr",ye,ge],Se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Le=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...E()],ae=()=>[Yo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],se=()=>[t,ye,ge],Ie=()=>[...ee(),gE,pE,{position:[ye,ge]}],Me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",f8,u8,{size:[ye,ge]}],te=()=>[zg,qc,Pa],ce=()=>["","none","full",p,ye,ge],ue=()=>["",ze,qc,Pa],we=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[ze,zg,gE,pE],bt=()=>["","none",I,ye,ge],tt=()=>["none",ze,ye,ge],En=()=>["none",ze,ye,ge],Jn=()=>[ze,ye,ge],Ln=()=>[Yo,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hi],breakpoint:[Hi],color:[r8],container:[Hi],"drop-shadow":[Hi],ease:["in","out","in-out"],font:[c8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hi],shadow:[Hi],spacing:["px",ze],text:[Hi],"text-shadow":[Hi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yo,ge,ye,k]}],container:["container"],columns:[{columns:[ze,ge,ye,d]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Y()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Vr,"auto",ye,ge]}],basis:[{basis:[Yo,"full","auto",d,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Yo,"auto","initial","none",ge]}],grow:[{grow:["",ze,ye,ge]}],shrink:[{shrink:["",ze,ye,ge]}],order:[{order:[Vr,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...Se(),"normal"]}],"justify-items":[{"justify-items":[...Le(),"normal"]}],"justify-self":[{"justify-self":["auto",...Le()]}],"align-content":[{content:["normal",...Se()]}],"align-items":[{items:[...Le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Le(),{baseline:["","last"]}]}],"place-content":[{"place-content":Se()}],"place-items":[{"place-items":[...Le(),"baseline"]}],"place-self":[{"place-self":["auto",...Le()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[d,"screen",...ae()]}],"min-w":[{"min-w":[d,"screen","none",...ae()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,qc,Pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ye,Bg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zg,ge]}],"font-family":[{font:[d8,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ye,ge]}],"line-clamp":[{"line-clamp":[ze,"none",ye,Bg]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",ye,Pa]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[ze,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ie()}],"bg-repeat":[{bg:Me()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vr,ye,ge],radial:["",ye,ge],conic:[Vr,ye,ge]},m8,h8]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,ye,ge]}],"outline-w":[{outline:["",ze,qc,Pa]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",v,Od,Md]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",b,Od,Md]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[ze,Pa]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",_,Od,Md]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[ze,ye,ge]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ee()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ie()}],"mask-repeat":[{mask:Me()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:bt()}],brightness:[{brightness:[ze,ye,ge]}],contrast:[{contrast:[ze,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",S,Od,Md]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",ze,ye,ge]}],"hue-rotate":[{"hue-rotate":[ze,ye,ge]}],invert:[{invert:["",ze,ye,ge]}],saturate:[{saturate:[ze,ye,ge]}],sepia:[{sepia:["",ze,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":bt()}],"backdrop-brightness":[{"backdrop-brightness":[ze,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[ze,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",ze,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[ze,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[ze,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",ye,ge]}],ease:[{ease:["linear","initial",U,ye,ge]}],delay:[{delay:[ze,ye,ge]}],animate:[{animate:["none",q,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[V,ye,ge]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:tt()}],"rotate-x":[{"rotate-x":tt()}],"rotate-y":[{"rotate-y":tt()}],"rotate-z":[{"rotate-z":tt()}],scale:[{scale:En()}],"scale-x":[{"scale-x":En()}],"scale-y":[{"scale-y":En()}],"scale-z":[{"scale-z":En()}],"scale-3d":["scale-3d"],skew:[{skew:Jn()}],"skew-x":[{"skew-x":Jn()}],"skew-y":[{"skew-y":Jn()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ln()}],"translate-x":[{"translate-x":Ln()}],"translate-y":[{"translate-y":Ln()}],"translate-z":[{"translate-z":Ln()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[ze,qc,Pa,Bg]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},v8=Wz(y8);function Je(...t){return v8(Iz(t))}const gn=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),b8=t=>new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(i.result),i.onerror=a=>n(a)}),x8={success:{icon:pn,bg:"bg-white",borderColor:"border-green-500",iconBg:"bg-green-50",iconColor:"text-green-600",titleColor:"text-brand-maroon",messageColor:"text-gray-700",progressBg:"bg-green-500",confirmBtnBg:"bg-green-600 hover:bg-green-700"},error:{icon:C9,bg:"bg-white",borderColor:"border-red-500",iconBg:"bg-red-50",iconColor:"text-red-600",titleColor:"text-brand-maroon",messageColor:"text-gray-700",progressBg:"bg-red-500",confirmBtnBg:"bg-red-600 hover:bg-red-700"},warning:{icon:wz,bg:"bg-brand-yellow",borderColor:"border-brand-maroon",iconBg:"bg-white",iconColor:"text-brand-maroon",titleColor:"text-brand-maroon",messageColor:"text-gray-800",progressBg:"bg-brand-maroon",confirmBtnBg:"bg-brand-maroon hover:bg-brand-burgundy"},info:{icon:Y9,bg:"bg-brand-cream",borderColor:"border-brand-maroon",iconBg:"bg-white",iconColor:"text-brand-maroon",titleColor:"text-brand-maroon",messageColor:"text-gray-700",progressBg:"bg-brand-maroon",confirmBtnBg:"bg-brand-maroon hover:bg-brand-burgundy"},confirm:{icon:Rf,bg:"bg-white",borderColor:"border-brand-maroon",iconBg:"bg-brand-cream",iconColor:"text-brand-maroon",titleColor:"text-brand-maroon",messageColor:"text-gray-700",progressBg:"bg-brand-maroon",confirmBtnBg:"bg-brand-maroon hover:bg-brand-burgundy"}},_8=({toast:t})=>{const{hideToast:e}=Dl(),n=x8[t.type],i=n.icon,a=()=>{var c;(c=t.onConfirm)==null||c.call(t),e(t.id)},l=()=>{var c;(c=t.onCancel)==null||c.call(t),e(t.id)};return O.useEffect(()=>{if(t.type!=="confirm"&&t.duration){const c=setTimeout(()=>{e(t.id)},t.duration);return()=>clearTimeout(c)}},[t,e]),y.jsx(je.div,{initial:{opacity:0,y:-30,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.95},transition:{type:"spring",stiffness:500,damping:30},className:"w-full",children:y.jsxs("div",{className:Je("relative shadow-lg rounded-xl overflow-hidden border-2",n.bg,n.borderColor),children:[t.type!=="confirm"&&t.duration&&y.jsx(je.div,{initial:{width:"100%"},animate:{width:"0%"},transition:{duration:t.duration/1e3,ease:"linear"},className:Je("absolute top-0 left-0 h-1 z-10",n.progressBg)}),y.jsx("div",{className:"p-3 sm:p-4",children:y.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[y.jsx(je.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{delay:.1,type:"spring",stiffness:400},className:Je("flex-shrink-0 rounded-lg p-1.5 sm:p-2",n.iconBg),children:y.jsx(i,{className:Je("w-4 h-4 sm:w-5 sm:h-5",n.iconColor),strokeWidth:2.5})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[t.title&&y.jsx("h4",{className:Je("font-bold text-xs sm:text-sm mb-0.5 leading-tight",n.titleColor),children:t.title}),y.jsx("p",{className:Je("text-xs sm:text-sm leading-snug",n.messageColor),children:t.message}),t.type==="confirm"&&y.jsxs("div",{className:"flex gap-2 mt-3",children:[y.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:Je("flex-1 text-white font-bold px-3 py-2 rounded-lg transition-colors text-xs sm:text-sm shadow-sm",n.confirmBtnBg),children:t.confirmText||"OK"}),y.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 font-bold px-3 py-2 rounded-lg transition-colors border-2 border-gray-200 text-xs sm:text-sm",children:t.cancelText||"Cancel"})]})]}),t.type!=="confirm"&&y.jsx(je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(t.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:y.jsx(sa,{size:16,strokeWidth:2.5,className:"sm:w-5 sm:h-5"})})]})})]})})},T8=()=>{const{toasts:t}=Dl();return y.jsx("div",{className:"fixed top-16 sm:top-20 right-2 sm:right-4 left-2 sm:left-auto z-[100] flex flex-col gap-2 sm:gap-3 pointer-events-none sm:max-w-sm",children:y.jsx(Xi,{mode:"popLayout",children:t.map(e=>y.jsx("div",{className:"pointer-events-auto",children:y.jsx(_8,{toast:e})},e.id))})})},w8=["11sciirfans@gmail.com","piyushthawale7@gmail.com","yummyfi.official@gmail.com"].filter(Boolean),yE=t=>t?w8.includes(t):!1,pR=O.createContext(void 0),E8=({children:t})=>{const[e,n]=O.useState(null),[i,a]=O.useState(!0);O.useEffect(()=>{const m=O4(Cd,p=>{n(p),a(!1),p&&(localStorage.setItem("userEmail",p.email||""),localStorage.setItem("userName",p.displayName||""))});return()=>m()},[]);const l=async(m=!1)=>{try{const v=(await Z4(Cd,T3)).user??null;if(m&&v){const b=v.email??null;if(!yE(b))throw await M1(Cd),new Error("NOT_ADMIN");localStorage.setItem("isAdminSession","true")}else localStorage.setItem("isAdminSession","false");return n(v),v}catch(p){throw console.error("Sign-in error:",p),p}},c=async(m=!1)=>{const p=localStorage.getItem("isAdminSession")==="true";if(m&&!p){console.log("Not signing out - not an admin session");return}await M1(Cd),localStorage.removeItem("isAdminSession"),(!m||p)&&(localStorage.removeItem("userEmail"),localStorage.removeItem("userName"))},d={user:e,loading:i,isAdmin:yE((e==null?void 0:e.email)??null),isAuthenticatedUser:!!e,signInWithGoogle:l,signOut:c};return y.jsx(pR.Provider,{value:d,children:t})},Ll=()=>{const t=O.useContext(pR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},S8=()=>{var F,ee,Y,le,D,E;const{cart:t,tableNumber:e}=Ml(),{user:n,isAdmin:i,signOut:a}=Ll(),{showConfirm:l,showError:c}=Dl(),d=sr(),m=Au(),p=d.pathname.startsWith("/admin"),[v,b]=O.useState(!1),[_,S]=O.useState(!1),[I,V]=O.useState(!1),k=TE.useRef(t.length),U=O.useRef(null);O.useEffect(()=>{t.length>k.current&&(b(!0),setTimeout(()=>b(!1),500)),k.current=t.length},[t.length]),O.useEffect(()=>{S(!1),V(!1)},[d.pathname]),O.useEffect(()=>{const A=j=>{U.current&&!U.current.contains(j.target)&&V(!1)};if(I)return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[I]);const q=async()=>{const A=localStorage.getItem("isAdminSession")==="true";l(A?"Are you sure you want to sign out from admin session?":"Are you sure you want to sign out? Your cart will be cleared.",async()=>{try{await a(!1),V(!1),A?m("/admin"):window.location.reload()}catch(N){console.error("Sign-out failed:",N),c("Sign-out failed. Please try again.")}},void 0,"Sign Out","Cancel"," Sign Out Confirmation")};return p&&d.pathname.includes("dashboard")?null:y.jsxs(y.Fragment,{children:[y.jsx("nav",{className:Je("sticky top-0 z-50 shadow-sm px-4 sm:px-6 py-4 transition-colors bg-brand-yellow"),children:y.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[y.jsxs(Qn,{to:p?"/admin":"/",className:"flex items-center gap-3 group",children:[y.jsx("img",{src:"/542169443-ff628a00-4675-44b8-9fb4-6c3b6630590b.png",alt:"Yummy-Fi Logo",className:"w-12 h-12 object-contain drop-shadow-sm group-hover:scale-105 transition-transform duration-300 rounded-full"}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl sm:text-2xl font-bold leading-none text-brand-maroon font-serif",children:"Yummy-Fi"}),y.jsx("p",{className:"text-[10px] sm:text-xs text-brand-maroon/70 font-sans font-medium tracking-wide",children:p?"Admin Panel":"Restaurant System"})]})]}),!p&&y.jsxs("div",{className:"hidden sm:flex items-center gap-8",children:[y.jsx(Qn,{to:"/",className:"text-brand-maroon font-bold hover:text-brand-burgundy transition-colors",children:"Menu"}),y.jsx(Qn,{to:"/track-order",className:"text-gray-600 font-medium hover:text-brand-maroon transition-colors",children:"Track Order"})]}),y.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[!p&&e&&d.pathname!=="/"&&y.jsxs("span",{className:"hidden lg:block text-sm font-bold text-brand-maroon bg-white px-4 py-1.5 rounded-full shadow-sm border border-brand-maroon/10",children:["Table ",e]}),!p&&y.jsxs(Qn,{to:"/cart",className:"relative p-2 text-gray-800 hover:text-brand-maroon transition-colors hidden sm:block",children:[y.jsx(je.div,{animate:v?{scale:[1,1.3,.9,1.1,1],rotate:[0,-10,10,-5,0]}:{},transition:{duration:.5},children:y.jsx(lu,{size:26,strokeWidth:2})}),t.length>0&&y.jsx(je.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-brand-maroon text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-brand-cream",children:t.length})]}),!p&&y.jsxs("div",{className:"flex items-center gap-4 sm:hidden",children:[y.jsxs(Qn,{to:"/cart",className:"relative text-gray-800",children:[y.jsx(lu,{size:24,strokeWidth:2}),t.length>0&&y.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-brand-maroon text-white text-[9px] font-bold w-4 h-4 flex items-center justify-center rounded-full border border-white",children:t.length})]}),y.jsx("button",{onClick:()=>S(!0),className:"text-gray-800 hover:text-brand-maroon",children:y.jsx(az,{size:28})})]}),!p&&n&&y.jsxs("div",{ref:U,className:"relative hidden sm:block",children:[y.jsxs("button",{onClick:()=>V(!I),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-white transition-colors border border-transparent hover:border-brand-maroon/20",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-maroon text-white flex items-center justify-center text-sm font-bold",children:((F=n.displayName)==null?void 0:F.charAt(0))||((ee=n.email)==null?void 0:ee.charAt(0))||"U"}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"text-xs font-bold text-black leading-none",children:n.displayName||"User"}),y.jsx("p",{className:"text-[10px] text-black leading-none mt-0.5",children:i?"Admin":"Customer"})]}),y.jsx(Sv,{size:16,className:Je("text-black transition-transform",I&&"rotate-180")})]}),y.jsx(Xi,{children:I&&y.jsxs(je.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden z-50",children:[y.jsxs("div",{className:"p-4 bg-brand-cream border-b border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-maroon text-white flex items-center justify-center text-sm font-bold",children:((Y=n.displayName)==null?void 0:Y.charAt(0))||((le=n.email)==null?void 0:le.charAt(0))||"U"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-bold text-gray-700 truncate",children:n.displayName||"User"}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]})]}),i&&y.jsx("div",{className:"mt-2 px-2 py-1 bg-brand-maroon/10 rounded text-xs font-bold text-brand-maroon text-center",children:"Admin Account"})]}),y.jsx("div",{className:"p-2",children:y.jsxs("button",{onClick:q,className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-700 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",children:[y.jsx(Uy,{size:18}),y.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})})]})]})]})}),y.jsx(Xi,{children:_&&y.jsxs(je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 z-[60] bg-white md:hidden flex flex-col",children:[y.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-b border-gray-100 shadow-sm bg-white",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:"/542169443-ff628a00-4675-44b8-9fb4-6c3b6630590b.png",alt:"Yummy-Fi Logo",className:"w-10 h-10 object-contain rounded-full"}),y.jsx("span",{className:"text-xl font-bold text-brand-maroon font-serif leading-none",children:"Yummy-Fi"})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs(Qn,{to:"/cart",className:"relative text-gray-800",onClick:()=>S(!1),children:[y.jsx(lu,{size:24,strokeWidth:2}),t.length>0&&y.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-brand-maroon text-white text-[9px] font-bold w-4 h-4 flex items-center justify-center rounded-full border border-white",children:t.length})]}),y.jsx("button",{onClick:()=>S(!1),className:"w-10 h-10 rounded-full border-2 border-brand-yellow flex items-center justify-center text-gray-800 hover:bg-gray-50 transition-colors",children:y.jsx(sa,{size:20})})]})]}),y.jsxs("div",{className:"p-8 flex flex-col gap-6",children:[y.jsx(Qn,{to:"/",className:"text-lg font-bold text-gray-800 hover:text-brand-maroon transition-colors py-2 border-b border-gray-50 flex justify-between items-center",children:"Menu"}),y.jsx(Qn,{to:"/track-order",className:"text-lg font-bold text-gray-800 hover:text-brand-maroon transition-colors py-2 border-b border-gray-50 flex justify-between items-center",children:"Track Order"})]}),y.jsxs("div",{className:"mt-auto p-8 bg-brand-offWhite",children:[n&&y.jsxs("div",{className:"mb-6 p-4 bg-white rounded-xl shadow-sm border border-gray-100",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-maroon text-white flex items-center justify-center text-lg font-bold",children:((D=n.displayName)==null?void 0:D.charAt(0))||((E=n.email)==null?void 0:E.charAt(0))||"U"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-bold text-gray-700 truncate",children:n.displayName||"User"}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email}),i&&y.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-brand-maroon/10 rounded text-[10px] font-bold text-brand-maroon",children:"Admin"})]})]}),y.jsxs("button",{onClick:q,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition-colors font-medium text-sm",children:[y.jsx(Uy,{size:18}),y.jsx("span",{children:"Sign Out"})]})]}),y.jsx("p",{className:"text-center text-xs text-gray-400 font-medium",children:"Yummy-Fi Restaurant System"})]})]})})]})},A8=({product:t})=>{const{addToCart:e}=Ml(),{user:n,signInWithGoogle:i}=Ll(),{showConfirm:a,showError:l}=Dl(),[c,d]=TE.useState(!1),m=async()=>{if(!n){a("Please sign in with your Google account to add items to cart. This helps us track your delivery later.",async()=>{try{await i(!1),d(!0),e(t),setTimeout(()=>d(!1),600)}catch(S){console.error("Sign-in failed:",S),l("Sign-in failed. Please try again.")}},void 0,"Sign In","Cancel"," Authentication Required");return}d(!0),e(t),setTimeout(()=>d(!1),600)},p=t.price,v=t.offerPrice||0,b=p+v,_=v>0?Math.round(v/b*100):0;return y.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden group flex flex-col h-full border border-transparent hover:border-brand-goldGlow/30",children:[y.jsxs("div",{className:"relative h-44 sm:h-48 md:h-56 overflow-hidden p-2 sm:p-3 pb-0",children:[y.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover rounded-2xl group-hover:scale-105 transition-transform duration-500 shadow-inner",style:{objectPosition:`center ${t.imageFocus||50}%`}}),y.jsx("div",{className:Je("absolute top-3 sm:top-4 left-3 sm:left-4 w-5 h-5 sm:w-6 sm:h-6 border-2 flex items-center justify-center z-10 rounded-sm  bg-white shadow-sm",t.isVeg?"border-green-600":"border-red-600"),children:y.jsx("div",{className:Je("w-2 sm:w-2.5 h-2 sm:h-2.5 rounded-full",t.isVeg?"bg-green-600":"bg-red-600")})}),_>0&&y.jsxs("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 bg-brand-yellow text-brand-maroon text-[9px] sm:text-xs font-bold px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-md shadow-md z-10",children:[_,"% OFF"]}),y.jsx("div",{className:"absolute bottom-2 left-6 bg-black/30 backdrop-blur-md text-white text-[10px] px-2 py-1 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.category})]}),y.jsxs("div",{className:"p-3 sm:p-5 pt-2 sm:pt-4 flex flex-col flex-grow",children:[y.jsx("div",{className:"flex-grow",children:y.jsx("h3",{className:"text-sm sm:text-xl font-bold text-brand-maroon font-serif mb-1 sm:mb-2 leading-tight line-clamp-2",children:t.name})}),y.jsxs("div",{className:"mt-2 sm:mt-4 space-y-2 sm:space-y-4",children:[y.jsx("div",{className:"flex items-center gap-2",children:v>0?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"text-lg sm:text-2xl font-bold text-brand-maroon",children:gn(p)}),y.jsx("span",{className:"text-xs sm:text-sm text-gray-400 line-through decoration-gray-400",children:gn(b)})]}):y.jsx("span",{className:"text-lg sm:text-2xl font-bold text-brand-maroon",children:gn(p)})}),y.jsxs(je.button,{onClick:m,disabled:c,animate:c?{scale:[1,.95,1.05,1]}:{},transition:{duration:.4},className:Je("w-full bg-brand-yellow hover:bg-brand-mustard text-brand-maroon font-bold py-2 sm:py-3.5 rounded-xl flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-base transition-all active:scale-[0.98] shadow-sm hover:shadow-md",c&&"bg-green-500 text-white"),children:[y.jsx(je.div,{animate:c?{rotate:[0,-10,10,0],scale:[1,1.2,1]}:{},transition:{duration:.4},children:y.jsx(lu,{size:18,strokeWidth:2.5})}),c?"Added!":"Add to Cart"]})]})]})]})},C8=()=>{const{products:t,productsLoading:e}=Ml();return y.jsx("div",{className:"min-h-screen pb-24 bg-brand-offWhite",children:y.jsx("div",{className:"max-w-7xl mx-auto px-3 py-4 sm:px-4 sm:py-8",children:e?y.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-8",children:Array.from({length:8}).map((n,i)=>y.jsx("div",{className:"bg-white rounded-3xl shadow-sm animate-pulse h-48 sm:h-64"},i))}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-8",children:t.map(n=>y.jsx(A8,{product:n},n.id))}),t.length===0&&y.jsxs("div",{className:"text-center py-20",children:[y.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl",children:""}),y.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"No products available"}),y.jsx("p",{className:"text-gray-500 mb-4",children:"Products haven't been added yet."}),y.jsxs("p",{className:"text-sm text-gray-400",children:["Admin can add products from the ",y.jsx("a",{href:"/admin",className:"text-brand-maroon underline",children:"Admin Dashboard"})]})]})]})})})},R8=()=>{const{cart:t,updateQuantity:e,removeFromCart:n,placeOrder:i,tableNumber:a,setTableInfo:l}=Ml(),{user:c,signInWithGoogle:d}=Ll(),m=Au(),[p,v]=O.useState(!1),[b,_]=O.useState(!1),[S,I]=O.useState(""),[V,k]=O.useState(a||""),[U,q]=O.useState(!1),F=t.reduce((E,A)=>E+A.price*A.quantity,0),ee=()=>{k(a||""),v(!0)},Y=E=>E.split("@")[0].replace(/\d/g,"").split(/[._-]/).filter(M=>M.length>0).map(M=>M.charAt(0).toUpperCase()+M.slice(1).toLowerCase()).join(" ")||"Customer",le=async E=>{if(E.preventDefault(),V.trim()&&c){q(!0);try{let A="Guest";c.displayName?A=c.displayName:c.email&&(A=Y(c.email)),l(V,A),await i(V,A)&&m("/track-order")}finally{q(!1)}}},D=async()=>{try{I(""),_(!0),await d()}catch(E){console.error(E),I("Failed to sign in with Google. Please try again.")}finally{_(!1)}};return t.length===0?y.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center p-4 text-center",children:[y.jsx("div",{className:"w-24 h-24 bg-brand-cream rounded-full flex items-center justify-center mb-6",children:y.jsx(lu,{size:40,className:"text-brand-maroon/40"})}),y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Your cart is empty"}),y.jsx("p",{className:"text-gray-500 mb-8",children:"Looks like you haven't added anything yet."}),y.jsx(Qn,{to:"/",className:"bg-brand-maroon text-white px-8 py-3 rounded-xl font-bold hover:bg-brand-burgundy transition-colors",children:"Browse Menu"})]}):y.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8 relative",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx(Qn,{to:"/",className:"p-2 hover:bg-gray-100 rounded-full",children:y.jsx(d9,{size:24})}),y.jsx("h1",{className:"text-2xl font-bold text-brand-maroon",children:"Your Order"})]}),y.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden mb-6",children:t.map(E=>y.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-100 last:border-0 flex gap-3 sm:gap-4",children:[y.jsx("img",{src:E.imageUrl,alt:E.name,className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg bg-gray-100"}),y.jsxs("div",{className:"flex-grow flex flex-col justify-between",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800 font-serif text-sm sm:text-base",children:E.name}),y.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:E.category})]}),y.jsx("button",{onClick:()=>n(E.id),className:"text-gray-400 hover:text-red-500",children:y.jsx(ZC,{size:16,className:"sm:w-[18px] sm:h-[18px]"})})]}),y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsx("div",{className:"font-bold text-brand-maroon text-sm sm:text-base",children:gn(E.price*E.quantity)}),y.jsxs("div",{className:"flex items-center gap-3 bg-brand-offWhite rounded-lg p-1",children:[y.jsx("button",{onClick:()=>e(E.id,-1),className:"w-7 h-7 flex items-center justify-center bg-white rounded shadow-sm text-brand-maroon hover:bg-gray-50",children:y.jsx(lz,{size:14})}),y.jsx("span",{className:"text-sm font-bold w-4 text-center",children:E.quantity}),y.jsx("button",{onClick:()=>e(E.id,1),className:"w-7 h-7 flex items-center justify-center bg-white rounded shadow-sm text-brand-maroon hover:bg-gray-50",children:y.jsx(WC,{size:14})})]})]})]})]},E.id))}),y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-24",children:[y.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Bill Details"}),y.jsx("div",{className:"space-y-2 text-sm",children:y.jsxs("div",{className:"border-t border-dashed border-gray-200 pt-4 flex justify-between font-bold text-lg text-brand-maroon",children:[y.jsx("span",{children:"Total Amount"}),y.jsx("span",{children:gn(F)})]})})]}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-4 shadow-lg z-40",children:y.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between gap-4",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-xs text-gray-500",children:"Total Amount"}),y.jsx("span",{className:"text-xl font-bold text-brand-maroon",children:gn(F)})]}),y.jsxs("button",{onClick:ee,className:"flex-grow bg-brand-yellow text-brand-maroon font-bold py-3 px-6 rounded-xl hover:bg-brand-mustard transition-colors flex items-center justify-center gap-2",children:["Place Order ",y.jsx(pn,{size:20})]})]})}),p&&y.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:y.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-sm w-full shadow-2xl relative",children:[y.jsx("button",{onClick:()=>v(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:y.jsx(sa,{size:24})}),y.jsx("div",{className:"w-16 h-16 bg-brand-cream rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(XC,{size:32,className:"text-brand-maroon"})}),y.jsx("h2",{className:"text-2xl font-bold text-brand-maroon mb-2 font-serif text-center",children:"Final Step"}),y.jsx("p",{className:"text-gray-500 mb-6 text-center",children:"Sign in with Google and confirm your table details"}),!c&&y.jsxs("div",{className:"mb-6 space-y-2",children:[y.jsx("button",{type:"button",onClick:D,disabled:b,className:"w-full bg-white border border-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-50 disabled:opacity-60 flex items-center justify-center gap-2 shadow-sm",children:b?"Connecting to Google":"Continue with Google to place order"}),S&&y.jsx("p",{className:"text-xs text-red-500 text-center",children:S})]}),c&&y.jsxs("p",{className:"mb-4 text-xs text-center text-green-700 font-medium",children:["Signed in as ",c.email]}),y.jsxs("form",{onSubmit:le,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1 ml-1",children:"Table Number"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:y.jsx("span",{className:"text-gray-400 font-bold",children:"#"})}),y.jsx("input",{type:"text",placeholder:"e.g. 5",className:"w-full pl-10 pr-4 text-center text-xl font-bold border-2 border-gray-200 rounded-xl focus:border-brand-maroon outline-none py-3 bg-gray-50 placeholder:text-gray-400",value:V,onChange:E=>k(E.target.value),autoFocus:!0,required:!0})]})]}),y.jsx("button",{type:"submit",disabled:!V||!c||U,className:"w-full bg-brand-maroon text-white font-bold py-3.5 rounded-xl hover:bg-brand-burgundy disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-brand-maroon/20 mt-4 flex items-center justify-center gap-2",children:U?y.jsx(y.Fragment,{children:y.jsx("span",{className:"animate-pulse",children:"Sending..."})}):c?y.jsxs(y.Fragment,{children:["Confirm & Place Order ",y.jsx(pn,{size:20})]}):"Sign in to place order"})]})]})})]})},N8=()=>{const{orders:t,ordersLoading:e}=Ml(),[n,i]=O.useState(null),[a,l]=O.useState(1200);O.useEffect(()=>{if(e)return;const _=localStorage.getItem("lastOrderId");if(_){const S=t.find(I=>I.id===_);if(S)if(i(S),S.status==="confirmed"&&S.confirmedAt){const I=new Date(S.confirmedAt).getTime(),V=new Date().getTime(),k=Math.floor((V-I)/1e3),U=Math.max(0,1200-k);l(U)}else if(S.status==="ready"&&S.confirmedAt&&S.readyAt){const I=new Date(S.confirmedAt).getTime(),V=new Date(S.readyAt).getTime(),k=Math.floor((V-I)/1e3),U=Math.max(0,1200-k);l(U)}else S.status==="completed"&&l(0)}},[t,e]),O.useEffect(()=>{if(!n||n.status!=="confirmed"||a<=0)return;const _=setInterval(()=>{l(S=>Math.max(0,S-1))},1e3);return()=>clearInterval(_)},[n,a]);const c=_=>{const S=Math.floor(_/60),I=_%60;return`${S.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},m=a/1200,p=()=>{switch(n==null?void 0:n.status){case"pending":return 0;case"confirmed":return 1;case"ready":return 2;case"completed":return 3;default:return 0}},v=[{label:"Order Placed",icon:Eu,description:"Order received"},{label:"Preparing",icon:uE,description:"Kitchen is cooking"},{label:"Ready",icon:cE,description:"Ready for pickup"},{label:"Completed",icon:pn,description:"Enjoy your meal!"}];if(e)return y.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center p-4 text-center bg-gradient-to-br from-brand-offWhite via-white to-brand-cream",children:[y.jsx(je.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"w-28 h-28 bg-gradient-to-br from-brand-maroon to-brand-burgundy rounded-full flex items-center justify-center mb-6 shadow-2xl",children:y.jsx(ez,{size:48,className:"text-white animate-spin"})}),y.jsx("h2",{className:"text-2xl font-bold text-brand-maroon mb-2 font-serif",children:"Loading your order"}),y.jsx("p",{className:"text-gray-500",children:"Fetching your latest order details..."})]});if(!n)return y.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center p-4 text-center bg-gradient-to-br from-brand-offWhite via-white to-brand-cream",children:[y.jsx(je.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"w-28 h-28 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mb-6 shadow-xl",children:y.jsx(Eu,{size:48,className:"text-gray-500"})}),y.jsx("h2",{className:"text-2xl font-bold text-brand-maroon mb-2 font-serif",children:"No Active Orders"}),y.jsx("p",{className:"text-gray-500 mb-8",children:"You haven't placed any orders yet."}),y.jsx(Qn,{to:"/",className:"bg-gradient-to-r from-brand-maroon to-brand-burgundy text-white px-8 py-3 rounded-xl font-bold hover:shadow-lg transition-all transform hover:scale-105",children:"Browse Menu"})]});const b=p();return y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-brand-offWhite via-white to-brand-cream/50 pb-24",children:[y.jsxs("div",{className:"bg-gradient-to-br from-brand-maroon via-brand-burgundy to-brand-maroon pt-8 pb-20 px-4 text-center relative overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-0 opacity-10",children:[y.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),y.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-brand-yellow rounded-full blur-3xl"})]}),y.jsxs(je.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"relative z-10",children:[y.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white font-serif mb-2 drop-shadow-lg",children:"Track Your Order"}),y.jsx("p",{className:"text-white/80 text-sm sm:text-lg",children:n.status==="pending"?" Waiting for confirmation...":n.status==="ready"?" Your order is ready!":n.status==="completed"?" Order completed":" Your meal is being prepared"})]})]}),y.jsxs("div",{className:"max-w-3xl mx-auto px-4 -mt-12 relative z-10",children:[y.jsxs(je.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl p-6 sm:p-8 mb-6 border border-gray-100",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-lg font-bold text-brand-maroon font-serif",children:"Order Status"}),y.jsxs("span",{className:"text-xs font-mono text-gray-400 bg-gray-100 px-3 py-1 rounded-full",children:["#",n.id.slice(-6).toUpperCase()]})]}),y.jsx("div",{className:"relative",children:y.jsx("div",{className:"flex justify-between items-start",children:v.map((_,S)=>{const I=_.icon,V=S<=b,k=S===b;return y.jsxs("div",{className:"flex flex-col items-center flex-1 relative",children:[S<v.length-1&&y.jsx("div",{className:`absolute top-5 left-1/2 w-full h-1 transition-all duration-500 ${S<b?"bg-gradient-to-r from-green-500 to-green-400":"bg-gray-200"}`,style:{zIndex:0}}),y.jsx(je.div,{initial:!1,animate:{scale:k?1.1:1,backgroundColor:V?S===b&&n.status!=="completed"?"#7A0C0C":"#22c55e":"#e5e7eb"},className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center relative z-10 transition-all duration-300 ${k?"ring-4 ring-opacity-30 shadow-lg":""} ${k&&n.status!=="completed"?"ring-brand-maroon/30":"ring-green-500/30"}`,children:y.jsx(I,{size:18,className:`${V?"text-white":"text-gray-400"}`})}),y.jsx("span",{className:`text-[10px] sm:text-xs font-bold mt-2 text-center transition-colors ${V?"text-brand-maroon":"text-gray-400"}`,children:_.label}),y.jsx("span",{className:`text-[8px] sm:text-[10px] text-center hidden sm:block ${V?"text-gray-600":"text-gray-300"}`,children:_.description})]},S)})})})]}),n.status==="confirmed"&&y.jsxs(je.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-xl p-8 sm:p-10 mb-6 border border-gray-100 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-bl from-brand-yellow/10 to-transparent rounded-full blur-2xl"}),y.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[y.jsxs("div",{className:"relative w-56 h-56 sm:w-72 sm:h-72 flex items-center justify-center mb-6",children:[y.jsx(je.div,{animate:{scale:[1,1.1,1],opacity:[.3,.1,.3]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 border-4 border-brand-maroon/20 rounded-full"}),y.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[y.jsx("circle",{cx:"50%",cy:"50%",r:"45%",stroke:"#FFF3E8",strokeWidth:"12",fill:"none"}),y.jsx("circle",{cx:"50%",cy:"50%",r:"45%",stroke:"url(#gradient)",strokeWidth:"12",fill:"none",strokeLinecap:"round",style:{strokeDasharray:100,strokeDashoffset:100*(1-m),transition:"stroke-dashoffset 1s linear"},pathLength:"100"}),y.jsx("defs",{children:y.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[y.jsx("stop",{offset:"0%",stopColor:"#7A0C0C"}),y.jsx("stop",{offset:"100%",stopColor:"#B91C1C"})]})})]}),y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[y.jsx(je.div,{animate:{scale:[1,1.02,1]},transition:{duration:1,repeat:1/0},children:y.jsx(tm,{size:28,className:"text-brand-yellow mb-2"})}),y.jsx("span",{className:"text-5xl sm:text-7xl font-bold text-brand-maroon font-serif tabular-nums tracking-tight",children:c(a)}),y.jsx("span",{className:"text-sm sm:text-base text-brand-maroon/60 font-medium mt-1 uppercase tracking-widest",children:"minutes left"})]})]}),y.jsxs(je.div,{animate:{y:[0,-3,0]},transition:{duration:1.5,repeat:1/0},className:"px-8 py-3 bg-gradient-to-r from-brand-cream to-brand-yellow/30 rounded-full flex items-center gap-3 font-bold text-brand-maroon shadow-lg",children:[y.jsx(uE,{size:22,className:"text-brand-maroon"}),y.jsx("span",{children:"Chef is cooking your order"})]})]})]}),n.status==="ready"&&y.jsxs(je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-3xl shadow-xl p-8 sm:p-10 mb-6 border-2 border-green-200 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(6)].map((_,S)=>y.jsx(je.div,{initial:{y:-20,opacity:0},animate:{y:100,opacity:[0,1,0]},transition:{duration:2,delay:S*.3,repeat:1/0},className:"absolute text-2xl",style:{left:`${15+S*15}%`},children:["","","","","",""][S]},S))}),y.jsxs("div",{className:"relative flex flex-col items-center justify-center text-center",children:[y.jsx(je.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:.5,repeat:1/0,repeatDelay:2},className:"w-24 h-24 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-2xl",children:y.jsx(cE,{size:48,className:"text-white"})}),y.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-green-700 font-serif mb-2",children:"Order Ready!"}),y.jsx("p",{className:"text-green-600 text-lg mb-4",children:"Please Wait for your order to be served"}),y.jsxs("div",{className:"flex items-center gap-2 bg-white px-6 py-3 rounded-xl shadow-md",children:[y.jsx(XC,{size:20,className:"text-green-600"}),y.jsxs("span",{className:"font-bold text-green-700",children:["Table ",n.tableNumber]})]})]})]}),n.status==="pending"&&y.jsxs(je.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-xl p-10 mb-6 flex flex-col items-center justify-center text-center border border-gray-100",children:[y.jsx(je.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"w-20 h-20 bg-gradient-to-br from-brand-yellow to-amber-400 rounded-full flex items-center justify-center mb-4 shadow-lg",children:y.jsx(Za,{size:40,className:"text-white"})}),y.jsx("h3",{className:"text-xl font-bold text-gray-800 font-serif mb-2",children:"Sending to Kitchen..."}),y.jsx("p",{className:"text-gray-500 max-w-xs",children:"Please wait while the restaurant confirms your order."}),y.jsx("div",{className:"flex gap-1 mt-4",children:[0,1,2].map(_=>y.jsx(je.div,{animate:{y:[0,-8,0]},transition:{duration:.6,delay:_*.15,repeat:1/0},className:"w-2 h-2 bg-brand-maroon rounded-full"},_))})]}),y.jsxs(je.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-3xl shadow-xl p-6 sm:p-8 mb-8 border border-gray-100",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 pb-4 border-b border-gray-100",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-brand-maroon font-serif mb-1",children:"Order Summary"}),y.jsxs("p",{className:"text-gray-500 text-sm",children:[n.customerName&&y.jsx("span",{className:"font-medium text-brand-maroon",children:n.customerName}),n.customerName&&"  ","Table ",n.tableNumber]})]}),y.jsxs("div",{className:"flex items-center gap-2 text-brand-maroon font-bold bg-gradient-to-r from-brand-cream to-brand-yellow/20 px-4 py-2 rounded-xl text-sm shadow-sm",children:[y.jsx(Az,{size:16}),y.jsxs("span",{children:[n.items.length," Items"]})]})]}),y.jsx("div",{className:"space-y-4 mb-6",children:n.items.map((_,S)=>y.jsxs(je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+S*.1},className:"flex justify-between items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"w-10 h-10 bg-brand-cream rounded-lg flex items-center justify-center font-bold text-brand-maroon",children:[_.quantity,"x"]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-gray-800 font-medium block",children:_.name}),y.jsx("span",{className:"text-xs text-gray-400",children:_.category})]})]}),y.jsx("span",{className:"font-bold text-brand-maroon",children:gn(_.price*_.quantity)})]},S))}),y.jsx("div",{className:"border-t-2 border-dashed border-gray-200 pt-4 mb-6",children:y.jsxs("div",{className:"flex justify-between text-xl sm:text-2xl font-bold text-brand-maroon font-serif",children:[y.jsx("span",{children:"Total"}),y.jsx("span",{className:"text-2xl sm:text-3xl",children:gn(n.totalAmount)})]})}),y.jsxs(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-2xl p-4 flex items-start gap-4",children:[y.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-400 to-yellow-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:y.jsx("span",{className:"text-2xl",children:""})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-amber-800 mb-1 text-lg sm:text-base",children:"Payment at Counter"}),y.jsxs("p",{className:"text-amber-700 text-base sm:text-sm leading-relaxed",children:["Pay at the counter after you finish your meal. We accept ",y.jsx("span",{className:"font-semibold",children:"Cash"}),", ",y.jsx("span",{className:"font-semibold",children:"UPI"}),", and ",y.jsx("span",{className:"font-semibold",children:"Cards"}),"."]})]})]})]})]})]})},I8=()=>{const[t,e]=O.useState(!1),[n,i]=O.useState(""),[a,l]=O.useState(!1),{signInWithGoogle:c}=Ll(),d=Au(),m=async()=>{try{l(!0),await c(!0),d("/admin/dashboard")}catch(p){console.error("Admin login error:",p),p.message==="NOT_ADMIN"?i("This Google account is not authorized for admin access."):i("Failed to sign in with Google. Please try again."),e(!0),setTimeout(()=>e(!1),3e3)}finally{l(!1)}};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-brand-offWhite p-4",children:[y.jsx(Xi,{children:t&&y.jsx(je.div,{initial:{opacity:0,y:-100,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:-100,x:"-50%"},className:"fixed top-24 left-1/2 z-[60] max-w-md w-full mx-4",children:y.jsxs(je.div,{animate:{scale:[1,1.02,1],rotate:[0,-1,1,-1,0]},transition:{duration:.5,repeat:2},className:"bg-white rounded-2xl shadow-2xl border-2 border-red-500 p-4 flex items-center gap-4",children:[y.jsx("div",{className:"bg-red-100 rounded-full p-2 flex-shrink-0",children:y.jsx(Rf,{className:"text-red-600",size:24})}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("p",{className:"font-bold text-red-600 text-sm",children:"Access Denied"}),y.jsx("p",{className:"text-gray-600 text-xs mt-0.5",children:n||"Please check your credentials and try again."})]}),y.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0",children:y.jsx(sa,{size:20})})]})})}),y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border-t-4 border-brand-maroon",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-brand-maroon/10 rounded-full flex items-center justify-center mx-auto mb-4 text-brand-maroon",children:y.jsx(nz,{size:32})}),y.jsx("h2",{className:"text-2xl font-bold text-brand-maroon",children:"Staff Login"}),y.jsx("p",{className:"text-gray-500",children:"Secure access for restaurant staff only"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("button",{type:"button",onClick:m,disabled:a,className:"w-full bg-brand-maroon text-white font-bold py-3 rounded-lg hover:bg-brand-burgundy transition-colors shadow-lg shadow-brand-maroon/20 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?y.jsx("span",{children:"Signing in..."}):y.jsx(y.Fragment,{children:y.jsx("span",{children:"Continue with Google"})})}),y.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Only authorized staff Google accounts can access the admin dashboard."})]})]})]})},D8="modulepreload",M8=function(t){return"/"+t},vE={},O8=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(n.map(p=>{if(p=M8(p),p in vE)return;vE[p]=!0;const v=p.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":D8,v||(_.as="script"),_.crossOrigin="",_.href=p,m&&_.setAttribute("nonce",m),document.head.appendChild(_),v)return new Promise((S,I)=>{_.addEventListener("load",S),_.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},k8=["All","Main Course","Rice & Biryani","Starters","Breads","Desserts"],Hc=t=>`Rs.${t.toFixed(2)}`,Gc=t=>`${t.toFixed(0)}`,j8=({order:t,isOpen:e,onClose:n})=>{const[i,a]=O.useState("Cash"),[l,c]=O.useState(""),[d,m]=O.useState(!1),p=O.useRef(null),v=`ORD-${t.id.slice(-6).toUpperCase()}`,b=new Date(t.createdAt).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),_=()=>{const I="-".repeat(38),V="=".repeat(38),k={item:14,qty:3,rate:9,amount:10},U=(E,A=38)=>{const j=Math.max(0,Math.floor((A-E.length)/2));return" ".repeat(j)+E},q=(E,A,j=38)=>{const N=Math.max(1,j-E.length-A.length);return E+" ".repeat(N)+A},F=(E,A)=>{const j=E.split(" "),N=[];let P="";for(const M of j){const Se=(P+" "+M).trim();Se.length<=A?P=Se:(P&&N.push(P),P=M)}return P&&N.push(P),N.length?N:[E.slice(0,A)]},ee=(E,A,j,N)=>{const P=E.padEnd(k.item),M=A.padStart(k.qty),Se=j.padStart(k.rate),Le=N.padStart(k.amount);return`${P}${M} ${Se} ${Le}`},Y=[];Y.push(U("YUMMY-FI PVT.LTD.")),Y.push(U("FOOD LIKE HOME STYLE")),Y.push(I),Y.push(U("DINE-IN BILL")),Y.push(I),Y.push(q("BILL NO:",v)),Y.push(q("TABLE:",`T${t.tableNumber}`)),Y.push(q("DATE:",b)),Y.push(q("CUSTOMER:",t.customerName||"-")),Y.push(q("PHONE:",l||"-")),Y.push(I),Y.push(ee("ITEM","QTY","RATE","AMOUNT")),Y.push(I),t.items.forEach(E=>{const A=E.price,j=A*E.quantity,N=E.name+(E.isVeg===!1?" [N]":""),P=String(E.quantity),M=Hc(A),Se=Hc(j),Le=F(N,k.item);Y.push(ee(Le[0],P,M,Se));for(let X=1;X<Le.length;X++)Y.push(Le[X])}),Y.push(I),Y.push(q("SUBTOTAL:",Hc(t.totalAmount))),Y.push(V),Y.push(q("GRAND TOTAL:",Hc(t.totalAmount))),Y.push(V),Y.push(U("PAYMENT DETAILS")),Y.push(I),Y.push(q("METHOD:",i)),Y.push(q("PAID:",Hc(t.totalAmount))),Y.push(I),Y.push(U("* THANK YOU FOR DINING WITH US! *")),Y.push(U("PLEASE VISIT AGAIN"));for(let E=0;E<16;E++)Y.push(" ");const le=Y.join(`
`),D=window.open("","_blank");D&&(D.document.write(`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Bill - ${v}</title>
  <style>
    @page { margin: 0; }

    html, body {
      margin: 0;
      padding: 0;
      background: #fff;
    }

    body {
      margin: 0;
      padding: 0;
    }

    /*  BEST FIX FOR YOUR PRINTER:
       Instead of "left: mm", we push content using padding-left.
       This fixes hardware-left-margin printers. */
    .receipt {
      width: 72mm;
      margin: 0;

      /*  MAIN CENTER FIX */
      padding-left: 6mm;
      padding-right: 0mm;
    }

    pre {
      margin: 0;
      font-family: monospace;
      font-size: 12px;
      font-weight: 700; /* little bolder like sample */
      line-height: 1.25;
      white-space: pre;
    }
  </style>
</head>
<body>
  <div class="receipt">
    <pre>${le}</pre>
  </div>

  <script>
    window.onload = function () {
      window.focus();
      window.print();
      setTimeout(function () {
        window.close();
      }, 1300);
    };
  <\/script>
</body>
</html>
    `),D.document.close())};return y.jsx(Xi,{children:e&&y.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/70 flex items-center justify-center p-4 backdrop-blur-sm",onClick:n,children:y.jsxs(je.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-hidden shadow-2xl",onClick:S=>S.stopPropagation(),children:[y.jsxs("div",{className:"bg-brand-maroon text-white p-4 flex justify-between items-center",children:[y.jsx("h2",{className:"text-lg font-bold font-serif",children:"Print Bill Receipt"}),y.jsx("button",{onClick:n,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:y.jsx(sa,{size:20})})]}),y.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[y.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3",children:"Select Payment Method:"}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("button",{onClick:()=>a("UPI"),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all ${i==="UPI"?"border-brand-maroon bg-brand-cream text-brand-maroon":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[y.jsx(bz,{size:24}),y.jsx("span",{className:"font-bold text-sm",children:"UPI"})]}),y.jsxs("button",{onClick:()=>a("Cash"),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all ${i==="Cash"?"border-brand-maroon bg-brand-cream text-brand-maroon":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[y.jsx(m9,{size:24}),y.jsx("span",{className:"font-bold text-sm",children:"Cash"})]}),y.jsxs("button",{onClick:()=>a("Card"),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all ${i==="Card"?"border-brand-maroon bg-brand-cream text-brand-maroon":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[y.jsx(O9,{size:24}),y.jsx("span",{className:"font-bold text-sm",children:"Card"})]})]})]}),y.jsx("div",{className:"p-4 overflow-y-auto max-h-[50vh] bg-gray-100",children:y.jsxs("div",{ref:p,className:"receipt bg-white p-6 rounded-lg shadow-sm font-mono text-sm",children:[y.jsxs("div",{className:"header text-center mb-4",children:[y.jsx("div",{className:"text-2xl font-bold tracking-wider mb-1",children:"YUMMYFI PVT. LTD."}),y.jsx("div",{className:"tagline text-xs text-gray-500",children:"FOOD LIKE HOME STYLE"}),y.jsx("div",{className:"bill-type text-sm font-bold mt-3 border-t border-b border-dashed border-gray-400 py-2",children:"DINE-IN BILL"})]}),y.jsxs("div",{className:"space-y-1 mb-4",children:[y.jsxs("div",{className:"info-row flex justify-between py-1 border-b border-dotted border-gray-300",children:[y.jsx("span",{className:"info-label font-bold",children:"BILL NO:"}),y.jsx("span",{children:v})]}),y.jsxs("div",{className:"info-row flex justify-between py-1 border-b border-dotted border-gray-300",children:[y.jsx("span",{className:"info-label font-bold",children:"TABLE:"}),y.jsxs("span",{children:["T",t.tableNumber]})]}),y.jsxs("div",{className:"info-row flex justify-between py-1 border-b border-dotted border-gray-300",children:[y.jsx("span",{className:"info-label font-bold",children:"DATE:"}),y.jsx("span",{children:b})]}),y.jsxs("div",{className:"info-row flex justify-between py-1 border-b border-dotted border-gray-300",children:[y.jsx("span",{className:"info-label font-bold",children:"CUSTOMER:"}),y.jsx("span",{children:t.customerName||"-"})]}),y.jsxs("div",{className:"info-row flex justify-between items-center py-1 border-b border-dotted border-gray-300",children:[y.jsx("span",{className:"info-label font-bold",children:"PHONE:"}),d?y.jsx("input",{type:"tel",value:l,onChange:S=>c(S.target.value),onBlur:()=>m(!1),onKeyDown:S=>S.key==="Enter"&&m(!1),placeholder:"Enter phone...",autoFocus:!0,className:"w-32 text-right text-sm border border-brand-maroon/30 rounded px-2 py-0.5 focus:outline-none focus:ring-1 focus:ring-brand-maroon"}):y.jsx("span",{onClick:()=>m(!0),className:"cursor-pointer hover:text-brand-maroon hover:underline transition-colors",title:"Click to add phone number",children:l||"- (click to add)"})]})]}),y.jsxs("div",{className:"items-header flex font-bold text-xs py-2 border-b-2 border-gray-800",children:[y.jsx("span",{style:{width:"40%"},children:"ITEM"}),y.jsx("span",{style:{width:"15%",textAlign:"center"},children:"QTY"}),y.jsx("span",{style:{width:"20%",textAlign:"right"},children:"RATE"}),y.jsx("span",{style:{width:"25%",textAlign:"right"},children:"AMOUNT"})]}),y.jsx("div",{className:"mb-3",children:t.items.map((S,I)=>{const V=S.price,k=V*S.quantity;return y.jsxs("div",{className:"item-row flex text-xs py-2 border-b border-dotted border-gray-300",children:[y.jsxs("span",{style:{width:"40%"},children:[S.name," ",S.isVeg===!1?"[N]":""]}),y.jsx("span",{style:{width:"15%",textAlign:"center"},children:S.quantity}),y.jsx("span",{style:{width:"20%",textAlign:"right"},children:Gc(V)}),y.jsx("span",{style:{width:"25%",textAlign:"right"},children:Gc(k)})]},I)})}),y.jsxs("div",{className:"subtotal-row flex justify-between py-2 text-sm",children:[y.jsx("span",{className:"font-bold",children:"SUBTOTAL:"}),y.jsx("span",{children:Gc(t.totalAmount)})]}),y.jsxs("div",{className:"grand-total flex justify-between py-3 text-lg font-bold border-t-2 border-b-2 border-gray-800",children:[y.jsx("span",{children:"GRAND TOTAL:"}),y.jsx("span",{children:Gc(t.totalAmount)})]}),y.jsxs("div",{className:"payment-section mt-4 pt-3 text-center",children:[y.jsx("div",{className:"payment-title font-bold text-xs border-b border-gray-800 pb-2 mb-3",children:"PAYMENT DETAILS"}),y.jsxs("div",{className:"payment-row flex justify-between py-1 text-sm",children:[y.jsx("span",{className:"font-bold",children:"METHOD:"}),y.jsx("span",{children:i})]}),y.jsxs("div",{className:"payment-row flex justify-between py-1 text-sm",children:[y.jsx("span",{className:"font-bold",children:"PAID:"}),y.jsx("span",{children:Gc(t.totalAmount)})]})]}),y.jsxs("div",{className:"footer mt-6 text-center",children:[y.jsx("div",{className:"thank-you font-bold text-sm",children:" THANK YOU FOR DINING WITH US! "}),y.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"PLEASE VISIT AGAIN"})]})]})}),y.jsx("div",{className:"p-4 bg-white border-t",children:y.jsxs("button",{onClick:_,className:"w-full bg-brand-maroon text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-brand-burgundy transition-colors shadow-lg",children:[y.jsx(JC,{size:20}),"Print Receipt"]})})]})})})},bE=4,qu=()=>{const t=new Date,e=t.getHours(),n=new Date(t);e<bE&&n.setDate(n.getDate()-1),n.setHours(bE,0,0,0);const i=new Date(n);return i.setDate(i.getDate()+1),{start:n,end:i}},nm=t=>{const{start:e,end:n}=qu();return t.filter(i=>{const a=new Date(i.createdAt);return a>=e&&a<n})},gR=t=>{const n=[["Order ID","Customer Name","Table Number","Items","Item Details","Total Amount ()","Status","Order Time","Confirmed Time","Ready Time"]];return t.forEach(i=>{const a=i.items.map(d=>`${d.name} (x${d.quantity})`).join(", "),l=i.items.map(d=>`${d.name}: ${d.offerPrice||d.price} x ${d.quantity} = ${(d.offerPrice||d.price)*d.quantity}`).join(" | "),c=d=>d?new Date(d).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"-";n.push([i.id,i.customerName||"Guest",i.tableNumber,a,l,i.totalAmount.toFixed(2),i.status.charAt(0).toUpperCase()+i.status.slice(1),c(i.createdAt),c(i.confirmedAt),c(i.readyAt)])}),n},V8=t=>gR(t).map(n=>n.map(i=>{const a=i.replace(/"/g,'""');return/[,\n"]/.test(i)?`"${a}"`:a}).join(",")).join(`
`),P8=t=>{const e=nm(t),n=V8(e),{start:i}=qu(),a=i.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-"),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(l),c.download=`YummyFi_Orders_${a}.csv`,c.click(),URL.revokeObjectURL(c.href)},L8=t=>{const e=nm(t),n=e.length,i=e.filter(v=>v.status==="pending").length,a=e.filter(v=>v.status==="confirmed").length,l=e.filter(v=>v.status==="ready").length,c=e.filter(v=>v.status==="completed").length,d=e.filter(v=>v.status==="completed").reduce((v,b)=>v+b.totalAmount,0),{start:m,end:p}=qu();return{totalOrders:n,pendingOrders:i,confirmedOrders:a,readyOrders:l,completedOrders:c,totalRevenue:d,cycleStart:m,cycleEnd:p,orders:e}},U8=async t=>{const e=localStorage.getItem("googleSheetWebAppUrl");if(!e)return{success:!1,message:"Google Sheets Web App URL not configured. Please set it up first."};try{const n=nm(t),i=gR(n),{start:a}=qu(),l=`Orders_${a.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")}`;return await fetch(e,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"writeOrders",sheetName:l,data:i,clearPrevious:!0})}),{success:!0,message:"Data sent to Google Sheets successfully! Check your sheet for updates.",sheetUrl:localStorage.getItem("googleSheetUrl")||void 0}}catch(n){return console.error("Error exporting to Google Sheets:",n),{success:!1,message:`Failed to export: ${n instanceof Error?n.message:"Unknown error"}`}}},z8=(t,e)=>{localStorage.setItem("googleSheetWebAppUrl",t),localStorage.setItem("googleSheetUrl",e)},B8=()=>({webAppUrl:localStorage.getItem("googleSheetWebAppUrl")||"",sheetUrl:localStorage.getItem("googleSheetUrl")||""}),xE=()=>!!localStorage.getItem("googleSheetWebAppUrl"),_E=`// Google Apps Script Code - Deploy as Web App

function doPost(e) {
  try {
    const data = JSON.parse(e.postData.contents);
    const ss = SpreadsheetApp.getActiveSpreadsheet();
    
    if (data.action === 'writeOrders') {
      let sheet = ss.getSheetByName(data.sheetName);
      
      // Create sheet if doesn't exist
      if (!sheet) {
        sheet = ss.insertSheet(data.sheetName);
      }
      
      // Clear previous data if requested
      if (data.clearPrevious) {
        sheet.clear();
      }
      
      // Write data
      if (data.data && data.data.length > 0) {
        sheet.getRange(1, 1, data.data.length, data.data[0].length)
          .setValues(data.data);
        
        // Format header row
        sheet.getRange(1, 1, 1, data.data[0].length)
          .setBackground('#7f1d1d')
          .setFontColor('white')
          .setFontWeight('bold');
        
        // Auto-resize columns
        sheet.autoResizeColumns(1, data.data[0].length);
      }
      
      return ContentService.createTextOutput(JSON.stringify({
        success: true,
        message: 'Data written successfully'
      })).setMimeType(ContentService.MimeType.JSON);
    }
    
    if (data.action === 'clearSheet') {
      let sheet = ss.getSheetByName(data.sheetName);
      if (sheet) {
        sheet.clear();
      }
      return ContentService.createTextOutput(JSON.stringify({
        success: true,
        message: 'Sheet cleared'
      })).setMimeType(ContentService.MimeType.JSON);
    }
    
    return ContentService.createTextOutput(JSON.stringify({
      success: false,
      message: 'Unknown action'
    })).setMimeType(ContentService.MimeType.JSON);
    
  } catch (error) {
    return ContentService.createTextOutput(JSON.stringify({
      success: false,
      message: error.toString()
    })).setMimeType(ContentService.MimeType.JSON);
  }
}

function doGet(e) {
  return ContentService.createTextOutput(JSON.stringify({
    status: 'OK',
    message: 'YummyFi Google Sheets Integration Ready'
  })).setMimeType(ContentService.MimeType.JSON);
}`,F8=({isOpen:t,onClose:e,orders:n})=>{const[i,a]=O.useState("overview"),[l,c]=O.useState(!1),[d,m]=O.useState({type:null,message:""}),[p,v]=O.useState(""),[b,_]=O.useState(""),[S,I]=O.useState(!1),[V,k]=O.useState(new Set);O.useEffect(()=>{if(t){const N=B8();v(N.webAppUrl),_(N.sheetUrl)}},[t]);const U=L8(n),q=nm(n),{start:F,end:ee}=qu(),Y=N=>N.toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),le=()=>{P8(n),m({type:"success",message:"CSV file downloaded successfully!"}),setTimeout(()=>m({type:null,message:""}),3e3)},D=async()=>{if(!xE()){a("settings");return}c(!0),m({type:null,message:""});try{const N=await U8(n);m({type:N.success?"success":"error",message:N.message})}catch{m({type:"error",message:"Failed to export. Please check your configuration."})}c(!1),setTimeout(()=>m({type:null,message:""}),5e3)},E=()=>{z8(p,b),a("overview"),m({type:"success",message:"Configuration saved successfully!"}),setTimeout(()=>m({type:null,message:""}),3e3)},A=()=>{navigator.clipboard.writeText(_E),I(!0),setTimeout(()=>I(!1),2e3)},j=N=>{k(P=>{const M=new Set(P);return M.has(N)?M.delete(N):M.add(N),M})};return t?y.jsx(Xi,{children:y.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",onClick:e,children:y.jsxs(je.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:N=>N.stopPropagation(),children:[y.jsxs("div",{className:"bg-gradient-to-r from-brand-maroon to-brand-burgundy p-6 text-white",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold font-serif mb-1",children:"Export Data"}),y.jsxs("p",{className:"text-white/80 text-sm",children:["Daily cycle: ",Y(F)," - ",Y(ee)]})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:y.jsx(sa,{size:24})})]}),y.jsx("div",{className:"flex gap-2 mt-6",children:[{id:"overview",label:"Overview",icon:eR},{id:"orders",label:"Orders",icon:Eu},{id:"settings",label:"Settings",icon:pz}].map(N=>y.jsxs("button",{onClick:()=>a(N.id),className:Je("flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold transition-all",i===N.id?"bg-white text-brand-maroon":"bg-white/20 text-white hover:bg-white/30"),children:[y.jsx(N.icon,{size:16}),N.label]},N.id))})]}),y.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[y.jsx(Xi,{children:d.type&&y.jsxs(je.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:Je("mb-4 p-4 rounded-xl flex items-center gap-3",d.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:[d.type==="success"?y.jsx(Lg,{size:20}):y.jsx(Rf,{size:20}),y.jsx("span",{className:"font-medium",children:d.message})]})}),i==="overview"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"bg-gradient-to-br from-brand-cream to-brand-offWhite p-5 rounded-2xl border border-brand-maroon/10",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:"p-2 bg-brand-maroon text-white rounded-lg",children:y.jsx(Eu,{size:18})}),y.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Orders"})]}),y.jsx("p",{className:"text-3xl font-bold text-brand-maroon font-serif",children:U.totalOrders})]}),y.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-2xl border border-green-200",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:"p-2 bg-green-600 text-white rounded-lg",children:y.jsx(Lg,{size:18})}),y.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"})]}),y.jsx("p",{className:"text-3xl font-bold text-green-700 font-serif",children:U.completedOrders})]}),y.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 p-5 rounded-2xl border border-amber-200",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:"p-2 bg-amber-500 text-white rounded-lg",children:y.jsx(Za,{size:18})}),y.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Active"})]}),y.jsx("p",{className:"text-3xl font-bold text-amber-700 font-serif",children:U.pendingOrders+U.confirmedOrders+U.readyOrders})]}),y.jsxs("div",{className:"bg-gradient-to-br from-brand-cream to-brand-goldGlow p-5 rounded-2xl border border-brand-yellow",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:"p-2 bg-brand-yellow text-brand-maroon rounded-lg",children:y.jsx(YC,{size:18})}),y.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Revenue"})]}),y.jsx("p",{className:"text-2xl font-bold text-brand-maroon font-serif",children:gn(U.totalRevenue)})]})]}),y.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-5 rounded-2xl border border-blue-200",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx(y9,{size:20,className:"text-blue-600"}),y.jsx("h3",{className:"font-bold text-blue-900",children:"Daily Cycle Information"})]}),y.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["Data on Google Sheets is automatically organized by daily cycles. Each cycle runs from ",y.jsx("strong",{children:"4:00 AM"})," to ",y.jsx("strong",{children:"4:00 AM"})," the next day."]}),y.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-100 px-3 py-2 rounded-lg inline-flex",children:[y.jsx(Nz,{size:14}),"After 4:01 AM, previous cycle data is archived and new cycle begins"]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("button",{onClick:le,className:"flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 text-white font-bold hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg shadow-green-500/25 group",children:[y.jsx(QC,{size:24,className:"group-hover:animate-bounce"}),y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:"block text-lg",children:"Download CSV"}),y.jsx("span",{className:"text-sm text-white/80",children:"Save to your computer"})]})]}),y.jsxs("button",{onClick:D,disabled:l,className:Je("flex items-center justify-center gap-3 p-5 rounded-2xl text-white font-bold transition-all shadow-lg group",l?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-br from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-blue-500/25"),children:[l?y.jsx(fz,{size:24,className:"animate-spin"}):y.jsx(q9,{size:24,className:"group-hover:scale-110 transition-transform"}),y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:"block text-lg",children:l?"Exporting...":"Export to Google Sheets"}),y.jsx("span",{className:"text-sm text-white/80",children:xE()?"Sync with your sheet":"Setup required"})]})]})]}),b&&y.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 p-4 rounded-xl bg-brand-cream text-brand-maroon font-bold hover:bg-brand-goldGlow transition-colors",children:[y.jsx(U9,{size:18}),"Open Google Sheets"]})]}),i==="orders"&&y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"font-bold text-gray-800",children:["Orders in Current Cycle (",q.length,")"]}),y.jsxs("span",{className:"text-sm text-gray-500",children:[Y(F)," - ",Y(ee)]})]}),q.length===0?y.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl",children:[y.jsx(j9,{size:48,className:"mx-auto text-gray-300 mb-4"}),y.jsx("h3",{className:"text-lg font-bold text-gray-500",children:"No orders in current cycle"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Orders will appear here when customers place them"})]}):y.jsx("div",{className:"space-y-3",children:q.map(N=>y.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden",children:[y.jsxs("button",{onClick:()=>j(N.id),className:"w-full p-4 flex items-center justify-between hover:bg-gray-100 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"text-left",children:[y.jsxs("span",{className:"font-bold text-gray-900",children:["#",N.id]}),y.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["Table ",N.tableNumber]})]}),y.jsx("span",{className:Je("px-2 py-1 rounded-full text-xs font-bold",N.status==="completed"&&"bg-green-100 text-green-700",N.status==="ready"&&"bg-blue-100 text-blue-700",N.status==="confirmed"&&"bg-amber-100 text-amber-700",N.status==="pending"&&"bg-gray-200 text-gray-600"),children:N.status})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"font-bold text-brand-maroon",children:gn(N.totalAmount)}),V.has(N.id)?y.jsx(KC,{size:18}):y.jsx(Sv,{size:18})]})]}),y.jsx(Xi,{children:V.has(N.id)&&y.jsx(je.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200 bg-white",children:y.jsxs("div",{className:"p-4 space-y-3",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"Customer:"}),y.jsx("span",{className:"font-medium",children:N.customerName||"Guest"})]}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-gray-500",children:"Order Time:"}),y.jsx("span",{className:"font-medium",children:new Date(N.createdAt).toLocaleString("en-IN")})]}),y.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[y.jsx("span",{className:"text-sm font-bold text-gray-700 mb-2 block",children:"Items:"}),N.items.map((P,M)=>y.jsxs("div",{className:"flex justify-between text-sm py-1",children:[y.jsxs("span",{children:[P.name,"  ",P.quantity]}),y.jsx("span",{className:"font-medium",children:gn((P.offerPrice||P.price)*P.quantity)})]},M))]})]})})})]},N.id))})]}),i==="settings"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[y.jsxs("h3",{className:"font-bold text-amber-800 mb-2 flex items-center gap-2",children:[y.jsx(Rf,{size:18}),"Google Sheets Setup Instructions"]}),y.jsxs("ol",{className:"text-sm text-amber-700 space-y-2 list-decimal list-inside",children:[y.jsx("li",{children:"Create a new Google Spreadsheet"}),y.jsx("li",{children:"Go to Extensions  Apps Script"}),y.jsx("li",{children:"Delete any existing code and paste the script below"}),y.jsx("li",{children:"Click Deploy  New Deployment  Web App"}),y.jsx("li",{children:'Set "Execute as" to "Me" and "Who has access" to "Anyone"'}),y.jsx("li",{children:"Copy the Web App URL and paste it below"})]})]}),y.jsxs("div",{className:"relative",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Google Apps Script Code"}),y.jsxs("button",{onClick:A,className:"flex items-center gap-1 text-sm text-brand-maroon hover:text-brand-burgundy transition-colors",children:[S?y.jsx(Lg,{size:14}):y.jsx(D9,{size:14}),S?"Copied!":"Copy Code"]})]}),y.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-xl text-xs overflow-x-auto max-h-48 overflow-y-auto",children:_E})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Web App URL"}),y.jsx("input",{type:"url",value:p,onChange:N=>v(N.target.value),placeholder:"https://script.google.com/macros/s/xxxxx/exec",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Google Sheet URL (Optional - for quick access)"}),y.jsx("input",{type:"url",value:b,onChange:N=>_(N.target.value),placeholder:"https://docs.google.com/spreadsheets/d/xxxxx",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all"})]}),y.jsx("button",{onClick:E,disabled:!p,className:Je("w-full py-4 rounded-xl font-bold text-white transition-all",p?"bg-gradient-to-r from-brand-maroon to-brand-burgundy hover:from-brand-burgundy hover:to-brand-maroon shadow-lg shadow-brand-maroon/25":"bg-gray-300 cursor-not-allowed"),children:"Save Configuration"})]})]})]})]})})}):null},yR=({confirmedAt:t})=>{const[e,n]=O.useState(0);O.useEffect(()=>{const c=()=>{const m=new Date(t).getTime(),p=new Date().getTime(),v=Math.floor((p-m)/1e3),b=Math.max(0,1200-v);n(b)};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[t]);const i=Math.floor(e/60),a=e%60,l=`${i.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;return e<=0?y.jsx("span",{className:"text-green-600 font-bold",children:"Ready"}):y.jsxs("div",{className:"flex items-center gap-1 text-brand-maroon font-mono font-bold bg-brand-cream px-2 py-0.5 rounded text-xs",children:[y.jsx(tm,{size:10,className:"text-brand-yellow",fill:"currentColor"}),l]})},Fg=({icon:t,label:e,active:n,onClick:i,count:a,collapsed:l})=>y.jsxs("button",{onClick:i,className:Je("w-full flex items-center transition-all relative group mb-1",l?"justify-center py-3 px-2":"gap-3 py-4 px-6 rounded-r-full mr-4",n?"bg-brand-maroon text-white shadow-md":"text-gray-600 hover:bg-brand-cream hover:text-brand-maroon"),title:e,children:[y.jsx(t,{size:20,className:n?"text-white":"text-gray-500 group-hover:text-brand-maroon"}),!l&&y.jsxs(y.Fragment,{children:[y.jsx("span",{className:Je("font-medium",n?"font-bold":""),children:e}),a!==void 0&&a>0&&y.jsx("span",{className:Je("ml-auto text-xs font-bold px-2 py-0.5 rounded-full",n?"bg-white text-brand-maroon":"bg-brand-maroon text-white"),children:a})]}),!l&&n&&y.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-brand-yellow rounded-r-full"}),l&&a!==void 0&&a>0&&y.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-maroon text-white text-[9px] font-bold flex items-center justify-center rounded-full border-2 border-white",children:a})]}),kd=({icon:t,label:e,value:n,trend:i,trendValue:a})=>y.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex flex-col justify-between h-full hover:shadow-md transition-all duration-300",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:"text-brand-maroon",children:y.jsx(t,{size:28,strokeWidth:1.5})}),i&&y.jsxs("span",{className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[y.jsx(eR,{size:12})," ",a]})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-brand-maroon/60 font-medium text-sm mb-2",children:e}),y.jsx("h3",{className:"text-3xl font-bold text-gray-900 font-serif",children:n})]})]}),Qo=({label:t,count:e,active:n,onClick:i,icon:a})=>y.jsxs("button",{onClick:i,className:Je("flex flex-col items-center justify-center p-6 rounded-2xl border-2 transition-all w-full",n?"border-brand-maroon bg-brand-cream/30 shadow-sm":"border-gray-100 bg-white hover:border-brand-maroon/30"),children:[y.jsx("div",{className:Je("mb-3 p-2 rounded-full",n?"bg-brand-maroon text-white":"bg-gray-100 text-gray-500"),children:y.jsx(a,{size:20})}),y.jsx("span",{className:Je("text-sm font-medium mb-1",n?"text-brand-maroon":"text-gray-500"),children:t}),y.jsx("span",{className:Je("text-2xl font-bold font-serif",n?"text-brand-maroon":"text-brand-yellow"),children:e})]}),q8=({order:t,onUpdateStatus:e})=>{const n={pending:{label:"Pending Confirmation",bg:"border-brand-yellow text-brand-yellow",badge:"bg-brand-yellow/10 text-brand-mustard"},confirmed:{label:"Confirmed",bg:"border-brand-maroon text-brand-maroon",badge:"bg-green-50 text-green-700"},ready:{label:"Ready for Pickup",bg:"border-green-600 text-green-600",badge:"bg-green-100 text-green-800"},completed:{label:"Completed",bg:"border-gray-400 text-gray-400",badge:"bg-gray-100 text-gray-600"}},i=n[t.status]||n.pending,a=Math.floor((new Date().getTime()-new Date(t.createdAt).getTime())/6e4),l=a<1?"Just now":`${a} mins ago`;return y.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 mb-6 hover:shadow-md transition-all",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("h3",{className:"text-lg font-bold text-gray-900 font-serif",children:["Order by ",t.customerName]}),y.jsx("span",{className:Je("px-3 py-1 rounded-full text-xs font-bold border",i.badge,"border-transparent"),children:i.label})]}),t.status==="confirmed"&&t.confirmedAt&&y.jsx(yR,{confirmedAt:t.confirmedAt})]}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(tR,{size:14}),y.jsx("span",{children:t.customerName})]}),y.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx(Za,{size:14}),y.jsx("span",{children:l})]})]}),y.jsx("div",{className:"space-y-3 mb-6",children:t.items.map((c,d)=>y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-brand-cream text-brand-maroon font-bold rounded text-xs",children:c.quantity}),y.jsx("span",{className:"text-gray-700 font-medium",children:c.name})]}),y.jsx("span",{className:"font-bold text-gray-900",children:gn(c.price*c.quantity)})]},d))}),y.jsxs("div",{className:"border-t border-gray-100 pt-4 flex justify-between items-center mb-6",children:[y.jsx("span",{className:"font-bold text-gray-800",children:"Total Amount"}),y.jsx("span",{className:"text-xl font-bold text-brand-maroon font-serif",children:gn(t.totalAmount)})]}),y.jsxs("div",{className:"flex gap-3",children:[t.status==="pending"&&y.jsxs("button",{onClick:()=>e(t.id,"confirmed"),className:"flex-1 bg-brand-maroon text-white py-3 rounded-full font-bold hover:bg-brand-burgundy transition-colors flex items-center justify-center gap-2 text-sm",children:[y.jsx(pn,{size:16})," Confirm Order"]}),t.status==="confirmed"&&y.jsxs("button",{onClick:()=>e(t.id,"ready"),className:"flex-1 bg-green-600 text-white py-3 rounded-full font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[y.jsx(pn,{size:16})," Mark Ready"]}),t.status==="ready"&&y.jsxs("button",{onClick:()=>e(t.id,"completed"),className:"flex-1 bg-gray-800 text-white py-3 rounded-full font-bold hover:bg-gray-900 transition-colors flex items-center justify-center gap-2 text-sm",children:[y.jsx(pn,{size:16})," Complete"]}),y.jsxs("button",{className:"flex-1 bg-brand-cream text-brand-maroon py-3 rounded-full font-bold hover:bg-brand-goldGlow transition-colors flex items-center justify-center gap-2 text-sm",children:[y.jsx(B9,{size:16})," View Details"]})]})]})},H8=({order:t,onUpdateStatus:e})=>{const[n,i]=O.useState(!1),[a,l]=O.useState(!1),c={pending:{label:"Pending",bg:"bg-brand-yellow",text:"text-brand-maroon",icon:Za},confirmed:{label:"In Kitchen",bg:"bg-brand-maroon",text:"text-white",icon:tm},ready:{label:"Ready",bg:"bg-green-600",text:"text-white",icon:pn},completed:{label:"Completed",bg:"bg-gray-500",text:"text-white",icon:pn}},d=c[t.status]||c.pending,m=d.icon;return y.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-all duration-300",children:[y.jsxs("div",{className:"p-5 pb-4",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("h3",{className:"text-xl font-bold text-gray-900 font-serif",children:["Order by ",t.customerName]}),y.jsxs("span",{className:Je("flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold",d.bg,d.text),children:[y.jsx(m,{size:12})," ",d.label]})]}),y.jsxs("div",{className:"flex flex-col items-center justify-center bg-brand-yellow text-brand-maroon w-12 h-12 rounded-xl shadow-sm",children:[y.jsx("span",{className:"text-[10px] font-bold uppercase leading-none",children:"Table"}),y.jsx("span",{className:"text-xl font-bold leading-none",children:t.tableNumber})]})]}),t.status==="confirmed"&&t.confirmedAt&&y.jsxs("div",{className:"mb-4 flex items-center gap-2 bg-brand-cream/50 p-2 rounded-lg border border-brand-maroon/10",children:[y.jsx("span",{className:"text-xs font-bold text-brand-maroon uppercase tracking-wider",children:"Time Remaining:"}),y.jsx(yR,{confirmedAt:t.confirmedAt})]}),y.jsxs("div",{className:"space-y-2 mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[y.jsx(tR,{size:16,className:"text-brand-maroon"}),y.jsx("span",{className:"font-medium",children:t.customerName||"Guest Customer"})]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[y.jsx(Za,{size:16,className:"text-brand-maroon"}),y.jsx("span",{className:"font-medium",children:new Date(t.createdAt).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]})]}),y.jsx("div",{className:"border-t border-gray-100 my-3"}),y.jsxs("button",{onClick:()=>i(!n),className:"w-full flex justify-between items-center py-2 group",children:[y.jsxs("span",{className:"font-bold text-gray-700",children:[t.items.reduce((p,v)=>p+v.quantity,0)," Items"]}),y.jsxs("span",{className:"text-xs font-bold text-brand-maroon flex items-center gap-1 group-hover:underline",children:[n?"Hide Details":"View Details",n?y.jsx(KC,{size:14}):y.jsx(Sv,{size:14})]})]}),y.jsx(Xi,{children:n&&y.jsx(je.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:y.jsx("div",{className:"space-y-3 py-3 bg-gray-50 rounded-xl px-3 mt-2",children:t.items.map((p,v)=>y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"w-5 h-5 flex items-center justify-center bg-white border border-gray-200 text-brand-maroon font-bold rounded text-xs shadow-sm",children:p.quantity}),y.jsx("span",{className:"text-gray-700 font-medium",children:p.name})]}),y.jsx("span",{className:"font-bold text-gray-900",children:gn(p.price*p.quantity)})]},v))})})}),y.jsx("div",{className:"border-t border-gray-100 my-4"}),y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("span",{className:"font-bold text-gray-800",children:"Total Amount:"}),y.jsx("span",{className:"text-2xl font-bold text-brand-yellow drop-shadow-sm font-serif",children:gn(t.totalAmount)})]}),y.jsxs("div",{className:"flex gap-3 mb-4",children:[t.status==="pending"&&y.jsxs("button",{onClick:()=>e(t.id,"confirmed"),className:"flex-1 bg-brand-maroon text-white py-2.5 rounded-lg font-bold hover:bg-brand-burgundy transition-colors flex items-center justify-center gap-2 text-sm shadow-md",children:[y.jsx(pn,{size:16})," Confirm Order"]}),t.status==="confirmed"&&y.jsxs("button",{onClick:()=>e(t.id,"ready"),className:"flex-1 bg-green-600 text-white py-2.5 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2 text-sm shadow-md",children:[y.jsx(pn,{size:16})," Mark Ready"]}),t.status==="ready"&&y.jsxs("button",{onClick:()=>e(t.id,"completed"),className:"flex-1 bg-gray-800 text-white py-2.5 rounded-lg font-bold hover:bg-gray-900 transition-colors flex items-center justify-center gap-2 text-sm shadow-md",children:[y.jsx(pn,{size:16})," Complete"]}),y.jsxs("button",{onClick:()=>l(!0),className:"flex-1 bg-brand-cream text-brand-maroon py-2.5 rounded-lg font-bold hover:bg-brand-goldGlow transition-colors flex items-center justify-center gap-2 text-sm border border-brand-maroon/10",children:[y.jsx(JC,{size:16})," Print Receipt"]})]})]}),y.jsx(j8,{order:t,isOpen:a,onClose:()=>l(!1)})]})},G8=()=>{var Ti,Un;const{orders:t,ordersLoading:e,products:n,productsLoading:i,addProduct:a,deleteProduct:l,updateOrderStatus:c,deleteOrder:d}=Ml(),{signOut:m,user:p}=Ll(),{showConfirm:v,showSuccess:b,showError:_,showWarning:S}=Dl(),[I,V]=O.useState("dashboard"),[k,U]=O.useState("all"),[q,F]=O.useState(!1),Y=(()=>{const de=new Date,Ye=new Date(de);return de.getHours()<4&&Ye.setDate(Ye.getDate()-1),Ye.setHours(4,0,0,0),Ye})(),le=t.filter(de=>new Date(de.createdAt)>=Y);O.useEffect(()=>{if(e)return;(async()=>{const Ye=t.filter(kt=>new Date(kt.createdAt)<Y);if(Ye.length>0){console.log(` Cleaning up ${Ye.length} expired orders from previous business day...`);for(const kt of Ye)try{await d(kt.id)}catch(en){console.error(`Failed to delete expired order ${kt.id}`,en)}console.log(" Daily cleanup complete.")}})()},[t,e]);const[D,E]=O.useState(!1),[A,j]=O.useState({name:"",price:0,category:"Main Course",description:"",isVeg:!0}),[N,P]=O.useState(null),[M,Se]=O.useState(null),[Le,X]=O.useState(""),[ae,se]=O.useState("file"),[Ie,Me]=O.useState(!1),[z,te]=O.useState(!1),ce=le.filter(de=>de.status==="pending"),ue=le.filter(de=>de.status==="confirmed"),we=le.filter(de=>de.status==="ready"),Ce=le.filter(de=>de.status==="completed"),xe=Ce.reduce((de,Ye)=>de+Ye.totalAmount,0),bt=async()=>{v("Are you sure you want to sign out from admin panel?",async()=>{try{await m(!0),window.location.href="/admin"}catch(de){console.error("Sign-out failed:",de),_("Sign-out failed. Please try again.")}},void 0,"Sign Out","Cancel"," Admin Sign Out")},tt=async de=>new Promise((Ye,kt)=>{const en=new FileReader;en.onload=Xe=>{var Yt;const lt=new Image;lt.src=(Yt=Xe.target)==null?void 0:Yt.result,lt.onload=()=>{const Us=document.createElement("canvas"),ro=Us.getContext("2d");let Rt=lt.width,Zn=lt.height;const wi=600;Rt>wi&&(Zn=Zn*wi/Rt,Rt=wi),Us.width=Rt,Us.height=Zn,ro.drawImage(lt,0,0,Rt,Zn);const Ei=Us.toDataURL("image/jpeg",.7),zs=(Ei.length/1024).toFixed(2);console.log(` Image compressed to ${zs}KB`),Ei.length>9e5?kt(new Error("Image still too large. Please use Image URL method instead.")):Ye(Ei)},lt.onerror=()=>kt(new Error("Failed to load image"))},en.onerror=()=>kt(new Error("Failed to read file")),en.readAsDataURL(de)}),En=t.filter(de=>k==="all"?!0:de.status===k),Jn=async de=>{var kt;const Ye=(kt=de.target.files)==null?void 0:kt[0];if(Ye){Me(!0);try{await new Promise(Xe=>setTimeout(Xe,800));const en=await b8(Ye);P(en),Se(Ye)}catch(en){console.error(en),_("Failed to process image")}finally{Me(!1)}}},Ln=async de=>{var Ye,kt,en;if(de.preventDefault(),!A.name||!A.price){S("Please fill in both name and price."," Validation Error");return}if(ae==="url"&&!Le){S("Please enter an image URL."," Validation Error");return}if(ae==="file"&&!M){S("Please select an image file."," Validation Error");return}Me(!0);try{let Xe="";if(ae==="url")console.log(" Using direct image URL"),Xe=Le;else{console.log(" Uploading to ImageKit...");try{const{uploadToImageKit:Yt}=await O8(async()=>{const{uploadToImageKit:Us}=await import("./imagekitUpload--N-3VWU6.js");return{uploadToImageKit:Us}},[]);Xe=await Yt(M),console.log(" ImageKit upload successful:",Xe)}catch(Yt){if(console.error(" ImageKit upload failed:",Yt),(Ye=Yt.message)!=null&&Ye.includes("ImageKit configuration missing")||(kt=Yt.message)!=null&&kt.includes("unsigned uploads"))S(`ImageKit not configured properly. Using compressed image fallback for now.

`+Yt.message," ImageKit Warning"),console.log(" Falling back to compressed base64..."),Xe=await tt(M);else throw Yt}}const lt={name:A.name,price:Number(A.price),offerPrice:A.offerPrice?Number(A.offerPrice):void 0,description:A.description||"",category:A.category,imageUrl:Xe,isVeg:A.isVeg||!1,imageFocus:A.imageFocus||50};await a(lt),b("Product added successfully!"," Success"),E(!1),j({name:"",price:0,category:"Main Course",description:"",isVeg:!0,imageFocus:50}),P(null),Se(null),X("")}catch(Xe){console.error(" Error adding product:",Xe),(en=Xe.message)!=null&&en.includes("longer than")?_(`Image too large! Please:
1. Use a smaller image, OR
2. Use "Image URL" method and paste a link from:
    Google Drive
    Imgur (https://imgur.com)
    Any image hosting service`," Image Size Error"):_(`Error: ${Xe.message}`," Error")}finally{Me(!1)}};return y.jsxs("div",{className:"flex min-h-screen bg-brand-offWhite font-sans",children:[y.jsxs("aside",{className:Je("bg-white border-r border-gray-200 fixed inset-y-0 left-0 z-20 flex flex-col shadow-sm transition-all duration-300",q?"w-20":"w-64"),children:[y.jsx(je.button,{onClick:()=>F(!q),whileHover:{scale:1.05},whileTap:{scale:.95},className:Je("absolute top-6 -right-4 z-30 w-8 h-8 rounded-full bg-gradient-to-br from-brand-maroon to-brand-burgundy text-white shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center border-4 border-brand-offWhite group","hover:from-brand-burgundy hover:to-brand-maroon"),title:q?"Expand sidebar":"Collapse sidebar",children:y.jsx(je.div,{animate:{rotate:q?0:180},transition:{duration:.3},className:"flex items-center justify-center",children:y.jsx(T9,{size:16,strokeWidth:3})})}),y.jsxs("div",{className:Je("p-6 flex items-center gap-3 mb-4",q&&"justify-center p-4"),children:[y.jsx("img",{src:"/542169443-ff628a00-4675-44b8-9fb4-6c3b6630590b.png",alt:"Admin Logo",className:"w-10 h-10 object-contain drop-shadow-sm rounded-full"}),!q&&y.jsxs(je.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},children:[y.jsx("h1",{className:"text-xl font-bold text-brand-maroon font-serif leading-none",children:"Yummy-Fi"}),y.jsx("span",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-wider",children:"Admin Panel"})]})]}),y.jsxs("nav",{className:"flex-1 py-2 space-y-1",children:[y.jsx(Fg,{icon:X9,label:"Dashboard",active:I==="dashboard",onClick:()=>V("dashboard"),collapsed:q}),y.jsx(Fg,{icon:Ug,label:"Orders",active:I==="orders",onClick:()=>V("orders"),count:ce.length,collapsed:q}),y.jsx(Fg,{icon:hE,label:"Products",active:I==="products",onClick:()=>V("products"),collapsed:q})]}),y.jsxs("div",{className:"p-4 mt-auto border-t border-gray-100",children:[!q&&p&&y.jsx("div",{className:"mb-3 px-2",children:y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-maroon text-white flex items-center justify-center text-xs font-bold",children:((Ti=p.displayName)==null?void 0:Ti.charAt(0))||((Un=p.email)==null?void 0:Un.charAt(0))||"A"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-xs font-bold text-gray-700 truncate",children:p.displayName||"Admin"}),y.jsx("p",{className:"text-[10px] text-gray-400 truncate",children:p.email})]})]})}),y.jsxs("button",{onClick:bt,className:Je("w-full flex items-center gap-3 py-4 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",q?"justify-center px-2":"px-6"),title:"Sign Out",children:[y.jsx(Uy,{size:20}),!q&&y.jsx("span",{className:"font-medium text-sm",children:"Sign Out"})]})]})]}),y.jsxs("main",{className:Je("flex-1 p-8 overflow-y-auto h-screen transition-all duration-300",q?"ml-20":"ml-64"),children:[I==="dashboard"&&y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-4xl font-bold text-brand-maroon font-serif mb-2",children:"Dashboard Overview"}),y.jsx("p",{className:"text-gray-500 text-lg",children:"Monitor your restaurant operations in real-time"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[y.jsx(kd,{icon:Eu,label:"Active Orders",value:e?"":t.filter(de=>de.status!=="completed").length,trend:!0,trendValue:"+8%"}),y.jsx(kd,{icon:Za,label:"Pending Confirmations",value:e?"":ce.length}),y.jsx(kd,{icon:pn,label:"Completed Today",value:e?"":Ce.length,trend:!0,trendValue:"+12%"}),y.jsx(kd,{icon:YC,label:"Revenue Today",value:e?"":gn(xe),trend:!0,trendValue:"+15%"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h3",{className:"text-2xl font-bold text-brand-maroon font-serif",children:"Live Orders"}),y.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-xs font-bold border border-green-200",children:"Real-time Updates"})]}),y.jsx("div",{className:"space-y-6",children:e?Array.from({length:3}).map((de,Ye)=>y.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 animate-pulse h-40"},Ye)):t.filter(de=>de.status!=="completed").length>0?t.filter(de=>de.status!=="completed").slice(0,5).map(de=>y.jsx(q8,{order:de,onUpdateStatus:c},de.id)):y.jsxs("div",{className:"bg-white rounded-3xl p-10 text-center border border-gray-100 shadow-sm",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:y.jsx(pn,{size:32})}),y.jsx("h3",{className:"text-lg font-bold text-gray-400",children:"All caught up!"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"No active orders at the moment."})]})})]}),y.jsx("div",{className:"space-y-8",children:y.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100",children:[y.jsx("h3",{className:"text-xl font-bold text-brand-maroon font-serif mb-6",children:"Quick Actions"}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("button",{onClick:()=>V("orders"),className:"p-4 rounded-2xl bg-brand-offWhite hover:bg-brand-cream transition-colors text-left group",children:[y.jsx("div",{className:"mb-3 text-brand-maroon",children:y.jsx(Ug,{size:24})}),y.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 group-hover:text-brand-maroon",children:"Manage Orders"}),y.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"View and process all orders"})]}),y.jsxs("button",{onClick:()=>V("products"),className:"p-4 rounded-2xl bg-brand-offWhite hover:bg-brand-cream transition-colors text-left group",children:[y.jsx("div",{className:"mb-3 text-brand-maroon",children:y.jsx(hE,{size:24})}),y.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 group-hover:text-brand-maroon",children:"Product Management"}),y.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Update menu items and pricing"})]})]}),y.jsx("button",{onClick:()=>te(!0),className:"w-full mt-4 p-4 rounded-2xl bg-brand-offWhite hover:bg-brand-cream transition-colors flex items-center justify-between group",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"text-green-600",children:y.jsx(QC,{size:20})}),y.jsxs("div",{className:"text-left",children:[y.jsx("h4",{className:"font-bold text-gray-900 text-sm group-hover:text-green-700",children:"Export Data"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Sync to Google Sheets"})]})]})})]})})]})]}),I==="orders"&&y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-4xl font-bold text-brand-maroon font-serif mb-2",children:"Order Management"}),y.jsx("p",{className:"text-gray-500 text-lg",children:"Process incoming orders, assign tables, and track preparation status"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3 font-serif",children:"Filter by Status"}),y.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[y.jsx(Qo,{label:"All Orders",count:t.length,active:k==="all",onClick:()=>U("all"),icon:J9}),y.jsx(Qo,{label:"Pending",count:ce.length,active:k==="pending",onClick:()=>U("pending"),icon:Za}),y.jsx(Qo,{label:"Confirmed",count:ue.length,active:k==="confirmed",onClick:()=>U("confirmed"),icon:pn}),y.jsx(Qo,{label:"In Kitchen",count:ue.length,active:k==="confirmed",onClick:()=>U("confirmed"),icon:tm}),y.jsx(Qo,{label:"Ready",count:we.length,active:k==="ready",onClick:()=>U("ready"),icon:pn}),y.jsx(Qo,{label:"Completed",count:Ce.length,active:k==="completed",onClick:()=>U("completed"),icon:pn})]})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3 font-serif",children:"Time Range"}),y.jsx("div",{className:"flex gap-2",children:y.jsx("button",{className:"px-6 py-2 rounded-full bg-brand-maroon text-white text-sm font-bold shadow-md",children:"Today"})})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e?Array.from({length:4}).map((de,Ye)=>y.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 h-48 animate-pulse"},Ye)):En.length>0?En.map(de=>y.jsx(H8,{order:de,onUpdateStatus:c},de.id)):y.jsxs("div",{className:"col-span-2 text-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:y.jsx(Ug,{size:32})}),y.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-1",children:"No orders found"}),y.jsx("p",{className:"text-gray-400",children:"There are no orders with this status."})]})})]}),I==="products"&&y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h2",{className:"text-3xl font-bold text-brand-maroon font-serif",children:"Product Management"}),y.jsxs("button",{onClick:()=>E(!0),className:"bg-brand-maroon text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-brand-burgundy shadow-lg shadow-brand-maroon/20",children:[y.jsx(WC,{size:20})," Add New Product"]})]}),y.jsx("div",{className:"grid grid-cols-1 gap-4",children:i?Array.from({length:4}).map((de,Ye)=>y.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 h-28 animate-pulse"},Ye)):n.map(de=>y.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4 group hover:shadow-md transition-all",children:[y.jsx("img",{src:de.imageUrl,className:"w-20 h-20 rounded-lg object-cover bg-gray-100"}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h4",{className:"font-bold text-xl text-gray-900 font-serif",children:de.name}),y.jsx("span",{className:"font-bold text-brand-maroon text-lg",children:gn(de.price)})]}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:de.category}),y.jsxs("div",{className:"flex gap-2 mt-2",children:[de.isVeg?y.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded border border-green-200",children:"Veg"}):y.jsx("span",{className:"text-xs font-bold text-red-600 bg-red-50 px-2 py-1 rounded border border-red-200",children:"Non-Veg"}),de.offerPrice&&y.jsx("span",{className:"text-xs font-bold text-brand-maroon bg-brand-cream px-2 py-1 rounded border border-brand-maroon/20",children:"Offer Active"})]})]}),y.jsx("button",{onClick:async()=>{try{await l(de.id),b("Product deleted"," Deleted")}catch(Ye){console.error("Failed to delete product",Ye),_("Failed to delete product")}},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",children:y.jsx(ZC,{size:20})})]},de.id))})]})]}),D&&y.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in duration-200",children:[y.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[y.jsx("h3",{className:"text-xl font-bold text-brand-maroon font-serif",children:"Add New Product"}),y.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full",children:y.jsx(sa,{size:20})})]}),y.jsxs("form",{onSubmit:Ln,className:"p-6 space-y-5",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Image Upload Method"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{type:"button",onClick:()=>se("file"),className:Je("py-2.5 px-4 rounded-lg font-medium transition-all border-2",ae==="file"?"bg-brand-maroon text-white border-brand-maroon":"bg-white text-gray-700 border-gray-200 hover:border-brand-maroon/30"),children:" Upload File"}),y.jsx("button",{type:"button",onClick:()=>se("url"),className:Je("py-2.5 px-4 rounded-lg font-medium transition-all border-2",ae==="url"?"bg-brand-maroon text-white border-brand-maroon":"bg-white text-gray-700 border-gray-200 hover:border-brand-maroon/30"),children:" Image URL"})]})]}),ae==="file"&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Product Image"}),y.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-xl hover:bg-gray-50 transition-colors relative group",children:y.jsx("div",{className:"space-y-1 text-center",children:N?y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:N,alt:"Preview",className:"mx-auto h-48 object-contain rounded-lg shadow-sm"}),y.jsx("button",{type:"button",onClick:de=>{de.preventDefault(),P(null),Se(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white p-1.5 rounded-full shadow-md hover:bg-red-600",children:y.jsx(sa,{size:14})})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 flex items-center justify-center rounded-full bg-gray-100 mb-3",children:Ie?y.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-400"}):y.jsx($9,{size:24})}),y.jsx("div",{className:"flex text-sm text-gray-600 justify-center",children:y.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-bold text-brand-maroon hover:text-brand-burgundy",children:[y.jsx("span",{children:"Click to upload"}),y.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:Jn})]})}),y.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG (max 10MB)"}),y.jsx("p",{className:"text-xs text-brand-maroon",children:" Uploaded to ImageKit (No CORS issues!)"})]})})}),N&&y.jsxs("div",{className:"mt-3 bg-gray-50 p-3 rounded-xl border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Image Vertical Focus"}),y.jsxs("span",{className:"text-[10px] font-mono bg-white px-2 py-0.5 rounded border text-gray-500",children:[A.imageFocus||50,"%"]})]}),y.jsx("input",{type:"range",min:"0",max:"100",value:A.imageFocus||50,onChange:de=>j({...A,imageFocus:Number(de.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-brand-maroon"}),y.jsx("p",{className:"text-[10px] text-gray-400 mt-1 text-center",children:"Adjust to align the food in the center (0% = Top, 100% = Bottom)"}),y.jsxs("div",{className:"mt-2 text-center",children:[y.jsx("p",{className:"text-[10px] text-gray-400 mb-1",children:"Card Preview"}),y.jsx("div",{className:"w-32 h-20 mx-auto rounded-lg overflow-hidden border border-gray-200 relative shadow-sm",children:y.jsx("img",{src:N,className:"w-full h-full object-cover",style:{objectPosition:`center ${A.imageFocus||50}%`},alt:"Focus Preview"})})]})]})]}),ae==="url"&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Image URL"}),y.jsx("input",{type:"url",value:Le,onChange:de=>{X(de.target.value),de.target.value&&P(de.target.value)},placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all"}),y.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" Paste image URL from ",y.jsx("a",{href:"https://imgur.com/upload",target:"_blank",className:"text-brand-maroon underline",children:"Imgur"}),", Google Drive, or any image host"]}),N&&ae==="url"&&y.jsx("div",{className:"mt-3",children:y.jsx("img",{src:N,alt:"Preview",className:"mx-auto h-48 object-contain rounded-lg shadow-sm border border-gray-200"})}),N&&ae==="url"&&y.jsxs("div",{className:"mt-3 bg-gray-50 p-3 rounded-xl border border-gray-100",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Image Vertical Focus"}),y.jsxs("span",{className:"text-[10px] font-mono bg-white px-2 py-0.5 rounded border text-gray-500",children:[A.imageFocus||50,"%"]})]}),y.jsx("input",{type:"range",min:"0",max:"100",value:A.imageFocus||50,onChange:de=>j({...A,imageFocus:Number(de.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-brand-maroon"}),y.jsx("p",{className:"text-[10px] text-gray-400 mt-1 text-center",children:"Adjust to align the food in the center (0% = Top, 100% = Bottom)"}),y.jsxs("div",{className:"mt-2 text-center",children:[y.jsx("p",{className:"text-[10px] text-gray-400 mb-1",children:"Card Preview"}),y.jsx("div",{className:"w-32 h-20 mx-auto rounded-lg overflow-hidden border border-gray-200 relative shadow-sm",children:y.jsx("img",{src:N,className:"w-full h-full object-cover",style:{objectPosition:`center ${A.imageFocus||50}%`},alt:"Focus Preview"})})]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Product Name"}),y.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all",value:A.name,onChange:de=>j({...A,name:de.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Price ()"}),y.jsx("input",{type:"number",required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all",value:A.price||"",onChange:de=>j({...A,price:Number(de.target.value)})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Offer Price"}),y.jsx("input",{type:"number",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all",value:A.offerPrice||"",onChange:de=>j({...A,offerPrice:Number(de.target.value)})})]}),y.jsxs("div",{className:"col-span-2",children:[y.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Category"}),y.jsx("select",{className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none bg-white",value:A.category,onChange:de=>j({...A,category:de.target.value}),children:k8.filter(de=>de!=="All").map(de=>y.jsx("option",{value:de,children:de},de))})]}),y.jsx("div",{className:"col-span-2 pt-2",children:y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[y.jsx("input",{type:"checkbox",className:"w-5 h-5 text-brand-maroon rounded focus:ring-brand-maroon border-gray-300",checked:A.isVeg,onChange:de=>j({...A,isVeg:de.target.checked})}),y.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Is this item Vegetarian?"})]})})]}),y.jsx("div",{className:"pt-4",children:y.jsx("button",{type:"submit",className:"w-full bg-brand-maroon text-white font-bold py-3.5 rounded-xl hover:bg-brand-burgundy transition-all shadow-lg shadow-brand-maroon/20 active:scale-[0.98]",children:"Save Product"})})]})]})}),y.jsx(F8,{isOpen:z,onClose:()=>te(!1),orders:t})]})},$8=({children:t})=>{const{isAdmin:e,loading:n}=Ll();return n?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-offWhite",children:y.jsx("p",{className:"text-brand-maroon font-semibold",children:"Checking admin access..."})}):e?y.jsx(y.Fragment,{children:t}):y.jsx(eD,{to:"/admin",replace:!0})};function K8(){return y.jsxs("div",{className:"min-h-screen bg-brand-offWhite font-sans text-gray-900",children:[y.jsx(S8,{}),y.jsx(T8,{}),y.jsxs(nD,{children:[y.jsx(Xo,{path:"/",element:y.jsx(C8,{})}),y.jsx(Xo,{path:"/cart",element:y.jsx(R8,{})}),y.jsx(Xo,{path:"/track-order",element:y.jsx(N8,{})}),y.jsx(Xo,{path:"/admin",element:y.jsx(I8,{})}),y.jsx(Xo,{path:"/admin/dashboard",element:y.jsx($8,{children:y.jsx(G8,{})})})]})]})}function Y8(){return y.jsx(w3,{children:y.jsx(E3,{children:y.jsx(AD,{children:y.jsx(K8,{})})})})}iI.createRoot(document.getElementById("root")).render(y.jsx(O.StrictMode,{children:y.jsx(E8,{children:y.jsx(Y8,{})})}));
