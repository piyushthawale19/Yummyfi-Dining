(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function XN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eg={exports:{}},qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function WN(){if(Y_)return qc;Y_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return qc.Fragment=e,qc.jsx=n,qc.jsxs=n,qc}var Q_;function JN(){return Q_||(Q_=1,eg.exports=WN()),eg.exports}var g=JN(),tg={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function ZN(){if(X_)return je;X_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,j={};function z(B,ne,ce){this.props=B,this.context=ne,this.refs=j,this.updater=ce||k}z.prototype.isReactComponent={},z.prototype.setState=function(B,ne){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ne,"setState")},z.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function q(){}q.prototype=z.prototype;function L(B,ne,ce){this.props=B,this.context=ne,this.refs=j,this.updater=ce||k}var $=L.prototype=new q;$.constructor=L,V($,z.prototype),$.isPureReactComponent=!0;var Q=Array.isArray;function oe(){}var D={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function C(B,ne,ce){var ue=ce.ref;return{$$typeof:t,type:B,key:ne,ref:ue!==void 0?ue:null,props:ce}}function I(B,ne){return C(B.type,ne,B.props)}function N(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function P(B){var ne={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ce){return ne[ce]})}var O=/\/+/g;function Ee(B,ne){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):ne.toString(36)}function Me(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(oe,oe):(B.status="pending",B.then(function(ne){B.status==="pending"&&(B.status="fulfilled",B.value=ne)},function(ne){B.status==="pending"&&(B.status="rejected",B.reason=ne)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function W(B,ne,ce,ue,we){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(De){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case t:case e:xe=!0;break;case v:return xe=B._init,W(xe(B._payload),ne,ce,ue,we)}}if(xe)return we=we(B),xe=ue===""?"."+Ee(B,0):ue,Q(we)?(ce="",xe!=null&&(ce=xe.replace(O,"$&/")+"/"),W(we,ne,ce,"",function(An){return An})):we!=null&&(N(we)&&(we=I(we,ce+(we.key==null||B&&B.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+xe)),ne.push(we)),1;xe=0;var bt=ue===""?".":ue+":";if(Q(B))for(var tt=0;tt<B.length;tt++)ue=B[tt],De=bt+Ee(ue,tt),xe+=W(ue,ne,ce,De,we);else if(tt=S(B),typeof tt=="function")for(B=tt.call(B),tt=0;!(ue=B.next()).done;)ue=ue.value,De=bt+Ee(ue,tt++),xe+=W(ue,ne,ce,De,we);else if(De==="object"){if(typeof B.then=="function")return W(Me(B),ne,ce,ue,we);throw ne=String(B),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return xe}function le(B,ne,ce){if(B==null)return B;var ue=[],we=0;return W(B,ue,"","",function(De){return ne.call(ce,De,we++)}),ue}function ee(B){if(B._status===-1){var ne=B._result;ne=ne(),ne.then(function(ce){(B._status===0||B._status===-1)&&(B._status=1,B._result=ce)},function(ce){(B._status===0||B._status===-1)&&(B._status=2,B._result=ce)}),B._status===-1&&(B._status=0,B._result=ne)}if(B._status===1)return B._result.default;throw B._result}var Ne=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Ue={map:le,forEach:function(B,ne,ce){le(B,function(){ne.apply(this,arguments)},ce)},count:function(B){var ne=0;return le(B,function(){ne++}),ne},toArray:function(B){return le(B,function(ne){return ne})||[]},only:function(B){if(!N(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return je.Activity=b,je.Children=Ue,je.Component=z,je.Fragment=n,je.Profiler=a,je.PureComponent=L,je.StrictMode=i,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,je.__COMPILER_RUNTIME={__proto__:null,c:function(B){return D.H.useMemoCache(B)}},je.cache=function(B){return function(){return B.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(B,ne,ce){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ue=V({},B.props),we=B.key;if(ne!=null)for(De in ne.key!==void 0&&(we=""+ne.key),ne)!E.call(ne,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ne.ref===void 0||(ue[De]=ne[De]);var De=arguments.length-2;if(De===1)ue.children=ce;else if(1<De){for(var xe=Array(De),bt=0;bt<De;bt++)xe[bt]=arguments[bt+2];ue.children=xe}return C(B.type,we,ue)},je.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},je.createElement=function(B,ne,ce){var ue,we={},De=null;if(ne!=null)for(ue in ne.key!==void 0&&(De=""+ne.key),ne)E.call(ne,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=ne[ue]);var xe=arguments.length-2;if(xe===1)we.children=ce;else if(1<xe){for(var bt=Array(xe),tt=0;tt<xe;tt++)bt[tt]=arguments[tt+2];we.children=bt}if(B&&B.defaultProps)for(ue in xe=B.defaultProps,xe)we[ue]===void 0&&(we[ue]=xe[ue]);return C(B,De,we)},je.createRef=function(){return{current:null}},je.forwardRef=function(B){return{$$typeof:d,render:B}},je.isValidElement=N,je.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:ee}},je.memo=function(B,ne){return{$$typeof:p,type:B,compare:ne===void 0?null:ne}},je.startTransition=function(B){var ne=D.T,ce={};D.T=ce;try{var ue=B(),we=D.S;we!==null&&we(ce,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(oe,Ne)}catch(De){Ne(De)}finally{ne!==null&&ce.types!==null&&(ne.types=ce.types),D.T=ne}},je.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},je.use=function(B){return D.H.use(B)},je.useActionState=function(B,ne,ce){return D.H.useActionState(B,ne,ce)},je.useCallback=function(B,ne){return D.H.useCallback(B,ne)},je.useContext=function(B){return D.H.useContext(B)},je.useDebugValue=function(){},je.useDeferredValue=function(B,ne){return D.H.useDeferredValue(B,ne)},je.useEffect=function(B,ne){return D.H.useEffect(B,ne)},je.useEffectEvent=function(B){return D.H.useEffectEvent(B)},je.useId=function(){return D.H.useId()},je.useImperativeHandle=function(B,ne,ce){return D.H.useImperativeHandle(B,ne,ce)},je.useInsertionEffect=function(B,ne){return D.H.useInsertionEffect(B,ne)},je.useLayoutEffect=function(B,ne){return D.H.useLayoutEffect(B,ne)},je.useMemo=function(B,ne){return D.H.useMemo(B,ne)},je.useOptimistic=function(B,ne){return D.H.useOptimistic(B,ne)},je.useReducer=function(B,ne,ce){return D.H.useReducer(B,ne,ce)},je.useRef=function(B){return D.H.useRef(B)},je.useState=function(B){return D.H.useState(B)},je.useSyncExternalStore=function(B,ne,ce){return D.H.useSyncExternalStore(B,ne,ce)},je.useTransition=function(){return D.H.useTransition()},je.version="19.2.3",je}var W_;function By(){return W_||(W_=1,tg.exports=ZN()),tg.exports}var M=By();const EE=XN(M);var ng={exports:{}},Hc={},sg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function eI(){return J_||(J_=1,(function(t){function e(W,le){var ee=W.length;W.push(le);e:for(;0<ee;){var Ne=ee-1>>>1,Ue=W[Ne];if(0<a(Ue,le))W[Ne]=le,W[ee]=Ue,ee=Ne;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var le=W[0],ee=W.pop();if(ee!==le){W[0]=ee;e:for(var Ne=0,Ue=W.length,B=Ue>>>1;Ne<B;){var ne=2*(Ne+1)-1,ce=W[ne],ue=ne+1,we=W[ue];if(0>a(ce,ee))ue<Ue&&0>a(we,ce)?(W[Ne]=we,W[ue]=ee,Ne=ue):(W[Ne]=ce,W[ne]=ee,Ne=ne);else if(ue<Ue&&0>a(we,ee))W[Ne]=we,W[ue]=ee,Ne=ue;else break e}}return le}function a(W,le){var ee=W.sortIndex-le.sortIndex;return ee!==0?ee:W.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],v=1,b=null,_=3,S=!1,k=!1,V=!1,j=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function $(W){for(var le=n(p);le!==null;){if(le.callback===null)i(p);else if(le.startTime<=W)i(p),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(p)}}function Q(W){if(V=!1,$(W),!k)if(n(f)!==null)k=!0,oe||(oe=!0,P());else{var le=n(p);le!==null&&Me(Q,le.startTime-W)}}var oe=!1,D=-1,E=5,C=-1;function I(){return j?!0:!(t.unstable_now()-C<E)}function N(){if(j=!1,oe){var W=t.unstable_now();C=W;var le=!0;try{e:{k=!1,V&&(V=!1,q(D),D=-1),S=!0;var ee=_;try{t:{for($(W),b=n(f);b!==null&&!(b.expirationTime>W&&I());){var Ne=b.callback;if(typeof Ne=="function"){b.callback=null,_=b.priorityLevel;var Ue=Ne(b.expirationTime<=W);if(W=t.unstable_now(),typeof Ue=="function"){b.callback=Ue,$(W),le=!0;break t}b===n(f)&&i(f),$(W)}else i(f);b=n(f)}if(b!==null)le=!0;else{var B=n(p);B!==null&&Me(Q,B.startTime-W),le=!1}}break e}finally{b=null,_=ee,S=!1}le=void 0}}finally{le?P():oe=!1}}}var P;if(typeof L=="function")P=function(){L(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Ee=O.port2;O.port1.onmessage=N,P=function(){Ee.postMessage(null)}}else P=function(){z(N,0)};function Me(W,le){D=z(function(){W(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(W){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ee=_;_=le;try{return W()}finally{_=ee}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=_;_=W;try{return le()}finally{_=ee}},t.unstable_scheduleCallback=function(W,le,ee){var Ne=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ne+ee:Ne):ee=Ne,W){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ee+Ue,W={id:v++,callback:le,priorityLevel:W,startTime:ee,expirationTime:Ue,sortIndex:-1},ee>Ne?(W.sortIndex=ee,e(p,W),n(f)===null&&W===n(p)&&(V?(q(D),D=-1):V=!0,Me(Q,ee-Ne))):(W.sortIndex=Ue,e(f,W),k||S||(k=!0,oe||(oe=!0,P()))),W},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(W){var le=_;return function(){var ee=_;_=le;try{return W.apply(this,arguments)}finally{_=ee}}}})(ig)),ig}var Z_;function tI(){return Z_||(Z_=1,sg.exports=eI()),sg.exports}var rg={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function nI(){if(eT)return gn;eT=1;var t=By();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,v)},gn.flushSync=function(f){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=v,i.d.f()}},gn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},gn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},gn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):v==="script"&&i.d.X(f,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},gn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);i.d.L(f,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gn.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},gn.requestFormReset=function(f){i.d.r(f)},gn.unstable_batchedUpdates=function(f,p){return f(p)},gn.useFormState=function(f,p,v){return c.H.useFormState(f,p,v)},gn.useFormStatus=function(){return c.H.useHostTransitionStatus()},gn.version="19.2.3",gn}var tT;function sI(){if(tT)return rg.exports;tT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rg.exports=nI(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function iI(){if(nT)return Hc;nT=1;var t=tI(),e=By(),n=sI();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),s;if(y===u)return f(m),r;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=y;else{for(var T=!1,A=m.child;A;){if(A===o){T=!0,o=m,u=y;break}if(A===u){T=!0,u=m,o=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===o){T=!0,o=y,u=m;break}if(A===u){T=!0,u=y,o=m;break}A=A.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function v(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=v(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(s){return s===null||typeof s!="object"?null:(s=N&&s[N]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case z:return"Profiler";case j:return"StrictMode";case Q:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case L:return s.displayName||"Context";case q:return(s._context.displayName||"Context")+".Consumer";case $:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return r=s.displayName||null,r!==null?r:Ee(s.type)||"Memo";case E:r=s._payload,s=s._init;try{return Ee(s(r))}catch{}}return null}var Me=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Ne=[],Ue=-1;function B(s){return{current:s}}function ne(s){0>Ue||(s.current=Ne[Ue],Ne[Ue]=null,Ue--)}function ce(s,r){Ue++,Ne[Ue]=s.current,s.current=r}var ue=B(null),we=B(null),De=B(null),xe=B(null);function bt(s,r){switch(ce(De,r),ce(we,s),ce(ue,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?y_(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=y_(r),s=v_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(ue),ce(ue,s)}function tt(){ne(ue),ne(we),ne(De)}function An(s){s.memoizedState!==null&&ce(xe,s);var r=ue.current,o=v_(r,s.type);r!==o&&(ce(we,s),ce(ue,o))}function Jn(s){we.current===s&&(ne(ue),ne(we)),xe.current===s&&(ne(xe),Uc._currentValue=ee)}var Ln,Ti;function Zn(s){if(Ln===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ln=r&&r[1]||"",Ti=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ln+s+Ti}var la=!1;function zs(s,r){if(!s||la)return"";la=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var X=Z}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(Z){X=Z}s.call(ie.prototype)}}else{try{throw Error()}catch(Z){X=Z}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],A=y[1];if(T&&A){var U=T.split(`
`),Y=A.split(`
`);for(m=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(u===U.length||m===Y.length)for(u=U.length-1,m=Y.length-1;1<=u&&0<=m&&U[u]!==Y[m];)m--;for(;1<=u&&0<=m;u--,m--)if(U[u]!==Y[m]){if(u!==1||m!==1)do if(u--,m--,0>m||U[u]!==Y[m]){var te=`
`+U[u].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=u&&0<=m);break}}}finally{la=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Zn(o):""}function nr(s,r){switch(s.tag){case 26:case 27:case 5:return Zn(s.type);case 16:return Zn("Lazy");case 13:return s.child!==r&&r!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return zs(s.type,!1);case 11:return zs(s.type.render,!1);case 1:return zs(s.type,!0);case 31:return Zn("Activity");default:return""}}function he(s){try{var r="",o=null;do r+=nr(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ae=Object.prototype.hasOwnProperty,Xe=t.unstable_scheduleCallback,Rt=t.unstable_cancelCallback,nn=t.unstable_shouldYield,Un=t.unstable_requestPaint,ft=t.unstable_now,Cn=t.unstable_getCurrentPriorityLevel,ca=t.unstable_ImmediatePriority,vs=t.unstable_UserBlockingPriority,zn=t.unstable_NormalPriority,ua=t.unstable_LowPriority,sr=t.unstable_IdlePriority,ho=t.log,Qu=t.unstable_setDisableYieldValue,bs=null,sn=null;function es(s){if(typeof ho=="function"&&Qu(s),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(bs,s)}catch{}}var Nt=Math.clz32?Math.clz32:Wu,Xu=Math.log,fo=Math.LN2;function Wu(s){return s>>>=0,s===0?32:31-(Xu(s)/fo|0)|0}var Bs=256,ha=262144,kt=4194304;function Fs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function qs(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?m=Fs(u):(T&=A,T!==0?m=Fs(T):o||(o=A&~s,o!==0&&(m=Fs(o))))):(A=u&~y,A!==0?m=Fs(A):T!==0?m=Fs(T):o||(o=u&~s,o!==0&&(m=Fs(o)))),m===0?0:r!==0&&r!==m&&(r&y)===0&&(y=m&-m,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:m}function xs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function im(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(){var s=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),s}function Hs(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function da(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function rm(s,r,o,u,m,y){var T=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var A=s.entanglements,U=s.expirationTimes,Y=s.hiddenUpdates;for(o=T&~o;0<o;){var te=31-Nt(o),ie=1<<te;A[te]=0,U[te]=-1;var X=Y[te];if(X!==null)for(Y[te]=null,te=0;te<X.length;te++){var Z=X[te];Z!==null&&(Z.lane&=-536870913)}o&=~ie}u!==0&&fa(s,u,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~r))}function fa(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Nt(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Hl(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-Nt(o),m=1<<u;m&r|s[u]&r&&(s[u]|=r),o&=~m}}function Gl(s,r){var o=r&-r;return o=(o&42)!==0?1:ma(o),(o&(s.suspendedLanes|r))!==0?0:o}function ma(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function wi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zu(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:B_(s.type))}function _s(s,r){var o=le.p;try{return le.p=s,r()}finally{le.p=o}}var Ts=Math.random().toString(36).slice(2),jt="__reactFiber$"+Ts,Jt="__reactProps$"+Ts,Gs="__reactContainer$"+Ts,mo="__reactEvents$"+Ts,am="__reactListeners$"+Ts,eh="__reactHandles$"+Ts,th="__reactResources$"+Ts,$s="__reactMarker$"+Ts;function po(s){delete s[jt],delete s[Jt],delete s[mo],delete s[am],delete s[eh]}function Ks(s){var r=s[jt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Gs]||o[jt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=S_(s);s!==null;){if(o=s[jt])return o;s=S_(s)}return r}s=o,o=s.parentNode}return null}function ts(s){if(s=s[jt]||s[Gs]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Bn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ys(s){var r=s[th];return r||(r=s[th]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Vt(s){s[$s]=!0}var $l=new Set,Kl={};function Qs(s,r){Xs(s,r),Xs(s+"Capture",r)}function Xs(s,r){for(Kl[s]=r,s=0;s<r.length;s++)$l.add(r[s])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Xl={};function nh(s){return Ae.call(Xl,s)?!0:Ae.call(Ql,s)?!1:Yl.test(s)?Xl[s]=!0:(Ql[s]=!0,!1)}function go(s,r,o){if(nh(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Fn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function Pt(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function Zt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ir(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wl(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,y.call(this,T)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function rt(s){if(!s._valueTracker){var r=ir(s)?"checked":"value";s._valueTracker=Wl(s,r,""+s[r])}}function pa(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=ir(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Ws(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ga=/[\n"\\]/g;function Rn(s){return s.replace(ga,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yo(s,r,o,u,m,y,T,A){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Zt(r)):s.value!==""+Zt(r)&&(s.value=""+Zt(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?Jl(s,T,Zt(r)):o!=null?Jl(s,T,Zt(o)):u!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Zt(A):s.removeAttribute("name")}function sh(s,r,o,u,m,y,T,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){rt(s);return}o=o!=null?""+Zt(o):"",r=r!=null?""+Zt(r):o,A||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),rt(s)}function Jl(s,r,o){r==="number"&&Ws(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function rr(s,r,o,u){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Zt(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function ih(s,r,o){if(r!=null&&(r=""+Zt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Zt(o):""}function ar(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(Me(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Zt(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),rt(s)}function Nn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||rh.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function ec(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&Zl(s,m,u)}else for(var y in r)r.hasOwnProperty(y)&&Zl(s,y,r[y])}function vo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(s){return or.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ws(){}var tc=null;function ns(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var lr=null,Js=null;function ya(s){var r=ts(s);if(r&&(s=r.stateNode)){var o=s[Jt]||null;e:switch(s=r.stateNode,r.type){case"input":if(yo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var m=u[Jt]||null;if(!m)throw Error(i(90));yo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&pa(u)}break e;case"textarea":ih(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rr(s,!!o.multiple,r,!1)}}}var xo=!1;function cr(s,r,o){if(xo)return s(r,o);xo=!0;try{var u=s(r);return u}finally{if(xo=!1,(lr!==null||Js!==null)&&(Zh(),lr&&(r=lr,s=Js,Js=lr=null,ya(r),s)))for(r=0;r<s.length;r++)ya(s[r])}}function Es(s,r){var o=s.stateNode;if(o===null)return null;var u=o[Jt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(ss)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){va=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{va=!1}var Zs=null,nc=null,ba=null;function sc(){if(ba)return ba;var s,r=nc,o=r.length,u,m="value"in Zs?Zs.value:Zs.textContent,y=m.length;for(s=0;s<o&&r[s]===m[s];s++);var T=o-s;for(u=1;u<=T&&r[o-u]===m[y-u];u++);return ba=m.slice(s,1<u?1-u:void 0)}function xa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function Ss(){return!1}function rn(s){function r(o,u,m,y,T){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(o=s[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ei:Ss,this.isPropagationStopped=Ss,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),r}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=rn(Si),ur=b({},Si,{view:0,detail:0}),ic=rn(ur),hr,_o,ti,To=b({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ti&&(ti&&s.type==="mousemove"?(hr=s.screenX-ti.screenX,_o=s.screenY-ti.screenY):_o=hr=0,ti=s),hr)},movementY:function(s){return"movementY"in s?s.movementY:_o}}),rc=rn(To),_a=b({},To,{dataTransfer:0}),oh=rn(_a),lh=b({},ur,{relatedTarget:0}),Ta=rn(lh),ac=b({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),ch=rn(ac),wo=b({},Si,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),uh=rn(wo),hh=b({},Si,{data:0}),ni=rn(hh),dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ph(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=mh[s])?!!r[s]:!1}function dr(){return ph}var Tn=b({},ur,{key:function(s){if(s.key){var r=dh[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(s){return s.type==="keypress"?xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gh=rn(Tn),yh=b({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ai=rn(yh),h=b({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),x=rn(h),w=b({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=rn(w),G=b({},To,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=rn(G),de=b({},Si,{newState:0,oldState:0}),Pe=rn(de),It=[9,13,27,32],nt=ss&&"CompositionEvent"in window,xt=null;ss&&"documentMode"in document&&(xt=document.documentMode);var is=ss&&"TextEvent"in window&&!xt,si=ss&&(!nt||xt&&8<xt&&11>=xt),As=" ",Cs=!1;function wa(s,r){switch(s){case"keyup":return It.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var So=!1;function xR(s,r){switch(s){case"compositionend":return Eo(r);case"keypress":return r.which!==32?null:(Cs=!0,As);case"textInput":return s=r.data,s===As&&Cs?null:s;default:return null}}function _R(s,r){if(So)return s==="compositionend"||!nt&&wa(s,r)?(s=sc(),ba=nc=Zs=null,So=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return si&&r.locale!=="ko"?null:r.data;default:return null}}var TR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!TR[s.type]:r==="textarea"}function Nv(s,r,o,u){lr?Js?Js.push(u):Js=[u]:lr=u,r=ad(r,"onChange"),0<r.length&&(o=new ei("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var oc=null,lc=null;function wR(s){h_(s,0)}function vh(s){var r=Bn(s);if(pa(r))return s}function Iv(s,r){if(s==="change")return r}var Dv=!1;if(ss){var om;if(ss){var lm="oninput"in document;if(!lm){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),lm=typeof Ov.oninput=="function"}om=lm}else om=!1;Dv=om&&(!document.documentMode||9<document.documentMode)}function Mv(){oc&&(oc.detachEvent("onpropertychange",kv),lc=oc=null)}function kv(s){if(s.propertyName==="value"&&vh(lc)){var r=[];Nv(r,lc,s,ns(s)),cr(wR,r)}}function ER(s,r,o){s==="focusin"?(Mv(),oc=r,lc=o,oc.attachEvent("onpropertychange",kv)):s==="focusout"&&Mv()}function SR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return vh(lc)}function AR(s,r){if(s==="click")return vh(r)}function CR(s,r){if(s==="input"||s==="change")return vh(r)}function RR(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var qn=typeof Object.is=="function"?Object.is:RR;function cc(s,r){if(qn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Ae.call(r,m)||!qn(s[m],r[m]))return!1}return!0}function jv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Vv(s,r){var o=jv(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jv(o)}}function Pv(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Pv(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Lv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Ws(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Ws(s.document)}return r}function cm(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var NR=ss&&"documentMode"in document&&11>=document.documentMode,Ao=null,um=null,uc=null,hm=!1;function Uv(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hm||Ao==null||Ao!==Ws(u)||(u=Ao,"selectionStart"in u&&cm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),uc&&cc(uc,u)||(uc=u,u=ad(um,"onSelect"),0<u.length&&(r=new ei("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=Ao)))}function Ea(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Co={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},dm={},zv={};ss&&(zv=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Sa(s){if(dm[s])return dm[s];if(!Co[s])return s;var r=Co[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in zv)return dm[s]=r[o];return s}var Bv=Sa("animationend"),Fv=Sa("animationiteration"),qv=Sa("animationstart"),IR=Sa("transitionrun"),DR=Sa("transitionstart"),OR=Sa("transitioncancel"),Hv=Sa("transitionend"),Gv=new Map,fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fm.push("scrollEnd");function Rs(s,r){Gv.set(s,r),Qs(r,[s])}var bh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},rs=[],Ro=0,mm=0;function xh(){for(var s=Ro,r=mm=Ro=0;r<s;){var o=rs[r];rs[r++]=null;var u=rs[r];rs[r++]=null;var m=rs[r];rs[r++]=null;var y=rs[r];if(rs[r++]=null,u!==null&&m!==null){var T=u.pending;T===null?m.next=m:(m.next=T.next,T.next=m),u.pending=m}y!==0&&$v(o,m,y)}}function _h(s,r,o,u){rs[Ro++]=s,rs[Ro++]=r,rs[Ro++]=o,rs[Ro++]=u,mm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function pm(s,r,o,u){return _h(s,r,o,u),Th(s)}function Aa(s,r){return _h(s,null,null,r),Th(s)}function $v(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var m=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&r!==null&&(m=31-Nt(o),s=y.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=o|536870912),y):null}function Th(s){if(50<Oc)throw Oc=0,Ep=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var No={};function MR(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(s,r,o,u){return new MR(s,r,o,u)}function gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ci(s,r){var o=s.alternate;return o===null?(o=Hn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Kv(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function wh(s,r,o,u,m,y){var T=0;if(u=s,typeof s=="function")gm(s)&&(T=1);else if(typeof s=="string")T=LN(s,o,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Hn(31,o,r,m),s.elementType=C,s.lanes=y,s;case V:return Ca(o.children,m,y,r);case j:T=8,m|=24;break;case z:return s=Hn(12,o,r,m|2),s.elementType=z,s.lanes=y,s;case Q:return s=Hn(13,o,r,m),s.elementType=Q,s.lanes=y,s;case oe:return s=Hn(19,o,r,m),s.elementType=oe,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:T=10;break e;case q:T=9;break e;case $:T=11;break e;case D:T=14;break e;case E:T=16,u=null;break e}T=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Hn(T,o,r,m),r.elementType=s,r.type=u,r.lanes=y,r}function Ca(s,r,o,u){return s=Hn(7,s,u,r),s.lanes=o,s}function ym(s,r,o){return s=Hn(6,s,null,r),s.lanes=o,s}function Yv(s){var r=Hn(18,null,null,0);return r.stateNode=s,r}function vm(s,r,o){return r=Hn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Qv=new WeakMap;function as(s,r){if(typeof s=="object"&&s!==null){var o=Qv.get(s);return o!==void 0?o:(r={value:s,source:r,stack:he(r)},Qv.set(s,r),r)}return{value:s,source:r,stack:he(r)}}var Io=[],Do=0,Eh=null,hc=0,os=[],ls=0,fr=null,ii=1,ri="";function Ri(s,r){Io[Do++]=hc,Io[Do++]=Eh,Eh=s,hc=r}function Xv(s,r,o){os[ls++]=ii,os[ls++]=ri,os[ls++]=fr,fr=s;var u=ii;s=ri;var m=32-Nt(u)-1;u&=~(1<<m),o+=1;var y=32-Nt(r)+m;if(30<y){var T=m-m%5;y=(u&(1<<T)-1).toString(32),u>>=T,m-=T,ii=1<<32-Nt(r)+m|o<<m|u,ri=y+s}else ii=1<<y|o<<m|u,ri=s}function bm(s){s.return!==null&&(Ri(s,1),Xv(s,1,0))}function xm(s){for(;s===Eh;)Eh=Io[--Do],Io[Do]=null,hc=Io[--Do],Io[Do]=null;for(;s===fr;)fr=os[--ls],os[ls]=null,ri=os[--ls],os[ls]=null,ii=os[--ls],os[ls]=null}function Wv(s,r){os[ls++]=ii,os[ls++]=ri,os[ls++]=fr,ii=r.id,ri=r.overflow,fr=s}var an=null,pt=null,Qe=!1,mr=null,cs=!1,_m=Error(i(519));function pr(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dc(as(r,s)),_m}function Jv(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[jt]=s,r[Jt]=u,o){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(o=0;o<kc.length;o++)qe(kc[o],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),sh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),ar(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||p_(r.textContent,o)?(u.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),u.onScroll!=null&&qe("scroll",r),u.onScrollEnd!=null&&qe("scrollend",r),u.onClick!=null&&(r.onclick=ws),r=!0):r=!1,r||pr(s,!0)}function Zv(s){for(an=s.return;an;)switch(an.tag){case 5:case 31:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:an=an.return}}function Oo(s){if(s!==an)return!1;if(!Qe)return Zv(s),Qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Up(s.type,s.memoizedProps)),o=!o),o&&pt&&pr(s),Zv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pt=E_(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pt=E_(s)}else r===27?(r=pt,Nr(s.type)?(s=Hp,Hp=null,pt=s):pt=r):pt=an?hs(s.stateNode.nextSibling):null;return!0}function Ra(){pt=an=null,Qe=!1}function Tm(){var s=mr;return s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s),mr=null),s}function dc(s){mr===null?mr=[s]:mr.push(s)}var wm=B(null),Na=null,Ni=null;function gr(s,r,o){ce(wm,r._currentValue),r._currentValue=o}function Ii(s){s._currentValue=wm.current,ne(wm)}function Em(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Sm(s,r,o,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=m;for(var U=0;U<r.length;U++)if(A.context===r[U]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),Em(y.return,o,s),u||(T=null);break e}y=A.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),Em(T,o,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Mo(s,r,o,u){s=null;for(var m=r,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=m.type;qn(m.pendingProps.value,T.value)||(s!==null?s.push(A):s=[A])}}else if(m===xe.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Uc):s=[Uc])}m=m.return}s!==null&&Sm(r,s,o,u),r.flags|=262144}function Sh(s){for(s=s.firstContext;s!==null;){if(!qn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ia(s){Na=s,Ni=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function on(s){return eb(Na,s)}function Ah(s,r){return Na===null&&Ia(s),eb(s,r)}function eb(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ni===null){if(s===null)throw Error(i(308));Ni=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ni=Ni.next=r;return o}var kR=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},jR=t.unstable_scheduleCallback,VR=t.unstable_NormalPriority,Lt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new kR,data:new Map,refCount:0}}function fc(s){s.refCount--,s.refCount===0&&jR(VR,function(){s.controller.abort()})}var mc=null,Cm=0,ko=0,jo=null;function PR(s,r){if(mc===null){var o=mc=[];Cm=0,ko=Ip(),jo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cm++,r.then(tb,tb),r}function tb(){if(--Cm===0&&mc!==null){jo!==null&&(jo.status="fulfilled");var s=mc;mc=null,ko=0,jo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function LR(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var nb=W.S;W.S=function(s,r){Ux=ft(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&PR(s,r),nb!==null&&nb(s,r)};var Da=B(null);function Rm(){var s=Da.current;return s!==null?s:dt.pooledCache}function Ch(s,r){r===null?ce(Da,Da.current):ce(Da,r.pool)}function sb(){var s=Rm();return s===null?null:{parent:Lt._currentValue,pool:s}}var Vo=Error(i(460)),Nm=Error(i(474)),Rh=Error(i(542)),Nh={then:function(){}};function ib(s){return s=s.status,s==="fulfilled"||s==="rejected"}function rb(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ws,ws),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ob(s),s;default:if(typeof r.status=="string")r.then(ws,ws);else{if(s=dt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,ob(s),s}throw Ma=r,Vo}}function Oa(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ma=o,Vo):o}}var Ma=null;function ab(){if(Ma===null)throw Error(i(459));var s=Ma;return Ma=null,s}function ob(s){if(s===Vo||s===Rh)throw Error(i(483))}var Po=null,pc=0;function Ih(s){var r=pc;return pc+=1,Po===null&&(Po=[]),rb(Po,s,r)}function gc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Dh(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function lb(s){function r(H,F){if(s){var K=H.deletions;K===null?(H.deletions=[F],H.flags|=16):K.push(F)}}function o(H,F){if(!s)return null;for(;F!==null;)r(H,F),F=F.sibling;return null}function u(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function m(H,F){return H=Ci(H,F),H.index=0,H.sibling=null,H}function y(H,F,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<F?(H.flags|=67108866,F):K):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function T(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function A(H,F,K,se){return F===null||F.tag!==6?(F=ym(K,H.mode,se),F.return=H,F):(F=m(F,K),F.return=H,F)}function U(H,F,K,se){var _e=K.type;return _e===V?te(H,F,K.props.children,se,K.key):F!==null&&(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===E&&Oa(_e)===F.type)?(F=m(F,K.props),gc(F,K),F.return=H,F):(F=wh(K.type,K.key,K.props,null,H.mode,se),gc(F,K),F.return=H,F)}function Y(H,F,K,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=vm(K,H.mode,se),F.return=H,F):(F=m(F,K.children||[]),F.return=H,F)}function te(H,F,K,se,_e){return F===null||F.tag!==7?(F=Ca(K,H.mode,se,_e),F.return=H,F):(F=m(F,K),F.return=H,F)}function ie(H,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=ym(""+F,H.mode,K),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return K=wh(F.type,F.key,F.props,null,H.mode,K),gc(K,F),K.return=H,K;case k:return F=vm(F,H.mode,K),F.return=H,F;case E:return F=Oa(F),ie(H,F,K)}if(Me(F)||P(F))return F=Ca(F,H.mode,K,null),F.return=H,F;if(typeof F.then=="function")return ie(H,Ih(F),K);if(F.$$typeof===L)return ie(H,Ah(H,F),K);Dh(H,F)}return null}function X(H,F,K,se){var _e=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return _e!==null?null:A(H,F,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===_e?U(H,F,K,se):null;case k:return K.key===_e?Y(H,F,K,se):null;case E:return K=Oa(K),X(H,F,K,se)}if(Me(K)||P(K))return _e!==null?null:te(H,F,K,se,null);if(typeof K.then=="function")return X(H,F,Ih(K),se);if(K.$$typeof===L)return X(H,F,Ah(H,K),se);Dh(H,K)}return null}function Z(H,F,K,se,_e){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get(K)||null,A(F,H,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return H=H.get(se.key===null?K:se.key)||null,U(F,H,se,_e);case k:return H=H.get(se.key===null?K:se.key)||null,Y(F,H,se,_e);case E:return se=Oa(se),Z(H,F,K,se,_e)}if(Me(se)||P(se))return H=H.get(K)||null,te(F,H,se,_e,null);if(typeof se.then=="function")return Z(H,F,K,Ih(se),_e);if(se.$$typeof===L)return Z(H,F,K,Ah(F,se),_e);Dh(F,se)}return null}function pe(H,F,K,se){for(var _e=null,Ze=null,be=F,ze=F=0,Ge=null;be!==null&&ze<K.length;ze++){be.index>ze?(Ge=be,be=null):Ge=be.sibling;var et=X(H,be,K[ze],se);if(et===null){be===null&&(be=Ge);break}s&&be&&et.alternate===null&&r(H,be),F=y(et,F,ze),Ze===null?_e=et:Ze.sibling=et,Ze=et,be=Ge}if(ze===K.length)return o(H,be),Qe&&Ri(H,ze),_e;if(be===null){for(;ze<K.length;ze++)be=ie(H,K[ze],se),be!==null&&(F=y(be,F,ze),Ze===null?_e=be:Ze.sibling=be,Ze=be);return Qe&&Ri(H,ze),_e}for(be=u(be);ze<K.length;ze++)Ge=Z(be,H,ze,K[ze],se),Ge!==null&&(s&&Ge.alternate!==null&&be.delete(Ge.key===null?ze:Ge.key),F=y(Ge,F,ze),Ze===null?_e=Ge:Ze.sibling=Ge,Ze=Ge);return s&&be.forEach(function(kr){return r(H,kr)}),Qe&&Ri(H,ze),_e}function Se(H,F,K,se){if(K==null)throw Error(i(151));for(var _e=null,Ze=null,be=F,ze=F=0,Ge=null,et=K.next();be!==null&&!et.done;ze++,et=K.next()){be.index>ze?(Ge=be,be=null):Ge=be.sibling;var kr=X(H,be,et.value,se);if(kr===null){be===null&&(be=Ge);break}s&&be&&kr.alternate===null&&r(H,be),F=y(kr,F,ze),Ze===null?_e=kr:Ze.sibling=kr,Ze=kr,be=Ge}if(et.done)return o(H,be),Qe&&Ri(H,ze),_e;if(be===null){for(;!et.done;ze++,et=K.next())et=ie(H,et.value,se),et!==null&&(F=y(et,F,ze),Ze===null?_e=et:Ze.sibling=et,Ze=et);return Qe&&Ri(H,ze),_e}for(be=u(be);!et.done;ze++,et=K.next())et=Z(be,H,ze,et.value,se),et!==null&&(s&&et.alternate!==null&&be.delete(et.key===null?ze:et.key),F=y(et,F,ze),Ze===null?_e=et:Ze.sibling=et,Ze=et);return s&&be.forEach(function(QN){return r(H,QN)}),Qe&&Ri(H,ze),_e}function ht(H,F,K,se){if(typeof K=="object"&&K!==null&&K.type===V&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var _e=K.key;F!==null;){if(F.key===_e){if(_e=K.type,_e===V){if(F.tag===7){o(H,F.sibling),se=m(F,K.props.children),se.return=H,H=se;break e}}else if(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===E&&Oa(_e)===F.type){o(H,F.sibling),se=m(F,K.props),gc(se,K),se.return=H,H=se;break e}o(H,F);break}else r(H,F);F=F.sibling}K.type===V?(se=Ca(K.props.children,H.mode,se,K.key),se.return=H,H=se):(se=wh(K.type,K.key,K.props,null,H.mode,se),gc(se,K),se.return=H,H=se)}return T(H);case k:e:{for(_e=K.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){o(H,F.sibling),se=m(F,K.children||[]),se.return=H,H=se;break e}else{o(H,F);break}else r(H,F);F=F.sibling}se=vm(K,H.mode,se),se.return=H,H=se}return T(H);case E:return K=Oa(K),ht(H,F,K,se)}if(Me(K))return pe(H,F,K,se);if(P(K)){if(_e=P(K),typeof _e!="function")throw Error(i(150));return K=_e.call(K),Se(H,F,K,se)}if(typeof K.then=="function")return ht(H,F,Ih(K),se);if(K.$$typeof===L)return ht(H,F,Ah(H,K),se);Dh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(o(H,F.sibling),se=m(F,K),se.return=H,H=se):(o(H,F),se=ym(K,H.mode,se),se.return=H,H=se),T(H)):o(H,F)}return function(H,F,K,se){try{pc=0;var _e=ht(H,F,K,se);return Po=null,_e}catch(be){if(be===Vo||be===Rh)throw be;var Ze=Hn(29,be,null,H.mode);return Ze.lanes=se,Ze.return=H,Ze}finally{}}}var ka=lb(!0),cb=lb(!1),yr=!1;function Im(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function br(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Th(s),$v(s,null,o),r}return _h(s,u,r,o),Th(s)}function yc(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Hl(s,o)}}function Om(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?m=y=r:y=y.next=r}else m=y=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var Mm=!1;function vc(){if(Mm){var s=jo;if(s!==null)throw s}}function bc(s,r,o,u){Mm=!1;var m=s.updateQueue;yr=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var U=A,Y=U.next;U.next=null,T===null?y=Y:T.next=Y,T=U;var te=s.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==T&&(A===null?te.firstBaseUpdate=Y:A.next=Y,te.lastBaseUpdate=U))}if(y!==null){var ie=m.baseState;T=0,te=Y=U=null,A=y;do{var X=A.lane&-536870913,Z=X!==A.lane;if(Z?(He&X)===X:(u&X)===X){X!==0&&X===ko&&(Mm=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=s,Se=A;X=r;var ht=o;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){ie=pe.call(ht,ie,X);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,X=typeof pe=="function"?pe.call(ht,ie,X):pe,X==null)break e;ie=b({},ie,X);break e;case 2:yr=!0}}X=A.callback,X!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Y=te=Z,U=ie):te=te.next=Z,T|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);te===null&&(U=ie),m.baseState=U,m.firstBaseUpdate=Y,m.lastBaseUpdate=te,y===null&&(m.shared.lanes=0),Er|=T,s.lanes=T,s.memoizedState=ie}}function ub(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function hb(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)ub(o[s],r)}var Lo=B(null),Oh=B(0);function db(s,r){s=Ui,ce(Oh,s),ce(Lo,r),Ui=s|r.baseLanes}function km(){ce(Oh,Ui),ce(Lo,Lo.current)}function jm(){Ui=Oh.current,ne(Lo),ne(Oh)}var Gn=B(null),us=null;function xr(s){var r=s.alternate;ce(Dt,Dt.current&1),ce(Gn,s),us===null&&(r===null||Lo.current!==null||r.memoizedState!==null)&&(us=s)}function Vm(s){ce(Dt,Dt.current),ce(Gn,s),us===null&&(us=s)}function fb(s){s.tag===22?(ce(Dt,Dt.current),ce(Gn,s),us===null&&(us=s)):_r()}function _r(){ce(Dt,Dt.current),ce(Gn,Gn.current)}function $n(s){ne(Gn),us===s&&(us=null),ne(Dt)}var Dt=B(0);function Mh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Fp(o)||qp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Di=0,Le=null,ct=null,Ut=null,kh=!1,Uo=!1,ja=!1,jh=0,xc=0,zo=null,UR=0;function St(){throw Error(i(321))}function Pm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!qn(s[o],r[o]))return!1;return!0}function Lm(s,r,o,u,m,y){return Di=y,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=s===null||s.memoizedState===null?Xb:Zm,ja=!1,y=o(u,m),ja=!1,Uo&&(y=pb(r,o,u,m)),mb(s),y}function mb(s){W.H=wc;var r=ct!==null&&ct.next!==null;if(Di=0,Ut=ct=Le=null,kh=!1,xc=0,zo=null,r)throw Error(i(300));s===null||zt||(s=s.dependencies,s!==null&&Sh(s)&&(zt=!0))}function pb(s,r,o,u){Le=s;var m=0;do{if(Uo&&(zo=null),xc=0,Uo=!1,25<=m)throw Error(i(301));if(m+=1,Ut=ct=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=Wb,y=r(o,u)}while(Uo);return y}function zR(){var s=W.H,r=s.useState()[0];return r=typeof r.then=="function"?_c(r):r,s=s.useState()[0],(ct!==null?ct.memoizedState:null)!==s&&(Le.flags|=1024),r}function Um(){var s=jh!==0;return jh=0,s}function zm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function Bm(s){if(kh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}kh=!1}Di=0,Ut=ct=Le=null,Uo=!1,xc=jh=0,zo=null}function wn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Le.memoizedState=Ut=s:Ut=Ut.next=s,Ut}function Ot(){if(ct===null){var s=Le.alternate;s=s!==null?s.memoizedState:null}else s=ct.next;var r=Ut===null?Le.memoizedState:Ut.next;if(r!==null)Ut=r,ct=s;else{if(s===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ct=s,s={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ut===null?Le.memoizedState=Ut=s:Ut=Ut.next=s}return Ut}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _c(s){var r=xc;return xc+=1,zo===null&&(zo=[]),s=rb(zo,s,r),r=Le,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Xb:Zm),s}function Ph(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return _c(s);if(s.$$typeof===L)return on(s)}throw Error(i(438,String(s)))}function Fm(s){var r=null,o=Le.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Vh(),Le.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=I;return r.index++,o}function Oi(s,r){return typeof r=="function"?r(s):r}function Lh(s){var r=Ot();return qm(r,ct,s)}function qm(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=s.baseQueue,y=u.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}r.baseQueue=m=y,u.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{r=m.next;var A=T=null,U=null,Y=r,te=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(He&ie)===ie:(Di&ie)===ie){var X=Y.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===ko&&(te=!0);else if((Di&X)===X){Y=Y.next,X===ko&&(te=!0);continue}else ie={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(A=U=ie,T=y):U=U.next=ie,Le.lanes|=X,Er|=X;ie=Y.action,ja&&o(y,ie),y=Y.hasEagerState?Y.eagerState:o(y,ie)}else X={lane:ie,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(A=U=X,T=y):U=U.next=X,Le.lanes|=ie,Er|=ie;Y=Y.next}while(Y!==null&&Y!==r);if(U===null?T=y:U.next=A,!qn(y,s.memoizedState)&&(zt=!0,te&&(o=jo,o!==null)))throw o;s.memoizedState=y,s.baseState=T,s.baseQueue=U,u.lastRenderedState=y}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Hm(s){var r=Ot(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,m=o.pending,y=r.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do y=s(y,T.action),T=T.next;while(T!==m);qn(y,r.memoizedState)||(zt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function gb(s,r,o){var u=Le,m=Ot(),y=Qe;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=r();var T=!qn((ct||m).memoizedState,o);if(T&&(m.memoizedState=o,zt=!0),m=m.queue,Km(bb.bind(null,u,m,s),[s]),m.getSnapshot!==r||T||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,Bo(9,{destroy:void 0},vb.bind(null,u,m,o,r),null),dt===null)throw Error(i(349));y||(Di&127)!==0||yb(u,r,o)}return o}function yb(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Le.updateQueue,r===null?(r=Vh(),Le.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function vb(s,r,o,u){r.value=o,r.getSnapshot=u,xb(r)&&_b(s)}function bb(s,r,o){return o(function(){xb(r)&&_b(s)})}function xb(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!qn(s,o)}catch{return!0}}function _b(s){var r=Aa(s,2);r!==null&&kn(r,s,2)}function Gm(s){var r=wn();if(typeof s=="function"){var o=s;if(s=o(),ja){es(!0);try{o()}finally{es(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},r}function Tb(s,r,o,u){return s.baseState=o,qm(s,ct,typeof u=="function"?u:Oi)}function BR(s,r,o,u,m){if(Bh(s))throw Error(i(485));if(s=r.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};W.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,wb(r,y)):(y.next=o.next,r.pending=o.next=y)}}function wb(s,r){var o=r.action,u=r.payload,m=s.state;if(r.isTransition){var y=W.T,T={};W.T=T;try{var A=o(m,u),U=W.S;U!==null&&U(T,A),Eb(s,r,A)}catch(Y){$m(s,r,Y)}finally{y!==null&&T.types!==null&&(y.types=T.types),W.T=y}}else try{y=o(m,u),Eb(s,r,y)}catch(Y){$m(s,r,Y)}}function Eb(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Sb(s,r,u)},function(u){return $m(s,r,u)}):Sb(s,r,o)}function Sb(s,r,o){r.status="fulfilled",r.value=o,Ab(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,wb(s,o)))}function $m(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Ab(r),r=r.next;while(r!==u)}s.action=null}function Ab(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Cb(s,r){return r}function Rb(s,r){if(Qe){var o=dt.formState;if(o!==null){e:{var u=Le;if(Qe){if(pt){t:{for(var m=pt,y=cs;m.nodeType!==8;){if(!y){m=null;break t}if(m=hs(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){pt=hs(m.nextSibling),u=m.data==="F!";break e}}pr(u)}u=!1}u&&(r=o[0])}}return o=wn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cb,lastRenderedState:r},o.queue=u,o=Kb.bind(null,Le,u),u.dispatch=o,u=Gm(!1),y=Jm.bind(null,Le,!1,u.queue),u=wn(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,o=BR.bind(null,Le,m,y,o),m.dispatch=o,u.memoizedState=s,[r,o,!1]}function Nb(s){var r=Ot();return Ib(r,ct,s)}function Ib(s,r,o){if(r=qm(s,r,Cb)[0],s=Lh(Oi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=_c(r)}catch(T){throw T===Vo?Rh:T}else u=r;r=Ot();var m=r.queue,y=m.dispatch;return o!==r.memoizedState&&(Le.flags|=2048,Bo(9,{destroy:void 0},FR.bind(null,m,o),null)),[u,y,s]}function FR(s,r){s.action=r}function Db(s){var r=Ot(),o=ct;if(o!==null)return Ib(r,o,s);Ot(),r=r.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Bo(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Le.updateQueue,r===null&&(r=Vh(),Le.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function Ob(){return Ot().memoizedState}function Uh(s,r,o,u){var m=wn();Le.flags|=s,m.memoizedState=Bo(1|r,{destroy:void 0},o,u===void 0?null:u)}function zh(s,r,o,u){var m=Ot();u=u===void 0?null:u;var y=m.memoizedState.inst;ct!==null&&u!==null&&Pm(u,ct.memoizedState.deps)?m.memoizedState=Bo(r,y,o,u):(Le.flags|=s,m.memoizedState=Bo(1|r,y,o,u))}function Mb(s,r){Uh(8390656,8,s,r)}function Km(s,r){zh(2048,8,s,r)}function qR(s){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=Vh(),Le.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function kb(s){var r=Ot().memoizedState;return qR({ref:r,nextImpl:s}),function(){if((st&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function jb(s,r){return zh(4,2,s,r)}function Vb(s,r){return zh(4,4,s,r)}function Pb(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Lb(s,r,o){o=o!=null?o.concat([s]):null,zh(4,4,Pb.bind(null,r,s),o)}function Ym(){}function Ub(s,r){var o=Ot();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Pm(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function zb(s,r){var o=Ot();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Pm(r,u[1]))return u[0];if(u=s(),ja){es(!0);try{s()}finally{es(!1)}}return o.memoizedState=[u,r],u}function Qm(s,r,o){return o===void 0||(Di&1073741824)!==0&&(He&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=Bx(),Le.lanes|=s,Er|=s,o)}function Bb(s,r,o,u){return qn(o,r)?o:Lo.current!==null?(s=Qm(s,o,u),qn(s,r)||(zt=!0),s):(Di&42)===0||(Di&1073741824)!==0&&(He&261930)===0?(zt=!0,s.memoizedState=o):(s=Bx(),Le.lanes|=s,Er|=s,r)}function Fb(s,r,o,u,m){var y=le.p;le.p=y!==0&&8>y?y:8;var T=W.T,A={};W.T=A,Jm(s,!1,r,o);try{var U=m(),Y=W.S;if(Y!==null&&Y(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var te=LR(U,u);Tc(s,r,te,Qn(s))}else Tc(s,r,u,Qn(s))}catch(ie){Tc(s,r,{then:function(){},status:"rejected",reason:ie},Qn())}finally{le.p=y,T!==null&&A.types!==null&&(T.types=A.types),W.T=T}}function HR(){}function Xm(s,r,o,u){if(s.tag!==5)throw Error(i(476));var m=qb(s).queue;Fb(s,m,r,ee,o===null?HR:function(){return Hb(s),o(u)})}function qb(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ee},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Hb(s){var r=qb(s);r.next===null&&(r=s.alternate.memoizedState),Tc(s,r.next.queue,{},Qn())}function Wm(){return on(Uc)}function Gb(){return Ot().memoizedState}function $b(){return Ot().memoizedState}function GR(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Qn();s=vr(o);var u=br(r,s,o);u!==null&&(kn(u,r,o),yc(u,r,o)),r={cache:Am()},s.payload=r;return}r=r.return}}function $R(s,r,o){var u=Qn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bh(s)?Yb(r,o):(o=pm(s,r,o,u),o!==null&&(kn(o,s,u),Qb(o,r,u)))}function Kb(s,r,o){var u=Qn();Tc(s,r,o,u)}function Tc(s,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bh(s))Yb(r,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var T=r.lastRenderedState,A=y(T,o);if(m.hasEagerState=!0,m.eagerState=A,qn(A,T))return _h(s,r,m,0),dt===null&&xh(),!1}catch{}finally{}if(o=pm(s,r,m,u),o!==null)return kn(o,s,u),Qb(o,r,u),!0}return!1}function Jm(s,r,o,u){if(u={lane:2,revertLane:Ip(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Bh(s)){if(r)throw Error(i(479))}else r=pm(s,o,u,2),r!==null&&kn(r,s,2)}function Bh(s){var r=s.alternate;return s===Le||r!==null&&r===Le}function Yb(s,r){Uo=kh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function Qb(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,Hl(s,o)}}var wc={readContext:on,use:Ph,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};wc.useEffectEvent=St;var Xb={readContext:on,use:Ph,useCallback:function(s,r){return wn().memoizedState=[s,r===void 0?null:r],s},useContext:on,useEffect:Mb,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,Uh(4194308,4,Pb.bind(null,r,s),o)},useLayoutEffect:function(s,r){return Uh(4194308,4,s,r)},useInsertionEffect:function(s,r){Uh(4,2,s,r)},useMemo:function(s,r){var o=wn();r=r===void 0?null:r;var u=s();if(ja){es(!0);try{s()}finally{es(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=wn();if(o!==void 0){var m=o(r);if(ja){es(!0);try{o(r)}finally{es(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=$R.bind(null,Le,s),[u.memoizedState,s]},useRef:function(s){var r=wn();return s={current:s},r.memoizedState=s},useState:function(s){s=Gm(s);var r=s.queue,o=Kb.bind(null,Le,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Ym,useDeferredValue:function(s,r){var o=wn();return Qm(o,s,r)},useTransition:function(){var s=Gm(!1);return s=Fb.bind(null,Le,s.queue,!0,!1),wn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Le,m=wn();if(Qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),dt===null)throw Error(i(349));(He&127)!==0||yb(u,r,o)}m.memoizedState=o;var y={value:o,getSnapshot:r};return m.queue=y,Mb(bb.bind(null,u,y,s),[s]),u.flags|=2048,Bo(9,{destroy:void 0},vb.bind(null,u,y,o,r),null),o},useId:function(){var s=wn(),r=dt.identifierPrefix;if(Qe){var o=ri,u=ii;o=(u&~(1<<32-Nt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=jh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=UR++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Wm,useFormState:Rb,useActionState:Rb,useOptimistic:function(s){var r=wn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Jm.bind(null,Le,!0,o),o.dispatch=r,[s,r]},useMemoCache:Fm,useCacheRefresh:function(){return wn().memoizedState=GR.bind(null,Le)},useEffectEvent:function(s){var r=wn(),o={impl:s};return r.memoizedState=o,function(){if((st&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Zm={readContext:on,use:Ph,useCallback:Ub,useContext:on,useEffect:Km,useImperativeHandle:Lb,useInsertionEffect:jb,useLayoutEffect:Vb,useMemo:zb,useReducer:Lh,useRef:Ob,useState:function(){return Lh(Oi)},useDebugValue:Ym,useDeferredValue:function(s,r){var o=Ot();return Bb(o,ct.memoizedState,s,r)},useTransition:function(){var s=Lh(Oi)[0],r=Ot().memoizedState;return[typeof s=="boolean"?s:_c(s),r]},useSyncExternalStore:gb,useId:Gb,useHostTransitionStatus:Wm,useFormState:Nb,useActionState:Nb,useOptimistic:function(s,r){var o=Ot();return Tb(o,ct,s,r)},useMemoCache:Fm,useCacheRefresh:$b};Zm.useEffectEvent=kb;var Wb={readContext:on,use:Ph,useCallback:Ub,useContext:on,useEffect:Km,useImperativeHandle:Lb,useInsertionEffect:jb,useLayoutEffect:Vb,useMemo:zb,useReducer:Hm,useRef:Ob,useState:function(){return Hm(Oi)},useDebugValue:Ym,useDeferredValue:function(s,r){var o=Ot();return ct===null?Qm(o,s,r):Bb(o,ct.memoizedState,s,r)},useTransition:function(){var s=Hm(Oi)[0],r=Ot().memoizedState;return[typeof s=="boolean"?s:_c(s),r]},useSyncExternalStore:gb,useId:Gb,useHostTransitionStatus:Wm,useFormState:Db,useActionState:Db,useOptimistic:function(s,r){var o=Ot();return ct!==null?Tb(o,ct,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:$b};Wb.useEffectEvent=kb;function ep(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var tp={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Qn(),m=vr(u);m.payload=r,o!=null&&(m.callback=o),r=br(s,m,u),r!==null&&(kn(r,s,u),yc(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Qn(),m=vr(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=br(s,m,u),r!==null&&(kn(r,s,u),yc(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Qn(),u=vr(o);u.tag=2,r!=null&&(u.callback=r),r=br(s,u,o),r!==null&&(kn(r,s,o),yc(r,s,o))}};function Jb(s,r,o,u,m,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,T):r.prototype&&r.prototype.isPureReactComponent?!cc(o,u)||!cc(m,y):!0}function Zb(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&tp.enqueueReplaceState(r,r.state,null)}function Va(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function ex(s){bh(s)}function tx(s){console.error(s)}function nx(s){bh(s)}function Fh(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function sx(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function np(s,r,o){return o=vr(o),o.tag=3,o.payload={element:null},o.callback=function(){Fh(s,r)},o}function ix(s){return s=vr(s),s.tag=3,s}function rx(s,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;s.payload=function(){return m(y)},s.callback=function(){sx(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){sx(r,o,u),typeof m!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function KR(s,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Mo(r,o,m,!0),o=Gn.current,o!==null){switch(o.tag){case 31:case 13:return us===null?ed():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Nh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Cp(s,u,m)),!1;case 22:return o.flags|=65536,u===Nh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Cp(s,u,m)),!1}throw Error(i(435,o.tag))}return Cp(s,u,m),ed(),!1}if(Qe)return r=Gn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==_m&&(s=Error(i(422),{cause:u}),dc(as(s,o)))):(u!==_m&&(r=Error(i(423),{cause:u}),dc(as(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=as(u,o),m=np(s.stateNode,u,m),Om(s,m),At!==4&&(At=2)),!1;var y=Error(i(520),{cause:u});if(y=as(y,o),Dc===null?Dc=[y]:Dc.push(y),At!==4&&(At=2),r===null)return!0;u=as(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=np(o.stateNode,u,s),Om(o,s),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Sr===null||!Sr.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=ix(m),rx(m,s,o,u),Om(o,m),!1}o=o.return}while(o!==null);return!1}var sp=Error(i(461)),zt=!1;function ln(s,r,o,u){r.child=s===null?cb(r,null,o,u):ka(r,s.child,o,u)}function ax(s,r,o,u,m){o=o.render;var y=r.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return Ia(r),u=Lm(s,r,o,T,y,m),A=Um(),s!==null&&!zt?(zm(s,r,m),Mi(s,r,m)):(Qe&&A&&bm(r),r.flags|=1,ln(s,r,u,m),r.child)}function ox(s,r,o,u,m){if(s===null){var y=o.type;return typeof y=="function"&&!gm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,lx(s,r,y,u,m)):(s=wh(o.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(y=s.child,!hp(s,m)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:cc,o(T,u)&&s.ref===r.ref)return Mi(s,r,m)}return r.flags|=1,s=Ci(y,u),s.ref=r.ref,s.return=r,r.child=s}function lx(s,r,o,u,m){if(s!==null){var y=s.memoizedProps;if(cc(y,u)&&s.ref===r.ref)if(zt=!1,r.pendingProps=u=y,hp(s,m))(s.flags&131072)!==0&&(zt=!0);else return r.lanes=s.lanes,Mi(s,r,m)}return ip(s,r,o,u,m)}function cx(s,r,o,u){var m=u.children,y=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,r.child=null;return ux(s,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ch(r,y!==null?y.cachePool:null),y!==null?db(r,y):km(),fb(r);else return u=r.lanes=536870912,ux(s,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Ch(r,y.cachePool),db(r,y),_r(),r.memoizedState=null):(s!==null&&Ch(r,null),km(),_r());return ln(s,r,m,o),r.child}function Ec(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function ux(s,r,o,u,m){var y=Rm();return y=y===null?null:{parent:Lt._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},s!==null&&Ch(r,null),km(),fb(r),s!==null&&Mo(s,r,u,!0),r.childLanes=m,null}function qh(s,r){return r=Gh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function hx(s,r,o){return ka(r,s.child,null,o),s=qh(r,r.pendingProps),s.flags|=2,$n(r),r.memoizedState=null,s}function YR(s,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Qe){if(u.mode==="hidden")return s=qh(r,u),r.lanes=536870912,Ec(null,s);if(Vm(r),(s=pt)?(s=w_(s,cs),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},o=Yv(s),o.return=r,r.child=o,an=r,pt=null)):s=null,s===null)throw pr(r);return r.lanes=536870912,null}return qh(r,u)}var y=s.memoizedState;if(y!==null){var T=y.dehydrated;if(Vm(r),m)if(r.flags&256)r.flags&=-257,r=hx(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(zt||Mo(s,r,o,!1),m=(o&s.childLanes)!==0,zt||m){if(u=dt,u!==null&&(T=Gl(u,o),T!==0&&T!==y.retryLane))throw y.retryLane=T,Aa(s,T),kn(u,s,T),sp;ed(),r=hx(s,r,o)}else s=y.treeContext,pt=hs(T.nextSibling),an=r,Qe=!0,mr=null,cs=!1,s!==null&&Wv(r,s),r=qh(r,u),r.flags|=4096;return r}return s=Ci(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Hh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function ip(s,r,o,u,m){return Ia(r),o=Lm(s,r,o,u,void 0,m),u=Um(),s!==null&&!zt?(zm(s,r,m),Mi(s,r,m)):(Qe&&u&&bm(r),r.flags|=1,ln(s,r,o,m),r.child)}function dx(s,r,o,u,m,y){return Ia(r),r.updateQueue=null,o=pb(r,u,o,m),mb(s),u=Um(),s!==null&&!zt?(zm(s,r,y),Mi(s,r,y)):(Qe&&u&&bm(r),r.flags|=1,ln(s,r,o,y),r.child)}function fx(s,r,o,u,m){if(Ia(r),r.stateNode===null){var y=No,T=o.contextType;typeof T=="object"&&T!==null&&(y=on(T)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=tp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Im(r),T=o.contextType,y.context=typeof T=="object"&&T!==null?on(T):No,y.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(ep(r,o,T,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&tp.enqueueReplaceState(y,y.state,null),bc(r,u,y,m),vc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){y=r.stateNode;var A=r.memoizedProps,U=Va(o,A);y.props=U;var Y=y.context,te=o.contextType;T=No,typeof te=="object"&&te!==null&&(T=on(te));var ie=o.getDerivedStateFromProps;te=typeof ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Y!==T)&&Zb(r,y,u,T),yr=!1;var X=r.memoizedState;y.state=X,bc(r,u,y,m),vc(),Y=r.memoizedState,A||X!==Y||yr?(typeof ie=="function"&&(ep(r,o,ie,u),Y=r.memoizedState),(U=yr||Jb(r,o,U,u,X,Y,T))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),y.props=u,y.state=Y,y.context=T,u=U):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Dm(s,r),T=r.memoizedProps,te=Va(o,T),y.props=te,ie=r.pendingProps,X=y.context,Y=o.contextType,U=No,typeof Y=="object"&&Y!==null&&(U=on(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==ie||X!==U)&&Zb(r,y,u,U),yr=!1,X=r.memoizedState,y.state=X,bc(r,u,y,m),vc();var Z=r.memoizedState;T!==ie||X!==Z||yr||s!==null&&s.dependencies!==null&&Sh(s.dependencies)?(typeof A=="function"&&(ep(r,o,A,u),Z=r.memoizedState),(te=yr||Jb(r,o,te,u,X,Z,U)||s!==null&&s.dependencies!==null&&Sh(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Z,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Z,U)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),y.props=u,y.state=Z,y.context=U,u=te):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),u=!1)}return y=u,Hh(s,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,s!==null&&u?(r.child=ka(r,s.child,null,m),r.child=ka(r,null,o,m)):ln(s,r,o,m),r.memoizedState=y.state,s=r.child):s=Mi(s,r,m),s}function mx(s,r,o,u){return Ra(),r.flags|=256,ln(s,r,o,u),r.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(s){return{baseLanes:s,cachePool:sb()}}function op(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Yn),s}function px(s,r,o){var u=r.pendingProps,m=!1,y=(r.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(Dt.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(Qe){if(m?xr(r):_r(),(s=pt)?(s=w_(s,cs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:fr!==null?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},o=Yv(s),o.return=r,r.child=o,an=r,pt=null)):s=null,s===null)throw pr(r);return qp(s)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(_r(),m=r.mode,A=Gh({mode:"hidden",children:A},m),u=Ca(u,m,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=ap(o),u.childLanes=op(s,T,o),r.memoizedState=rp,Ec(null,u)):(xr(r),lp(r,A))}var U=s.memoizedState;if(U!==null&&(A=U.dehydrated,A!==null)){if(y)r.flags&256?(xr(r),r.flags&=-257,r=cp(s,r,o)):r.memoizedState!==null?(_r(),r.child=s.child,r.flags|=128,r=null):(_r(),A=u.fallback,m=r.mode,u=Gh({mode:"visible",children:u.children},m),A=Ca(A,m,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,ka(r,s.child,null,o),u=r.child,u.memoizedState=ap(o),u.childLanes=op(s,T,o),r.memoizedState=rp,r=Ec(null,u));else if(xr(r),qp(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(i(419)),u.stack="",u.digest=T,dc({value:u,source:null,stack:null}),r=cp(s,r,o)}else if(zt||Mo(s,r,o,!1),T=(o&s.childLanes)!==0,zt||T){if(T=dt,T!==null&&(u=Gl(T,o),u!==0&&u!==U.retryLane))throw U.retryLane=u,Aa(s,u),kn(T,s,u),sp;Fp(A)||ed(),r=cp(s,r,o)}else Fp(A)?(r.flags|=192,r.child=s.child,r=null):(s=U.treeContext,pt=hs(A.nextSibling),an=r,Qe=!0,mr=null,cs=!1,s!==null&&Wv(r,s),r=lp(r,u.children),r.flags|=4096);return r}return m?(_r(),A=u.fallback,m=r.mode,U=s.child,Y=U.sibling,u=Ci(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Y!==null?A=Ci(Y,A):(A=Ca(A,m,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,Ec(null,u),u=r.child,A=s.child.memoizedState,A===null?A=ap(o):(m=A.cachePool,m!==null?(U=Lt._currentValue,m=m.parent!==U?{parent:U,pool:U}:m):m=sb(),A={baseLanes:A.baseLanes|o,cachePool:m}),u.memoizedState=A,u.childLanes=op(s,T,o),r.memoizedState=rp,Ec(s.child,u)):(xr(r),o=s.child,s=o.sibling,o=Ci(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=o,r.memoizedState=null,o)}function lp(s,r){return r=Gh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Gh(s,r){return s=Hn(22,s,null,r),s.lanes=0,s}function cp(s,r,o){return ka(r,s.child,null,o),s=lp(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function gx(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Em(s.return,r,o)}function up(s,r,o,u,m,y){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:y}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=m,T.treeForkCount=y)}function yx(s,r,o){var u=r.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var T=Dt.current,A=(T&2)!==0;if(A?(T=T&1|2,r.flags|=128):T&=1,ce(Dt,T),ln(s,r,u,o),u=Qe?hc:0,!A&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&gx(s,o,r);else if(s.tag===19)gx(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&Mh(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),up(r,!1,m,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Mh(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}up(r,!0,o,null,y,u);break;case"together":up(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Mi(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),Er|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(Mo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=Ci(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=Ci(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function hp(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Sh(s)))}function QR(s,r,o){switch(r.tag){case 3:bt(r,r.stateNode.containerInfo),gr(r,Lt,s.memoizedState.cache),Ra();break;case 27:case 5:An(r);break;case 4:bt(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Vm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(xr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?px(s,r,o):(xr(r),s=Mi(s,r,o),s!==null?s.sibling:null);xr(r);break;case 19:var m=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Mo(s,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return yx(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Dt,Dt.current),u)break;return null;case 22:return r.lanes=0,cx(s,r,o,r.pendingProps);case 24:gr(r,Lt,s.memoizedState.cache)}return Mi(s,r,o)}function vx(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)zt=!0;else{if(!hp(s,o)&&(r.flags&128)===0)return zt=!1,QR(s,r,o);zt=(s.flags&131072)!==0}else zt=!1,Qe&&(r.flags&1048576)!==0&&Xv(r,hc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(s=Oa(r.elementType),r.type=s,typeof s=="function")gm(s)?(u=Va(s,u),r.tag=1,r=fx(null,r,s,u,o)):(r.tag=0,r=ip(null,r,s,u,o));else{if(s!=null){var m=s.$$typeof;if(m===$){r.tag=11,r=ax(null,r,s,u,o);break e}else if(m===D){r.tag=14,r=ox(null,r,s,u,o);break e}}throw r=Ee(s)||s,Error(i(306,r,""))}}return r;case 0:return ip(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=Va(u,r.pendingProps),fx(s,r,u,m,o);case 3:e:{if(bt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var y=r.memoizedState;m=y.element,Dm(s,r),bc(r,u,null,o);var T=r.memoizedState;if(u=T.cache,gr(r,Lt,u),u!==y.cache&&Sm(r,[Lt],o,!0),vc(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=mx(s,r,u,o);break e}else if(u!==m){m=as(Error(i(424)),r),dc(m),r=mx(s,r,u,o);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pt=hs(s.firstChild),an=r,Qe=!0,mr=null,cs=!0,o=cb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ra(),u===m){r=Mi(s,r,o);break e}ln(s,r,u,o)}r=r.child}return r;case 26:return Hh(s,r),s===null?(o=N_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Qe||(o=r.type,s=r.pendingProps,u=od(De.current).createElement(o),u[jt]=r,u[Jt]=s,cn(u,o,s),Vt(u),r.stateNode=u):r.memoizedState=N_(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return An(r),s===null&&Qe&&(u=r.stateNode=A_(r.type,r.pendingProps,De.current),an=r,cs=!0,m=pt,Nr(r.type)?(Hp=m,pt=hs(u.firstChild)):pt=m),ln(s,r,r.pendingProps.children,o),Hh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Qe&&((m=u=pt)&&(u=SN(u,r.type,r.pendingProps,cs),u!==null?(r.stateNode=u,an=r,pt=hs(u.firstChild),cs=!1,m=!0):m=!1),m||pr(r)),An(r),m=r.type,y=r.pendingProps,T=s!==null?s.memoizedProps:null,u=y.children,Up(m,y)?u=null:T!==null&&Up(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=Lm(s,r,zR,null,null,o),Uc._currentValue=m),Hh(s,r),ln(s,r,u,o),r.child;case 6:return s===null&&Qe&&((s=o=pt)&&(o=AN(o,r.pendingProps,cs),o!==null?(r.stateNode=o,an=r,pt=null,s=!0):s=!1),s||pr(r)),null;case 13:return px(s,r,o);case 4:return bt(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ka(r,null,u,o):ln(s,r,u,o),r.child;case 11:return ax(s,r,r.type,r.pendingProps,o);case 7:return ln(s,r,r.pendingProps,o),r.child;case 8:return ln(s,r,r.pendingProps.children,o),r.child;case 12:return ln(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,gr(r,r.type,u.value),ln(s,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Ia(r),m=on(m),u=u(m),r.flags|=1,ln(s,r,u,o),r.child;case 14:return ox(s,r,r.type,r.pendingProps,o);case 15:return lx(s,r,r.type,r.pendingProps,o);case 19:return yx(s,r,o);case 31:return YR(s,r,o);case 22:return cx(s,r,o,r.pendingProps);case 24:return Ia(r),u=on(Lt),s===null?(m=Rm(),m===null&&(m=dt,y=Am(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),r.memoizedState={parent:u,cache:m},Im(r),gr(r,Lt,m)):((s.lanes&o)!==0&&(Dm(s,r),bc(r,null,null,o),vc()),m=s.memoizedState,y=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),gr(r,Lt,u)):(u=y.cache,gr(r,Lt,u),u!==m.cache&&Sm(r,[Lt],o,!0))),ln(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ki(s){s.flags|=4}function dp(s,r,o,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Gx())s.flags|=8192;else throw Ma=Nh,Nm}else s.flags&=-16777217}function bx(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!k_(r))if(Gx())s.flags|=8192;else throw Ma=Nh,Nm}function $h(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ju():536870912,s.lanes|=r,Go|=r)}function Sc(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function gt(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function XR(s,r,o){var u=r.pendingProps;switch(xm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ii(Lt),tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Oo(r)?ki(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tm())),gt(r),null;case 26:var m=r.type,y=r.memoizedState;return s===null?(ki(r),y!==null?(gt(r),bx(r,y)):(gt(r),dp(r,m,null,u,o))):y?y!==s.memoizedState?(ki(r),gt(r),bx(r,y)):(gt(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&ki(r),gt(r),dp(r,m,s,u,o)),null;case 27:if(Jn(r),o=De.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ki(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return gt(r),null}s=ue.current,Oo(r)?Jv(r):(s=A_(m,u,o),r.stateNode=s,ki(r))}return gt(r),null;case 5:if(Jn(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ki(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return gt(r),null}if(y=ue.current,Oo(r))Jv(r);else{var T=od(De.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?T.createElement(m,{is:u.is}):T.createElement(m)}}y[jt]=r,y[Jt]=u;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=y;e:switch(cn(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ki(r)}}return gt(r),dp(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&ki(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=De.current,Oo(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,m=an,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[jt]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||p_(s.nodeValue,o)),s||pr(r,!0)}else s=od(s).createTextNode(u),s[jt]=r,r.stateNode=s}return gt(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Oo(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[jt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),s=!1}else o=Tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?($n(r),r):($n(r),null);if((r.flags&128)!==0)throw Error(i(558))}return gt(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Oo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[jt]=r}else Ra(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),m=!1}else m=Tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?($n(r),r):($n(r),null)}return $n(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),$h(r,r.updateQueue),gt(r),null);case 4:return tt(),s===null&&kp(r.stateNode.containerInfo),gt(r),null;case 10:return Ii(r.type),gt(r),null;case 19:if(ne(Dt),u=r.memoizedState,u===null)return gt(r),null;if(m=(r.flags&128)!==0,y=u.rendering,y===null)if(m)Sc(u,!1);else{if(At!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(y=Mh(s),y!==null){for(r.flags|=128,Sc(u,!1),s=y.updateQueue,r.updateQueue=s,$h(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)Kv(o,s),o=o.sibling;return ce(Dt,Dt.current&1|2),Qe&&Ri(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&ft()>Wh&&(r.flags|=128,m=!0,Sc(u,!1),r.lanes=4194304)}else{if(!m)if(s=Mh(y),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,$h(r,s),Sc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Qe)return gt(r),null}else 2*ft()-u.renderingStartTime>Wh&&o!==536870912&&(r.flags|=128,m=!0,Sc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(s=u.last,s!==null?s.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=ft(),s.sibling=null,o=Dt.current,ce(Dt,m?o&1|2:o&1),Qe&&Ri(r,u.treeForkCount),s):(gt(r),null);case 22:case 23:return $n(r),jm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),o=r.updateQueue,o!==null&&$h(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&ne(Da),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ii(Lt),gt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function WR(s,r){switch(xm(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ii(Lt),tt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Jn(r),null;case 31:if(r.memoizedState!==null){if($n(r),r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if($n(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ra()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return ne(Dt),null;case 4:return tt(),null;case 10:return Ii(r.type),null;case 22:case 23:return $n(r),jm(),s!==null&&ne(Da),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Ii(Lt),null;case 25:return null;default:return null}}function xx(s,r){switch(xm(r),r.tag){case 3:Ii(Lt),tt();break;case 26:case 27:case 5:Jn(r);break;case 4:tt();break;case 31:r.memoizedState!==null&&$n(r);break;case 13:$n(r);break;case 19:ne(Dt);break;case 10:Ii(r.type);break;case 22:case 23:$n(r),jm(),s!==null&&ne(Da);break;case 24:Ii(Lt)}}function Ac(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&s)===s){u=void 0;var y=o.create,T=o.inst;u=y(),T.destroy=u}o=o.next}while(o!==m)}}catch(A){ot(r,r.return,A)}}function Tr(s,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&s)===s){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,m=r;var U=o,Y=A;try{Y()}catch(te){ot(m,U,te)}}}u=u.next}while(u!==y)}}catch(te){ot(r,r.return,te)}}function _x(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{hb(r,o)}catch(u){ot(s,s.return,u)}}}function Tx(s,r,o){o.props=Va(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){ot(s,r,u)}}function Cc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(m){ot(s,r,m)}}function ai(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){ot(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ot(s,r,m)}else o.current=null}function wx(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){ot(s,s.return,m)}}function fp(s,r,o){try{var u=s.stateNode;bN(u,s.type,o,r),u[Jt]=r}catch(m){ot(s,s.return,m)}}function Ex(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Nr(s.type)||s.tag===4}function mp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ex(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Nr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pp(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ws));else if(u!==4&&(u===27&&Nr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(pp(s,r,o),s=s.sibling;s!==null;)pp(s,r,o),s=s.sibling}function Kh(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&Nr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Kh(s,r,o),s=s.sibling;s!==null;)Kh(s,r,o),s=s.sibling}function Sx(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);cn(r,u,o),r[jt]=s,r[Jt]=o}catch(y){ot(s,s.return,y)}}var ji=!1,Bt=!1,gp=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,en=null;function JR(s,r){if(s=s.containerInfo,Pp=md,s=Lv(s),cm(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,A=-1,U=-1,Y=0,te=0,ie=s,X=null;t:for(;;){for(var Z;ie!==o||m!==0&&ie.nodeType!==3||(A=T+m),ie!==y||u!==0&&ie.nodeType!==3||(U=T+u),ie.nodeType===3&&(T+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)X=ie,ie=Z;for(;;){if(ie===s)break t;if(X===o&&++Y===m&&(A=T),X===y&&++te===u&&(U=T),(Z=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Z}o=A===-1||U===-1?null:{start:A,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Lp={focusedElem:s,selectionRange:o},md=!1,en=r;en!==null;)if(r=en,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,en=s;else for(;en!==null;){switch(r=en,y=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=r,m=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var pe=Va(o.type,m);s=u.getSnapshotBeforeUpdate(pe,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Se){ot(o,o.return,Se)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)Bp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Bp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,en=s;break}en=r.return}}function Cx(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Pi(s,o),u&4&&Ac(5,o);break;case 1:if(Pi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(T){ot(o,o.return,T)}else{var m=Va(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ot(o,o.return,T)}}u&64&&_x(o),u&512&&Cc(o,o.return);break;case 3:if(Pi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{hb(s,r)}catch(T){ot(o,o.return,T)}}break;case 27:r===null&&u&4&&Sx(o);case 26:case 5:Pi(s,o),r===null&&u&4&&wx(o),u&512&&Cc(o,o.return);break;case 12:Pi(s,o);break;case 31:Pi(s,o),u&4&&Ix(s,o);break;case 13:Pi(s,o),u&4&&Dx(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=oN.bind(null,o),CN(s,o))));break;case 22:if(u=o.memoizedState!==null||ji,!u){r=r!==null&&r.memoizedState!==null||Bt,m=ji;var y=Bt;ji=u,(Bt=r)&&!y?Li(s,o,(o.subtreeFlags&8772)!==0):Pi(s,o),ji=m,Bt=y}break;case 30:break;default:Pi(s,o)}}function Rx(s){var r=s.alternate;r!==null&&(s.alternate=null,Rx(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&po(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var _t=null,In=!1;function Vi(s,r,o){for(o=o.child;o!==null;)Nx(s,r,o),o=o.sibling}function Nx(s,r,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(bs,o)}catch{}switch(o.tag){case 26:Bt||ai(o,r),Vi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||ai(o,r);var u=_t,m=In;Nr(o.type)&&(_t=o.stateNode,In=!1),Vi(s,r,o),Vc(o.stateNode),_t=u,In=m;break;case 5:Bt||ai(o,r);case 6:if(u=_t,m=In,_t=null,Vi(s,r,o),_t=u,In=m,_t!==null)if(In)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(y){ot(o,r,y)}else try{_t.removeChild(o.stateNode)}catch(y){ot(o,r,y)}break;case 18:_t!==null&&(In?(s=_t,__(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Zo(s)):__(_t,o.stateNode));break;case 4:u=_t,m=In,_t=o.stateNode.containerInfo,In=!0,Vi(s,r,o),_t=u,In=m;break;case 0:case 11:case 14:case 15:Tr(2,o,r),Bt||Tr(4,o,r),Vi(s,r,o);break;case 1:Bt||(ai(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Tx(o,r,u)),Vi(s,r,o);break;case 21:Vi(s,r,o);break;case 22:Bt=(u=Bt)||o.memoizedState!==null,Vi(s,r,o),Bt=u;break;default:Vi(s,r,o)}}function Ix(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Zo(s)}catch(o){ot(r,r.return,o)}}}function Dx(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zo(s)}catch(o){ot(r,r.return,o)}}function ZR(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Ax),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Ax),r;default:throw Error(i(435,s.tag))}}function Yh(s,r){var o=ZR(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=lN.bind(null,s,u);u.then(m,m)}})}function Dn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],y=s,T=r,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Nr(A.type)){_t=A.stateNode,In=!1;break e}break;case 5:_t=A.stateNode,In=!1;break e;case 3:case 4:_t=A.stateNode.containerInfo,In=!0;break e}A=A.return}if(_t===null)throw Error(i(160));Nx(y,T,m),_t=null,In=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ox(r,s),r=r.sibling}var Ns=null;function Ox(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Dn(r,s),On(s),u&4&&(Tr(3,s,s.return),Ac(3,s),Tr(5,s,s.return));break;case 1:Dn(r,s),On(s),u&512&&(Bt||o===null||ai(o,o.return)),u&64&&ji&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Ns;if(Dn(r,s),On(s),u&512&&(Bt||o===null||ai(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[$s]||y[jt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),cn(y,u,o),y[jt]=s,Vt(y),u=y;break e;case"link":var T=O_("link","href",m).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(y=T[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}y=m.createElement(u),cn(y,u,o),m.head.appendChild(y);break;case"meta":if(T=O_("meta","content",m).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(y=T[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}y=m.createElement(u),cn(y,u,o),m.head.appendChild(y);break;default:throw Error(i(468,u))}y[jt]=s,Vt(y),u=y}s.stateNode=u}else M_(m,s.type,s.stateNode);else s.stateNode=D_(m,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?M_(m,s.type,s.stateNode):D_(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&fp(s,s.memoizedProps,o.memoizedProps)}break;case 27:Dn(r,s),On(s),u&512&&(Bt||o===null||ai(o,o.return)),o!==null&&u&4&&fp(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Dn(r,s),On(s),u&512&&(Bt||o===null||ai(o,o.return)),s.flags&32){m=s.stateNode;try{Nn(m,"")}catch(pe){ot(s,s.return,pe)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,fp(s,m,o!==null?o.memoizedProps:m)),u&1024&&(gp=!0);break;case 6:if(Dn(r,s),On(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(pe){ot(s,s.return,pe)}}break;case 3:if(ud=null,m=Ns,Ns=ld(r.containerInfo),Dn(r,s),Ns=m,On(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Zo(r.containerInfo)}catch(pe){ot(s,s.return,pe)}gp&&(gp=!1,Mx(s));break;case 4:u=Ns,Ns=ld(s.stateNode.containerInfo),Dn(r,s),On(s),Ns=u;break;case 12:Dn(r,s),On(s);break;case 31:Dn(r,s),On(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yh(s,u)));break;case 13:Dn(r,s),On(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xh=ft()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yh(s,u)));break;case 22:m=s.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Y=ji,te=Bt;if(ji=Y||m,Bt=te||U,Dn(r,s),Bt=te,ji=Y,On(s),u&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||U||ji||Bt||Pa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(y=U.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=U.stateNode;var ie=U.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){ot(U,U.return,pe)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(pe){ot(U,U.return,pe)}}}else if(r.tag===18){if(o===null){U=r;try{var Z=U.stateNode;m?T_(Z,!0):T_(U.stateNode,!1)}catch(pe){ot(U,U.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Yh(s,o))));break;case 19:Dn(r,s),On(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yh(s,u)));break;case 30:break;case 21:break;default:Dn(r,s),On(s)}}function On(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(Ex(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=mp(s);Kh(s,y,m);break;case 5:var T=o.stateNode;o.flags&32&&(Nn(T,""),o.flags&=-33);var A=mp(s);Kh(s,A,T);break;case 3:case 4:var U=o.stateNode.containerInfo,Y=mp(s);pp(s,Y,U);break;default:throw Error(i(161))}}catch(te){ot(s,s.return,te)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Mx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Mx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Pi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Cx(s,r.alternate,r),r=r.sibling}function Pa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Tr(4,r,r.return),Pa(r);break;case 1:ai(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Tx(r,r.return,o),Pa(r);break;case 27:Vc(r.stateNode);case 26:case 5:ai(r,r.return),Pa(r);break;case 22:r.memoizedState===null&&Pa(r);break;case 30:Pa(r);break;default:Pa(r)}s=s.sibling}}function Li(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,y=r,T=y.flags;switch(y.tag){case 0:case 11:case 15:Li(m,y,o),Ac(4,y);break;case 1:if(Li(m,y,o),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){ot(u,u.return,Y)}if(u=y,m=u.updateQueue,m!==null){var A=u.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)ub(U[m],A)}catch(Y){ot(u,u.return,Y)}}o&&T&64&&_x(y),Cc(y,y.return);break;case 27:Sx(y);case 26:case 5:Li(m,y,o),o&&u===null&&T&4&&wx(y),Cc(y,y.return);break;case 12:Li(m,y,o);break;case 31:Li(m,y,o),o&&T&4&&Ix(m,y);break;case 13:Li(m,y,o),o&&T&4&&Dx(m,y);break;case 22:y.memoizedState===null&&Li(m,y,o),Cc(y,y.return);break;case 30:break;default:Li(m,y,o)}r=r.sibling}}function yp(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&fc(o))}function vp(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&fc(s))}function Is(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kx(s,r,o,u),r=r.sibling}function kx(s,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Is(s,r,o,u),m&2048&&Ac(9,r);break;case 1:Is(s,r,o,u);break;case 3:Is(s,r,o,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&fc(s)));break;case 12:if(m&2048){Is(s,r,o,u),s=r.stateNode;try{var y=r.memoizedProps,T=y.id,A=y.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){ot(r,r.return,U)}}else Is(s,r,o,u);break;case 31:Is(s,r,o,u);break;case 13:Is(s,r,o,u);break;case 23:break;case 22:y=r.stateNode,T=r.alternate,r.memoizedState!==null?y._visibility&2?Is(s,r,o,u):Rc(s,r):y._visibility&2?Is(s,r,o,u):(y._visibility|=2,Fo(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&yp(T,r);break;case 24:Is(s,r,o,u),m&2048&&vp(r.alternate,r);break;default:Is(s,r,o,u)}}function Fo(s,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=s,T=r,A=o,U=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Fo(y,T,A,U,m),Ac(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?Fo(y,T,A,U,m):Rc(y,T):(te._visibility|=2,Fo(y,T,A,U,m)),m&&Y&2048&&yp(T.alternate,T);break;case 24:Fo(y,T,A,U,m),m&&Y&2048&&vp(T.alternate,T);break;default:Fo(y,T,A,U,m)}r=r.sibling}}function Rc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,m=u.flags;switch(u.tag){case 22:Rc(o,u),m&2048&&yp(u.alternate,u);break;case 24:Rc(o,u),m&2048&&vp(u.alternate,u);break;default:Rc(o,u)}r=r.sibling}}var Nc=8192;function qo(s,r,o){if(s.subtreeFlags&Nc)for(s=s.child;s!==null;)jx(s,r,o),s=s.sibling}function jx(s,r,o){switch(s.tag){case 26:qo(s,r,o),s.flags&Nc&&s.memoizedState!==null&&UN(o,Ns,s.memoizedState,s.memoizedProps);break;case 5:qo(s,r,o);break;case 3:case 4:var u=Ns;Ns=ld(s.stateNode.containerInfo),qo(s,r,o),Ns=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Nc,Nc=16777216,qo(s,r,o),Nc=u):qo(s,r,o));break;default:qo(s,r,o)}}function Vx(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ic(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,Lx(u,s)}Vx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Px(s),s=s.sibling}function Px(s){switch(s.tag){case 0:case 11:case 15:Ic(s),s.flags&2048&&Tr(9,s,s.return);break;case 3:Ic(s);break;case 12:Ic(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Qh(s)):Ic(s);break;default:Ic(s)}}function Qh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,Lx(u,s)}Vx(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Tr(8,r,r.return),Qh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Qh(r));break;default:Qh(r)}s=s.sibling}}function Lx(s,r){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:Tr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:fc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,en=u;else e:for(o=s;en!==null;){u=en;var m=u.sibling,y=u.return;if(Rx(u),u===o){en=null;break e}if(m!==null){m.return=y,en=m;break e}en=y}}}var eN={getCacheForType:function(s){var r=on(Lt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return on(Lt).controller.signal}},tN=typeof WeakMap=="function"?WeakMap:Map,st=0,dt=null,Fe=null,He=0,at=0,Kn=null,wr=!1,Ho=!1,bp=!1,Ui=0,At=0,Er=0,La=0,xp=0,Yn=0,Go=0,Dc=null,Mn=null,_p=!1,Xh=0,Ux=0,Wh=1/0,Jh=null,Sr=null,Kt=0,Ar=null,$o=null,zi=0,Tp=0,wp=null,zx=null,Oc=0,Ep=null;function Qn(){return(st&2)!==0&&He!==0?He&-He:W.T!==null?Ip():Zu()}function Bx(){if(Yn===0)if((He&536870912)===0||Qe){var s=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),Yn=s}else Yn=536870912;return s=Gn.current,s!==null&&(s.flags|=32),Yn}function kn(s,r,o){(s===dt&&(at===2||at===9)||s.cancelPendingCommit!==null)&&(Ko(s,0),Cr(s,He,Yn,!1)),da(s,o),((st&2)===0||s!==dt)&&(s===dt&&((st&2)===0&&(La|=o),At===4&&Cr(s,He,Yn,!1)),oi(s))}function Fx(s,r,o){if((st&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||xs(s,r),m=u?iN(s,r):Ap(s,r,!0),y=u;do{if(m===0){Ho&&!u&&Cr(s,r,0,!1);break}else{if(o=s.current.alternate,y&&!nN(o)){m=Ap(s,r,!1),y=!1;continue}if(m===2){if(y=r,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var A=s;m=Dc;var U=A.current.memoizedState.isDehydrated;if(U&&(Ko(A,T).flags|=256),T=Ap(A,T,!1),T!==2){if(bp&&!U){A.errorRecoveryDisabledLanes|=y,La|=y,m=4;break e}y=Mn,Mn=m,y!==null&&(Mn===null?Mn=y:Mn.push.apply(Mn,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){Ko(s,0),Cr(s,r,0,!0);break}e:{switch(u=s,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Cr(u,r,Yn,!wr);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Xh+300-ft(),10<m)){if(Cr(u,r,Yn,!wr),qs(u,0,!0)!==0)break e;zi=r,u.timeoutHandle=b_(qx.bind(null,u,o,Mn,Jh,_p,r,Yn,La,Go,wr,y,"Throttled",-0,0),m);break e}qx(u,o,Mn,Jh,_p,r,Yn,La,Go,wr,y,null,-0,0)}}break}while(!0);oi(s)}function qx(s,r,o,u,m,y,T,A,U,Y,te,ie,X,Z){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ws},jx(r,y,ie);var pe=(y&62914560)===y?Xh-ft():(y&4194048)===y?Ux-ft():0;if(pe=zN(ie,pe),pe!==null){zi=y,s.cancelPendingCommit=pe(Wx.bind(null,s,r,y,o,u,m,T,A,U,te,ie,null,X,Z)),Cr(s,y,T,!Y);return}}Wx(s,r,y,o,u,m,T,A,U)}function nN(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],y=m.getSnapshot;m=m.value;try{if(!qn(y(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cr(s,r,o,u){r&=~xp,r&=~La,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var y=31-Nt(m),T=1<<y;u[y]=-1,m&=~T}o!==0&&fa(s,o,r)}function Zh(){return(st&6)===0?(Mc(0),!1):!0}function Sp(){if(Fe!==null){if(at===0)var s=Fe.return;else s=Fe,Ni=Na=null,Bm(s),Po=null,pc=0,s=Fe;for(;s!==null;)xx(s.alternate,s),s=s.return;Fe=null}}function Ko(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,TN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),zi=0,Sp(),dt=s,Fe=o=Ci(s.current,null),He=r,at=0,Kn=null,wr=!1,Ho=xs(s,r),bp=!1,Go=Yn=xp=La=Er=At=0,Mn=Dc=null,_p=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-Nt(u),y=1<<m;r|=s[m],u&=~y}return Ui=r,xh(),o}function Hx(s,r){Le=null,W.H=wc,r===Vo||r===Rh?(r=ab(),at=3):r===Nm?(r=ab(),at=4):at=r===sp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Kn=r,Fe===null&&(At=1,Fh(s,as(r,s.current)))}function Gx(){var s=Gn.current;return s===null?!0:(He&4194048)===He?us===null:(He&62914560)===He||(He&536870912)!==0?s===us:!1}function $x(){var s=W.H;return W.H=wc,s===null?wc:s}function Kx(){var s=W.A;return W.A=eN,s}function ed(){At=4,wr||(He&4194048)!==He&&Gn.current!==null||(Ho=!0),(Er&134217727)===0&&(La&134217727)===0||dt===null||Cr(dt,He,Yn,!1)}function Ap(s,r,o){var u=st;st|=2;var m=$x(),y=Kx();(dt!==s||He!==r)&&(Jh=null,Ko(s,r)),r=!1;var T=At;e:do try{if(at!==0&&Fe!==null){var A=Fe,U=Kn;switch(at){case 8:Sp(),T=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(r=!0);var Y=at;if(at=0,Kn=null,Yo(s,A,U,Y),o&&Ho){T=0;break e}break;default:Y=at,at=0,Kn=null,Yo(s,A,U,Y)}}sN(),T=At;break}catch(te){Hx(s,te)}while(!0);return r&&s.shellSuspendCounter++,Ni=Na=null,st=u,W.H=m,W.A=y,Fe===null&&(dt=null,He=0,xh()),T}function sN(){for(;Fe!==null;)Yx(Fe)}function iN(s,r){var o=st;st|=2;var u=$x(),m=Kx();dt!==s||He!==r?(Jh=null,Wh=ft()+500,Ko(s,r)):Ho=xs(s,r);e:do try{if(at!==0&&Fe!==null){r=Fe;var y=Kn;t:switch(at){case 1:at=0,Kn=null,Yo(s,r,y,1);break;case 2:case 9:if(ib(y)){at=0,Kn=null,Qx(r);break}r=function(){at!==2&&at!==9||dt!==s||(at=7),oi(s)},y.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:ib(y)?(at=0,Kn=null,Qx(r)):(at=0,Kn=null,Yo(s,r,y,7));break;case 5:var T=null;switch(Fe.tag){case 26:T=Fe.memoizedState;case 5:case 27:var A=Fe;if(T?k_(T):A.stateNode.complete){at=0,Kn=null;var U=A.sibling;if(U!==null)Fe=U;else{var Y=A.return;Y!==null?(Fe=Y,td(Y)):Fe=null}break t}}at=0,Kn=null,Yo(s,r,y,5);break;case 6:at=0,Kn=null,Yo(s,r,y,6);break;case 8:Sp(),At=6;break e;default:throw Error(i(462))}}rN();break}catch(te){Hx(s,te)}while(!0);return Ni=Na=null,W.H=u,W.A=m,st=o,Fe!==null?0:(dt=null,He=0,xh(),At)}function rN(){for(;Fe!==null&&!nn();)Yx(Fe)}function Yx(s){var r=vx(s.alternate,s,Ui);s.memoizedProps=s.pendingProps,r===null?td(s):Fe=r}function Qx(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=dx(o,r,r.pendingProps,r.type,void 0,He);break;case 11:r=dx(o,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:Bm(r);default:xx(o,r),r=Fe=Kv(r,Ui),r=vx(o,r,Ui)}s.memoizedProps=s.pendingProps,r===null?td(s):Fe=r}function Yo(s,r,o,u){Ni=Na=null,Bm(r),Po=null,pc=0;var m=r.return;try{if(KR(s,m,r,o,He)){At=1,Fh(s,as(o,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;At=1,Fh(s,as(o,s.current)),Fe=null;return}r.flags&32768?(Qe||u===1?s=!0:Ho||(He&536870912)!==0?s=!1:(wr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Xx(r,s)):td(r)}function td(s){var r=s;do{if((r.flags&32768)!==0){Xx(r,wr);return}s=r.return;var o=XR(r.alternate,r,Ui);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=s}while(r!==null);At===0&&(At=5)}function Xx(s,r){do{var o=WR(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);At=6,Fe=null}function Wx(s,r,o,u,m,y,T,A,U){s.cancelPendingCommit=null;do nd();while(Kt!==0);if((st&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(y=r.lanes|r.childLanes,y|=mm,rm(s,o,y,T,A,U),s===dt&&(Fe=dt=null,He=0),$o=r,Ar=s,zi=o,Tp=y,wp=m,zx=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,cN(zn,function(){return n_(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,m=le.p,le.p=2,T=st,st|=4;try{JR(s,r,o)}finally{st=T,le.p=m,W.T=u}}Kt=1,Jx(),Zx(),e_()}}function Jx(){if(Kt===1){Kt=0;var s=Ar,r=$o,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=le.p;le.p=2;var m=st;st|=4;try{Ox(r,s);var y=Lp,T=Lv(s.containerInfo),A=y.focusedElem,U=y.selectionRange;if(T!==A&&A&&A.ownerDocument&&Pv(A.ownerDocument.documentElement,A)){if(U!==null&&cm(A)){var Y=U.start,te=U.end;if(te===void 0&&(te=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(te,A.value.length);else{var ie=A.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Z=X.getSelection(),pe=A.textContent.length,Se=Math.min(U.start,pe),ht=U.end===void 0?Se:Math.min(U.end,pe);!Z.extend&&Se>ht&&(T=ht,ht=Se,Se=T);var H=Vv(A,Se),F=Vv(A,ht);if(H&&F&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var K=ie.createRange();K.setStart(H.node,H.offset),Z.removeAllRanges(),Se>ht?(Z.addRange(K),Z.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),Z.addRange(K))}}}}for(ie=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var se=ie[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}md=!!Pp,Lp=Pp=null}finally{st=m,le.p=u,W.T=o}}s.current=r,Kt=2}}function Zx(){if(Kt===2){Kt=0;var s=Ar,r=$o,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=le.p;le.p=2;var m=st;st|=4;try{Cx(s,r.alternate,r)}finally{st=m,le.p=u,W.T=o}}Kt=3}}function e_(){if(Kt===4||Kt===3){Kt=0,Un();var s=Ar,r=$o,o=zi,u=zx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,$o=Ar=null,t_(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Sr=null),wi(o),r=r.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(bs,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,m=le.p,le.p=2,W.T=null;try{for(var y=s.onRecoverableError,T=0;T<u.length;T++){var A=u[T];y(A.value,{componentStack:A.stack})}}finally{W.T=r,le.p=m}}(zi&3)!==0&&nd(),oi(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===Ep?Oc++:(Oc=0,Ep=s):Oc=0,Mc(0)}}function t_(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,fc(r)))}function nd(){return Jx(),Zx(),e_(),n_()}function n_(){if(Kt!==5)return!1;var s=Ar,r=Tp;Tp=0;var o=wi(zi),u=W.T,m=le.p;try{le.p=32>o?32:o,W.T=null,o=wp,wp=null;var y=Ar,T=zi;if(Kt=0,$o=Ar=null,zi=0,(st&6)!==0)throw Error(i(331));var A=st;if(st|=4,Px(y.current),kx(y,y.current,T,o),st=A,Mc(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(bs,y)}catch{}return!0}finally{le.p=m,W.T=u,t_(s,r)}}function s_(s,r,o){r=as(o,r),r=np(s.stateNode,r,2),s=br(s,r,2),s!==null&&(da(s,2),oi(s))}function ot(s,r,o){if(s.tag===3)s_(s,s,o);else for(;r!==null;){if(r.tag===3){s_(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sr===null||!Sr.has(u))){s=as(o,s),o=ix(2),u=br(r,o,2),u!==null&&(rx(o,u,r,s),da(u,2),oi(u));break}}r=r.return}}function Cp(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new tN;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(bp=!0,m.add(o),s=aN.bind(null,s,r,o),r.then(s,s))}function aN(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,dt===s&&(He&o)===o&&(At===4||At===3&&(He&62914560)===He&&300>ft()-Xh?(st&2)===0&&Ko(s,0):xp|=o,Go===He&&(Go=0)),oi(s)}function i_(s,r){r===0&&(r=Ju()),s=Aa(s,r),s!==null&&(da(s,r),oi(s))}function oN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),i_(s,o)}function lN(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),i_(s,o)}function cN(s,r){return Xe(s,r)}var sd=null,Qo=null,Rp=!1,id=!1,Np=!1,Rr=0;function oi(s){s!==Qo&&s.next===null&&(Qo===null?sd=Qo=s:Qo=Qo.next=s),id=!0,Rp||(Rp=!0,hN())}function Mc(s,r){if(!Np&&id){Np=!0;do for(var o=!1,u=sd;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var T=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-Nt(42|s)+1)-1,y&=m&~(T&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,l_(u,y))}else y=He,y=qs(u,u===dt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||xs(u,y)||(o=!0,l_(u,y));u=u.next}while(o);Np=!1}}function uN(){r_()}function r_(){id=Rp=!1;var s=0;Rr!==0&&_N()&&(s=Rr);for(var r=ft(),o=null,u=sd;u!==null;){var m=u.next,y=a_(u,r);y===0?(u.next=null,o===null?sd=m:o.next=m,m===null&&(Qo=o)):(o=u,(s!==0||(y&3)!==0)&&(id=!0)),u=m}Kt!==0&&Kt!==5||Mc(s),Rr!==0&&(Rr=0)}function a_(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-Nt(y),A=1<<T,U=m[T];U===-1?((A&o)===0||(A&u)!==0)&&(m[T]=im(A,r)):U<=r&&(s.expiredLanes|=A),y&=~A}if(r=dt,o=He,o=qs(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(at===2||at===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Rt(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||xs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&Rt(u),wi(o)){case 2:case 8:o=vs;break;case 32:o=zn;break;case 268435456:o=sr;break;default:o=zn}return u=o_.bind(null,s),o=Xe(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&Rt(u),s.callbackPriority=2,s.callbackNode=null,2}function o_(s,r){if(Kt!==0&&Kt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(nd()&&s.callbackNode!==o)return null;var u=He;return u=qs(s,s===dt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Fx(s,u,r),a_(s,ft()),s.callbackNode!=null&&s.callbackNode===o?o_.bind(null,s):null)}function l_(s,r){if(nd())return null;Fx(s,r,!0)}function hN(){wN(function(){(st&6)!==0?Xe(ca,uN):r_()})}function Ip(){if(Rr===0){var s=ko;s===0&&(s=Bs,Bs<<=1,(Bs&261888)===0&&(Bs=256)),Rr=s}return Rr}function c_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:bo(""+s)}function u_(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function dN(s,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var y=c_((m[Jt]||null).action),T=u.submitter;T&&(r=(r=T[Jt]||null)?c_(r.formAction):T.getAttribute("formAction"),r!==null&&(y=r,T=null));var A=new ei("action","action",null,u,m);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Rr!==0){var U=T?u_(m,T):new FormData(m);Xm(o,{pending:!0,data:U,method:m.method,action:y},null,U)}}else typeof y=="function"&&(A.preventDefault(),U=T?u_(m,T):new FormData(m),Xm(o,{pending:!0,data:U,method:m.method,action:y},y,U))},currentTarget:m}]})}}for(var Dp=0;Dp<fm.length;Dp++){var Op=fm[Dp],fN=Op.toLowerCase(),mN=Op[0].toUpperCase()+Op.slice(1);Rs(fN,"on"+mN)}Rs(Bv,"onAnimationEnd"),Rs(Fv,"onAnimationIteration"),Rs(qv,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(IR,"onTransitionRun"),Rs(DR,"onTransitionStart"),Rs(OR,"onTransitionCancel"),Rs(Hv,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kc));function h_(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],m=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var T=u.length-1;0<=T;T--){var A=u[T],U=A.instance,Y=A.currentTarget;if(A=A.listener,U!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Y;try{y(m)}catch(te){bh(te)}m.currentTarget=null,y=U}else for(T=0;T<u.length;T++){if(A=u[T],U=A.instance,Y=A.currentTarget,A=A.listener,U!==y&&m.isPropagationStopped())break e;y=A,m.currentTarget=Y;try{y(m)}catch(te){bh(te)}m.currentTarget=null,y=U}}}}function qe(s,r){var o=r[mo];o===void 0&&(o=r[mo]=new Set);var u=s+"__bubble";o.has(u)||(d_(r,s,2,!1),o.add(u))}function Mp(s,r,o){var u=0;r&&(u|=4),d_(o,s,u,r)}var rd="_reactListening"+Math.random().toString(36).slice(2);function kp(s){if(!s[rd]){s[rd]=!0,$l.forEach(function(o){o!=="selectionchange"&&(pN.has(o)||Mp(o,!1,s),Mp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[rd]||(r[rd]=!0,Mp("selectionchange",!1,r))}}function d_(s,r,o,u){switch(B_(r)){case 2:var m=qN;break;case 8:m=HN;break;default:m=Qp}o=m.bind(null,r,o,s),m=void 0,!va||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function jp(s,r,o,u,m){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===m)break;if(T===4)for(T=u.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;A!==null;){if(T=Ks(A),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){u=y=T;continue e}A=A.parentNode}}u=u.return}cr(function(){var Y=y,te=ns(o),ie=[];e:{var X=Gv.get(s);if(X!==void 0){var Z=ei,pe=s;switch(s){case"keypress":if(xa(o)===0)break e;case"keydown":case"keyup":Z=gh;break;case"focusin":pe="focus",Z=Ta;break;case"focusout":pe="blur",Z=Ta;break;case"beforeblur":case"afterblur":Z=Ta;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=x;break;case Bv:case Fv:case qv:Z=ch;break;case Hv:Z=R;break;case"scroll":case"scrollend":Z=ic;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ai;break;case"toggle":case"beforetoggle":Z=Pe}var Se=(r&4)!==0,ht=!Se&&(s==="scroll"||s==="scrollend"),H=Se?X!==null?X+"Capture":null:X;Se=[];for(var F=Y,K;F!==null;){var se=F;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||H===null||(se=Es(F,H),se!=null&&Se.push(jc(F,se,K))),ht)break;F=F.return}0<Se.length&&(X=new Z(X,pe,null,o,te),ie.push({event:X,listeners:Se}))}}if((r&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",X&&o!==tc&&(pe=o.relatedTarget||o.fromElement)&&(Ks(pe)||pe[Gs]))break e;if((Z||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(pe=o.relatedTarget||o.toElement,Z=Y,pe=pe?Ks(pe):null,pe!==null&&(ht=l(pe),Se=pe.tag,pe!==ht||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(Z=null,pe=Y),Z!==pe)){if(Se=rc,se="onMouseLeave",H="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Se=Ai,se="onPointerLeave",H="onPointerEnter",F="pointer"),ht=Z==null?X:Bn(Z),K=pe==null?X:Bn(pe),X=new Se(se,F+"leave",Z,o,te),X.target=ht,X.relatedTarget=K,se=null,Ks(te)===Y&&(Se=new Se(H,F+"enter",pe,o,te),Se.target=K,Se.relatedTarget=ht,se=Se),ht=se,Z&&pe)t:{for(Se=gN,H=Z,F=pe,K=0,se=H;se;se=Se(se))K++;se=0;for(var _e=F;_e;_e=Se(_e))se++;for(;0<K-se;)H=Se(H),K--;for(;0<se-K;)F=Se(F),se--;for(;K--;){if(H===F||F!==null&&H===F.alternate){Se=H;break t}H=Se(H),F=Se(F)}Se=null}else Se=null;Z!==null&&f_(ie,X,Z,Se,!1),pe!==null&&ht!==null&&f_(ie,ht,pe,Se,!0)}}e:{if(X=Y?Bn(Y):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var Ze=Iv;else if(Rv(X))if(Dv)Ze=CR;else{Ze=SR;var be=ER}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&vo(Y.elementType)&&(Ze=Iv):Ze=AR;if(Ze&&(Ze=Ze(s,Y))){Nv(ie,Ze,o,te);break e}be&&be(s,X,Y),s==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Jl(X,"number",X.value)}switch(be=Y?Bn(Y):window,s){case"focusin":(Rv(be)||be.contentEditable==="true")&&(Ao=be,um=Y,uc=null);break;case"focusout":uc=um=Ao=null;break;case"mousedown":hm=!0;break;case"contextmenu":case"mouseup":case"dragend":hm=!1,Uv(ie,o,te);break;case"selectionchange":if(NR)break;case"keydown":case"keyup":Uv(ie,o,te)}var ze;if(nt)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else So?wa(s,o)&&(Ge="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(si&&o.locale!=="ko"&&(So||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&So&&(ze=sc()):(Zs=te,nc="value"in Zs?Zs.value:Zs.textContent,So=!0)),be=ad(Y,Ge),0<be.length&&(Ge=new ni(Ge,s,null,o,te),ie.push({event:Ge,listeners:be}),ze?Ge.data=ze:(ze=Eo(o),ze!==null&&(Ge.data=ze)))),(ze=is?xR(s,o):_R(s,o))&&(Ge=ad(Y,"onBeforeInput"),0<Ge.length&&(be=new ni("onBeforeInput","beforeinput",null,o,te),ie.push({event:be,listeners:Ge}),be.data=ze)),dN(ie,s,Y,o,te)}h_(ie,r)})}function jc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function ad(s,r){for(var o=r+"Capture",u=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Es(s,o),m!=null&&u.unshift(jc(s,m,y)),m=Es(s,r),m!=null&&u.push(jc(s,m,y))),s.tag===3)return u;s=s.return}return[]}function gN(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function f_(s,r,o,u,m){for(var y=r._reactName,T=[];o!==null&&o!==u;){var A=o,U=A.alternate,Y=A.stateNode;if(A=A.tag,U!==null&&U===u)break;A!==5&&A!==26&&A!==27||Y===null||(U=Y,m?(Y=Es(o,y),Y!=null&&T.unshift(jc(o,Y,U))):m||(Y=Es(o,y),Y!=null&&T.push(jc(o,Y,U)))),o=o.return}T.length!==0&&s.push({event:r,listeners:T})}var yN=/\r\n?/g,vN=/\u0000|\uFFFD/g;function m_(s){return(typeof s=="string"?s:""+s).replace(yN,`
`).replace(vN,"")}function p_(s,r){return r=m_(r),m_(s)===r}function ut(s,r,o,u,m,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Nn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Nn(s,""+u);break;case"className":Fn(s,"class",u);break;case"tabIndex":Fn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(s,o,u);break;case"style":ec(s,u,y);break;case"data":if(r!=="object"){Fn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=bo(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&ut(s,r,"name",m.name,m,null),ut(s,r,"formEncType",m.formEncType,m,null),ut(s,r,"formMethod",m.formMethod,m,null),ut(s,r,"formTarget",m.formTarget,m,null)):(ut(s,r,"encType",m.encType,m,null),ut(s,r,"method",m.method,m,null),ut(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=bo(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=ws);break;case"onScroll":u!=null&&qe("scroll",s);break;case"onScrollEnd":u!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=bo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":qe("beforetoggle",s),qe("toggle",s),go(s,"popover",u);break;case"xlinkActuate":Pt(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pt(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pt(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pt(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pt(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pt(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":go(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ah.get(o)||o,go(s,o,u))}}function Vp(s,r,o,u,m,y){switch(o){case"style":ec(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Nn(s,u):(typeof u=="number"||typeof u=="bigint")&&Nn(s,""+u);break;case"onScroll":u!=null&&qe("scroll",s);break;case"onScrollEnd":u!=null&&qe("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),y=s[Jt]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(r,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,m);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):go(s,o,u)}}}function cn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var u=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ut(s,r,y,T,o,null)}}m&&ut(s,r,"srcSet",o.srcSet,o,null),u&&ut(s,r,"src",o.src,o,null);return;case"input":qe("invalid",s);var A=y=T=m=null,U=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":m=te;break;case"type":T=te;break;case"checked":U=te;break;case"defaultChecked":Y=te;break;case"value":y=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:ut(s,r,u,te,o,null)}}sh(s,y,A,U,Y,T,m,!1);return;case"select":qe("invalid",s),u=T=y=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":y=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:ut(s,r,m,A,o,null)}r=y,o=T,s.multiple=!!u,r!=null?rr(s,!!u,r,!1):o!=null&&rr(s,!!u,o,!0);return;case"textarea":qe("invalid",s),y=m=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":m=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ut(s,r,T,A,o,null)}ar(s,u,m,y);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ut(s,r,U,u,o,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(u=0;u<kc.length;u++)qe(kc[u],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ut(s,r,Y,u,o,null)}return;default:if(vo(r)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&Vp(s,r,te,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ut(s,r,A,u,o,null))}function bN(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,A=null,U=null,Y=null,te=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":U=ie;default:u.hasOwnProperty(Z)||ut(s,r,Z,null,u,ie)}}for(var X in u){var Z=u[X];if(ie=o[X],u.hasOwnProperty(X)&&(Z!=null||ie!=null))switch(X){case"type":y=Z;break;case"name":m=Z;break;case"checked":Y=Z;break;case"defaultChecked":te=Z;break;case"value":T=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:Z!==ie&&ut(s,r,X,Z,u,ie)}}yo(s,T,A,U,Y,te,y,m);return;case"select":Z=T=A=X=null;for(y in o)if(U=o[y],o.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":Z=U;default:u.hasOwnProperty(y)||ut(s,r,y,null,u,U)}for(m in u)if(y=u[m],U=o[m],u.hasOwnProperty(m)&&(y!=null||U!=null))switch(m){case"value":X=y;break;case"defaultValue":A=y;break;case"multiple":T=y;default:y!==U&&ut(s,r,m,y,u,U)}r=A,o=T,u=Z,X!=null?rr(s,!!o,X,!1):!!u!=!!o&&(r!=null?rr(s,!!o,r,!0):rr(s,!!o,o?[]:"",!1));return;case"textarea":Z=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(s,r,A,null,u,m)}for(T in u)if(m=u[T],y=o[T],u.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":X=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&ut(s,r,T,m,u,y)}ih(s,X,Z);return;case"option":for(var pe in o)if(X=o[pe],o.hasOwnProperty(pe)&&X!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":s.selected=!1;break;default:ut(s,r,pe,null,u,X)}for(U in u)if(X=u[U],Z=o[U],u.hasOwnProperty(U)&&X!==Z&&(X!=null||Z!=null))switch(U){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ut(s,r,U,X,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)X=o[Se],o.hasOwnProperty(Se)&&X!=null&&!u.hasOwnProperty(Se)&&ut(s,r,Se,null,u,X);for(Y in u)if(X=u[Y],Z=o[Y],u.hasOwnProperty(Y)&&X!==Z&&(X!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:ut(s,r,Y,X,u,Z)}return;default:if(vo(r)){for(var ht in o)X=o[ht],o.hasOwnProperty(ht)&&X!==void 0&&!u.hasOwnProperty(ht)&&Vp(s,r,ht,void 0,u,X);for(te in u)X=u[te],Z=o[te],!u.hasOwnProperty(te)||X===Z||X===void 0&&Z===void 0||Vp(s,r,te,X,u,Z);return}}for(var H in o)X=o[H],o.hasOwnProperty(H)&&X!=null&&!u.hasOwnProperty(H)&&ut(s,r,H,null,u,X);for(ie in u)X=u[ie],Z=o[ie],!u.hasOwnProperty(ie)||X===Z||X==null&&Z==null||ut(s,r,ie,X,u,Z)}function g_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xN(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],y=m.transferSize,T=m.initiatorType,A=m.duration;if(y&&A&&g_(T)){for(T=0,A=m.responseEnd,u+=1;u<o.length;u++){var U=o[u],Y=U.startTime;if(Y>A)break;var te=U.transferSize,ie=U.initiatorType;te&&g_(ie)&&(U=U.responseEnd,T+=te*(U<A?1:(A-Y)/(U-Y)))}if(--u,r+=8*(y+T)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Pp=null,Lp=null;function od(s){return s.nodeType===9?s:s.ownerDocument}function y_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Up(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var zp=null;function _N(){var s=window.event;return s&&s.type==="popstate"?s===zp?!1:(zp=s,!0):(zp=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,TN=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,wN=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(s){return x_.resolve(null).then(s).catch(EN)}:b_;function EN(s){setTimeout(function(){throw s})}function Nr(s){return s==="head"}function __(s,r){var o=r,u=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(m),Zo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Vc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Vc(o);for(var y=o.firstChild;y;){var T=y.nextSibling,A=y.nodeName;y[$s]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=T}}else o==="body"&&Vc(s.ownerDocument.body);o=m}while(o);Zo(r)}function T_(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function Bp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bp(o),po(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function SN(s,r,o,u){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[$s])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=hs(s.nextSibling),s===null)break}return null}function AN(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=hs(s.nextSibling),s===null))return null;return s}function w_(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=hs(s.nextSibling),s===null))return null;return s}function Fp(s){return s.data==="$?"||s.data==="$~"}function qp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function CN(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function hs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Hp=null;function E_(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return hs(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function S_(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function A_(s,r,o){switch(r=od(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Vc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);po(s)}var ds=new Map,C_=new Set;function ld(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Bi=le.d;le.d={f:RN,r:NN,D:IN,C:DN,L:ON,m:MN,X:jN,S:kN,M:VN};function RN(){var s=Bi.f(),r=Zh();return s||r}function NN(s){var r=ts(s);r!==null&&r.tag===5&&r.type==="form"?Hb(r):Bi.r(s)}var Xo=typeof document>"u"?null:document;function R_(s,r,o){var u=Xo;if(u&&typeof r=="string"&&r){var m=Rn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),C_.has(m)||(C_.add(m),s={rel:s,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),cn(r,"link",s),Vt(r),u.head.appendChild(r)))}}function IN(s){Bi.D(s),R_("dns-prefetch",s,null)}function DN(s,r){Bi.C(s,r),R_("preconnect",s,r)}function ON(s,r,o){Bi.L(s,r,o);var u=Xo;if(u&&s&&r){var m='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Rn(o.imageSizes)+'"]')):m+='[href="'+Rn(s)+'"]';var y=m;switch(r){case"style":y=Wo(s);break;case"script":y=Jo(s)}ds.has(y)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ds.set(y,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(Pc(y))||r==="script"&&u.querySelector(Lc(y))||(r=u.createElement("link"),cn(r,"link",s),Vt(r),u.head.appendChild(r)))}}function MN(s,r){Bi.m(s,r);var o=Xo;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Rn(u)+'"][href="'+Rn(s)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Jo(s)}if(!ds.has(y)&&(s=b({rel:"modulepreload",href:s},r),ds.set(y,s),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Lc(y)))return}u=o.createElement("link"),cn(u,"link",s),Vt(u),o.head.appendChild(u)}}}function kN(s,r,o){Bi.S(s,r,o);var u=Xo;if(u&&s){var m=Ys(u).hoistableStyles,y=Wo(s);r=r||"default";var T=m.get(y);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(Pc(y)))A.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ds.get(y))&&Gp(s,o);var U=T=u.createElement("link");Vt(U),cn(U,"link",s),U._p=new Promise(function(Y,te){U.onload=Y,U.onerror=te}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,cd(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:A},m.set(y,T)}}}function jN(s,r){Bi.X(s,r);var o=Xo;if(o&&s){var u=Ys(o).hoistableScripts,m=Jo(s),y=u.get(m);y||(y=o.querySelector(Lc(m)),y||(s=b({src:s,async:!0},r),(r=ds.get(m))&&$p(s,r),y=o.createElement("script"),Vt(y),cn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function VN(s,r){Bi.M(s,r);var o=Xo;if(o&&s){var u=Ys(o).hoistableScripts,m=Jo(s),y=u.get(m);y||(y=o.querySelector(Lc(m)),y||(s=b({src:s,async:!0,type:"module"},r),(r=ds.get(m))&&$p(s,r),y=o.createElement("script"),Vt(y),cn(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function N_(s,r,o,u){var m=(m=De.current)?ld(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Wo(o.href),o=Ys(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Wo(o.href);var y=Ys(m).hoistableStyles,T=y.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=m.querySelector(Pc(s)))&&!y._p&&(T.instance=y,T.state.loading=5),ds.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ds.set(s,o),y||PN(m,s,o,T.state))),r&&u===null)throw Error(i(528,""));return T}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Jo(o),o=Ys(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Wo(s){return'href="'+Rn(s)+'"'}function Pc(s){return'link[rel="stylesheet"]['+s+"]"}function I_(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function PN(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),cn(r,"link",o),Vt(r),s.head.appendChild(r))}function Jo(s){return'[src="'+Rn(s)+'"]'}function Lc(s){return"script[async]"+s}function D_(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+Rn(o.href)+'"]');if(u)return r.instance=u,Vt(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Vt(u),cn(u,"style",m),cd(u,o.precedence,s),r.instance=u;case"stylesheet":m=Wo(o.href);var y=s.querySelector(Pc(m));if(y)return r.state.loading|=4,r.instance=y,Vt(y),y;u=I_(o),(m=ds.get(m))&&Gp(u,m),y=(s.ownerDocument||s).createElement("link"),Vt(y);var T=y;return T._p=new Promise(function(A,U){T.onload=A,T.onerror=U}),cn(y,"link",u),r.state.loading|=4,cd(y,o.precedence,s),r.instance=y;case"script":return y=Jo(o.src),(m=s.querySelector(Lc(y)))?(r.instance=m,Vt(m),m):(u=o,(m=ds.get(y))&&(u=b({},o),$p(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Vt(m),cn(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,cd(u,o.precedence,s));return r.instance}function cd(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===r)y=A;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Gp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function $p(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var ud=null;function O_(s,r,o){if(ud===null){var u=new Map,m=ud=new Map;m.set(o,u)}else m=ud,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var y=o[m];if(!(y[$s]||y[jt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(r)||"";T=s+T;var A=u.get(T);A?A.push(y):u.set(T,[y])}}return u}function M_(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function LN(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function k_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function UN(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Wo(u.href),y=r.querySelector(Pc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=hd.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=y,Vt(y);return}y=r.ownerDocument||r,u=I_(u),(m=ds.get(m))&&Gp(u,m),y=y.createElement("link"),Vt(y);var T=y;T._p=new Promise(function(A,U){T.onload=A,T.onerror=U}),cn(y,"link",u),o.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=hd.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Kp=0;function zN(s,r){return s.stylesheets&&s.count===0&&fd(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&fd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+r);0<s.imgBytes&&Kp===0&&(Kp=62500*xN());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&fd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Kp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var dd=null;function fd(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,dd=new Map,r.forEach(BN,s),dd=null,hd.call(s))}function BN(s,r){if(!(r.state.loading&4)){var o=dd.get(s);if(o)var u=o.get(null);else{o=new Map,dd.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}m=r.instance,T=m.getAttribute("data-precedence"),y=o.get(T)||u,y===u&&o.set(null,m),o.set(T,m),this.count++,u=hd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Uc={$$typeof:L,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function FN(s,r,o,u,m,y,T,A,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.hiddenUpdates=Hs(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function j_(s,r,o,u,m,y,T,A,U,Y,te,ie){return s=new FN(s,r,o,T,U,Y,te,ie,A),r=1,y===!0&&(r|=24),y=Hn(3,null,null,r),s.current=y,y.stateNode=s,r=Am(),r.refCount++,s.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Im(y),s}function V_(s){return s?(s=No,s):No}function P_(s,r,o,u,m,y){m=V_(m),u.context===null?u.context=m:u.pendingContext=m,u=vr(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=br(s,u,r),o!==null&&(kn(o,s,r),yc(o,s,r))}function L_(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Yp(s,r){L_(s,r),(s=s.alternate)&&L_(s,r)}function U_(s){if(s.tag===13||s.tag===31){var r=Aa(s,67108864);r!==null&&kn(r,s,67108864),Yp(s,67108864)}}function z_(s){if(s.tag===13||s.tag===31){var r=Qn();r=ma(r);var o=Aa(s,r);o!==null&&kn(o,s,r),Yp(s,r)}}var md=!0;function qN(s,r,o,u){var m=W.T;W.T=null;var y=le.p;try{le.p=2,Qp(s,r,o,u)}finally{le.p=y,W.T=m}}function HN(s,r,o,u){var m=W.T;W.T=null;var y=le.p;try{le.p=8,Qp(s,r,o,u)}finally{le.p=y,W.T=m}}function Qp(s,r,o,u){if(md){var m=Xp(u);if(m===null)jp(s,r,u,pd,o),F_(s,u);else if($N(m,s,r,o,u))u.stopPropagation();else if(F_(s,u),r&4&&-1<GN.indexOf(s)){for(;m!==null;){var y=ts(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Fs(y.pendingLanes);if(T!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var U=1<<31-Nt(T);A.entanglements[1]|=U,T&=~U}oi(y),(st&6)===0&&(Wh=ft()+500,Mc(0))}}break;case 31:case 13:A=Aa(y,2),A!==null&&kn(A,y,2),Zh(),Yp(y,2)}if(y=Xp(u),y===null&&jp(s,r,u,pd,o),y===m)break;m=y}m!==null&&u.stopPropagation()}else jp(s,r,u,null,o)}}function Xp(s){return s=ns(s),Wp(s)}var pd=null;function Wp(s){if(pd=null,s=Ks(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=d(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return pd=s,null}function B_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case ca:return 2;case vs:return 8;case zn:case ua:return 32;case sr:return 268435456;default:return 32}default:return 32}}var Jp=!1,Ir=null,Dr=null,Or=null,zc=new Map,Bc=new Map,Mr=[],GN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(s,r){switch(s){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":zc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(r.pointerId)}}function Fc(s,r,o,u,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},r!==null&&(r=ts(r),r!==null&&U_(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function $N(s,r,o,u,m){switch(r){case"focusin":return Ir=Fc(Ir,s,r,o,u,m),!0;case"dragenter":return Dr=Fc(Dr,s,r,o,u,m),!0;case"mouseover":return Or=Fc(Or,s,r,o,u,m),!0;case"pointerover":var y=m.pointerId;return zc.set(y,Fc(zc.get(y)||null,s,r,o,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Bc.set(y,Fc(Bc.get(y)||null,s,r,o,u,m)),!0}return!1}function q_(s){var r=Ks(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,_s(s.priority,function(){z_(o)});return}}else if(r===31){if(r=d(o),r!==null){s.blockedOn=r,_s(s.priority,function(){z_(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Xp(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);tc=u,o.target.dispatchEvent(u),tc=null}else return r=ts(o),r!==null&&U_(r),s.blockedOn=o,!1;r.shift()}return!0}function H_(s,r,o){gd(s)&&o.delete(r)}function KN(){Jp=!1,Ir!==null&&gd(Ir)&&(Ir=null),Dr!==null&&gd(Dr)&&(Dr=null),Or!==null&&gd(Or)&&(Or=null),zc.forEach(H_),Bc.forEach(H_)}function yd(s,r){s.blockedOn===r&&(s.blockedOn=null,Jp||(Jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KN)))}var vd=null;function G_(s){vd!==s&&(vd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vd===s&&(vd=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(Wp(u||o)===null)continue;break}var y=ts(o);y!==null&&(s.splice(r,3),r-=3,Xm(y,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Zo(s){function r(U){return yd(U,s)}Ir!==null&&yd(Ir,s),Dr!==null&&yd(Dr,s),Or!==null&&yd(Or,s),zc.forEach(r),Bc.forEach(r);for(var o=0;o<Mr.length;o++){var u=Mr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Mr.length&&(o=Mr[0],o.blockedOn===null);)q_(o),o.blockedOn===null&&Mr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],T=m[Jt]||null;if(typeof y=="function")T||G_(o);else if(T){var A=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[Jt]||null)A=T.formAction;else if(Wp(m)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),G_(o)}}}function $_(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Zp(s){this._internalRoot=s}bd.prototype.render=Zp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Qn();P_(o,u,s,r,null,null)},bd.prototype.unmount=Zp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;P_(s.current,2,null,s,null,null),Zh(),r[Gs]=null}};function bd(s){this._internalRoot=s}bd.prototype.unstable_scheduleHydration=function(s){if(s){var r=Zu();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Mr.length&&r!==0&&r<Mr[o].priority;o++);Mr.splice(o,0,s),o===0&&q_(s)}};var K_=e.version;if(K_!=="19.2.3")throw Error(i(527,K_,"19.2.3"));le.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?v(s):null,s=s===null?null:s.stateNode,s};var YN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{bs=xd.inject(YN),sn=xd}catch{}}return Hc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",m=ex,y=tx,T=nx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=j_(s,1,!1,null,null,o,u,null,m,y,T,$_),s[Gs]=r.current,kp(s),new Zp(r)},Hc.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,m="",y=ex,T=tx,A=nx,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=j_(s,1,!0,r,o??null,u,m,U,y,T,A,$_),r.context=V_(null),o=r.current,u=Qn(),u=ma(u),m=vr(u),m.callback=null,br(o,m,u),o=u,r.current.lanes=o,da(r,o),oi(r),s[Gs]=r.current,kp(s),new bd(r)},Hc.version="19.2.3",Hc}var sT;function rI(){if(sT)return ng.exports;sT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ng.exports=iI(),ng.exports}var aI=rI();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iT="popstate";function oI(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return qg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:pu(a)}return cI(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ls(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lI(){return Math.random().toString(36).substring(2,10)}function rT(t,e){return{usr:t.state,key:t.key,idx:e}}function qg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:n,key:e&&e.key||i||lI()}}function pu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function cI(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",f=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let j=v(),z=j==null?null:j-p;p=j,f&&f({action:d,location:V.location,delta:z})}function _(j,z){d="PUSH";let q=qg(V.location,j,z);p=v()+1;let L=rT(q,p),$=V.createHref(q);try{c.pushState(L,"",$)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign($)}l&&f&&f({action:d,location:V.location,delta:1})}function S(j,z){d="REPLACE";let q=qg(V.location,j,z);p=v();let L=rT(q,p),$=V.createHref(q);c.replaceState(L,"",$),l&&f&&f({action:d,location:V.location,delta:0})}function k(j){return uI(j)}let V={get action(){return d},get location(){return t(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(iT,b),f=j,()=>{a.removeEventListener(iT,b),f=null}},createHref(j){return e(a,j)},createURL:k,encodeLocation(j){let z=k(j);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:S,go(j){return c.go(j)}};return V}function uI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:pu(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function SE(t,e,n="/"){return hI(t,e,n,!1)}function hI(t,e,n,i){let a=typeof e=="string"?Rl(e):e,l=Qi(a.pathname||"/",n);if(l==null)return null;let c=AE(t);dI(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=wI(l);d=_I(c[f],p,i)}return d}function AE(t,e=[],n=[],i="",a=!1){let l=(c,d,f=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&f)return;Tt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=$i([i,v.relativePath]),_=n.concat(v);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),AE(c.children,e,_,b,f)),!(c.path==null&&!c.index)&&e.push({path:b,score:bI(b,c.index),routesMeta:_})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let p of CE(c.path))l(c,d,!0,p)}),e}function CE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=CE(i.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function dI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var fI=/^:[\w-]+$/,mI=3,pI=2,gI=1,yI=10,vI=-2,aT=t=>t==="*";function bI(t,e){let n=t.split("/"),i=n.length;return n.some(aT)&&(i+=vI),e&&(i+=pI),n.filter(a=>!aT(a)).reduce((a,l)=>a+(fI.test(l)?mI:l===""?gI:yI),i)}function xI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function _I(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=ef({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),_=f.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=ef({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:$i([l,b.pathname]),pathnameBase:CI($i([l,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(l=$i([l,b.pathnameBase]))}return c}function ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=TI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},_)=>{if(v==="*"){let k=d[_]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const S=d[_];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function TI(t,e=!1,n=!0){Ls(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function wI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ls(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var EI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function SI(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Rl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=oT(n.substring(1),"/"):l=oT(n,e)):l=e,{pathname:l,search:RI(i),hash:NI(a)}}function oT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ag(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fy(t){let e=AI(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function qy(t,e,n,i=!1){let a;typeof t=="string"?a=Rl(t):(a={...t},Tt(!a.pathname||!a.pathname.includes("?"),ag("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),ag("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),ag("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let f=SI(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var $i=t=>t.join("/").replace(/\/\/+/g,"/"),CI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,II=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function DI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function OI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NE(t,e){let n=t;if(typeof n!="string"||!EI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(RE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Qi(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{Ls(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var MI=["GET",...IE];new Set(MI);var Nl=M.createContext(null);Nl.displayName="DataRouter";var Of=M.createContext(null);Of.displayName="DataRouterState";var kI=M.createContext(!1),DE=M.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var jI=M.createContext(new Map);jI.displayName="Fetchers";var VI=M.createContext(null);VI.displayName="Await";var Wn=M.createContext(null);Wn.displayName="Navigation";var Du=M.createContext(null);Du.displayName="Location";var bi=M.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var Hy=M.createContext(null);Hy.displayName="RouteError";var OE="REACT_ROUTER_ERROR",PI="REDIRECT",LI="ROUTE_ERROR_RESPONSE";function UI(t){if(t.startsWith(`${OE}:${PI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function zI(t){if(t.startsWith(`${OE}:${LI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new II(e.status,e.statusText,e.data)}catch{}}function BI(t,{relative:e}={}){Tt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(Wn),{hash:a,pathname:l,search:c}=Ou(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:$i([n,l])),i.createHref({pathname:d,search:c,hash:a})}function Il(){return M.useContext(Du)!=null}function tr(){return Tt(Il(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Du).location}var ME="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kE(t){M.useContext(Wn).static||M.useLayoutEffect(t)}function Dl(){let{isDataRoute:t}=M.useContext(bi);return t?eD():FI()}function FI(){Tt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(Nl),{basename:e,navigator:n}=M.useContext(Wn),{matches:i}=M.useContext(bi),{pathname:a}=tr(),l=JSON.stringify(Fy(i)),c=M.useRef(!1);return kE(()=>{c.current=!0}),M.useCallback((f,p={})=>{if(Ls(c.current,ME),!c.current)return;if(typeof f=="number"){n.go(f);return}let v=qy(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$i([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}M.createContext(null);function Ou(t,{relative:e}={}){let{matches:n}=M.useContext(bi),{pathname:i}=tr(),a=JSON.stringify(Fy(n));return M.useMemo(()=>qy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function qI(t,e){return jE(t,e)}function jE(t,e,n,i,a){var q;Tt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(Wn),{matches:c}=M.useContext(bi),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let L=b&&b.path||"";PE(p,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=tr(),S;if(e){let L=typeof e=="string"?Rl(e):e;Tt(v==="/"||((q=L.pathname)==null?void 0:q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=_;let k=S.pathname||"/",V=k;if(v!=="/"){let L=v.replace(/^\//,"").split("/");V="/"+k.replace(/^\//,"").split("/").slice(L.length).join("/")}let j=SE(t,{pathname:V});Ls(b||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ls(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=YI(j&&j.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:$i([v,l.encodeLocation?l.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:$i([v,l.encodeLocation?l.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,n,i,a);return e&&z?M.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function HI(){let t=ZI(),e=DI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,c)}var GI=M.createElement(HI,null),VE=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=zI(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(bi.Provider,{value:this.props.routeContext},M.createElement(Hy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement($I,{error:t},e):e}};VE.contextType=kI;var og=new WeakMap;function $I({children:t,error:e}){let{basename:n}=M.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=UI(e.digest);if(i){let a=og.get(e);if(a)throw a;let l=NE(i.location,n);if(RE&&!og.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw og.set(e,c),c}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function KI({routeContext:t,match:e,children:n}){let i=M.useContext(Nl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(bi.Provider,{value:t},n)}function YI(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);Tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,f=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(f=v),b.route.id){let{loaderData:_,errors:S}=n,k=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||k){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&i?(v,b)=>{var _,S;i(v,{location:n.location,params:((S=(_=n.matches)==null?void 0:_[0])==null?void 0:S.params)??{},unstable_pattern:OI(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,_)=>{let S,k=!1,V=null,j=null;n&&(S=c&&b.route.id?c[b.route.id]:void 0,V=b.route.errorElement||GI,d&&(f<0&&_===0?(PE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,j=null):f===_&&(k=!0,j=b.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,_+1)),q=()=>{let L;return S?L=V:k?L=j:b.route.Component?L=M.createElement(b.route.Component,null):b.route.element?L=b.route.element:L=v,M.createElement(KI,{match:b,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:L})};return n&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?M.createElement(VE,{location:n.location,revalidation:n.revalidation,component:V,error:S,children:q(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:p}):q()},null)}function Gy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QI(t){let e=M.useContext(Nl);return Tt(e,Gy(t)),e}function XI(t){let e=M.useContext(Of);return Tt(e,Gy(t)),e}function WI(t){let e=M.useContext(bi);return Tt(e,Gy(t)),e}function $y(t){let e=WI(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function JI(){return $y("useRouteId")}function ZI(){var i;let t=M.useContext(Hy),e=XI("useRouteError"),n=$y("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function eD(){let{router:t}=QI("useNavigate"),e=$y("useNavigate"),n=M.useRef(!1);return kE(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{Ls(n.current,ME),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var lT={};function PE(t,e,n){!e&&!lT[t]&&(lT[t]=!0,Ls(!1,n))}M.memo(tD);function tD({routes:t,future:e,state:n,onError:i}){return jE(t,void 0,n,i,e)}function nD({to:t,replace:e,state:n,relative:i}){Tt(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(Wn);Ls(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(bi),{pathname:c}=tr(),d=Dl(),f=qy(t,Fy(l),c,i==="path"),p=JSON.stringify(f);return M.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function nl(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sD({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Tt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=Rl(n));let{pathname:p="/",search:v="",hash:b="",state:_=null,key:S="default"}=n,k=M.useMemo(()=>{let V=Qi(p,d);return V==null?null:{location:{pathname:V,search:v,hash:b,state:_,key:S},navigationType:i}},[d,p,v,b,_,S,i]);return Ls(k!=null,`<Router basename="${d}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:M.createElement(Wn.Provider,{value:f},M.createElement(Du.Provider,{children:e,value:k}))}function iD({children:t,location:e}){return qI(Hg(t),e)}function Hg(t,e=[]){let n=[];return M.Children.forEach(t,(i,a)=>{if(!M.isValidElement(i))return;let l=[...e,a];if(i.type===M.Fragment){n.push.apply(n,Hg(i.props.children,l));return}Tt(i.type===nl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Hg(i.props.children,l)),n.push(c)}),n}var Ld="get",Ud="application/x-www-form-urlencoded";function Mf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function rD(t){return Mf(t)&&t.tagName.toLowerCase()==="button"}function aD(t){return Mf(t)&&t.tagName.toLowerCase()==="form"}function oD(t){return Mf(t)&&t.tagName.toLowerCase()==="input"}function lD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cD(t,e){return t.button===0&&(!e||e==="_self")&&!lD(t)}var _d=null;function uD(){if(_d===null)try{new FormData(document.createElement("form"),0),_d=!1}catch{_d=!0}return _d}var hD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(t){return t!=null&&!hD.has(t)?(Ls(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ud}"`),null):t}function dD(t,e){let n,i,a,l,c;if(aD(t)){let d=t.getAttribute("action");i=d?Qi(d,e):null,n=t.getAttribute("method")||Ld,a=lg(t.getAttribute("enctype"))||Ud,l=new FormData(t)}else if(rD(t)||oD(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(i=f?Qi(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Ld,a=lg(t.getAttribute("formenctype"))||lg(d.getAttribute("enctype"))||Ud,l=new FormData(d,t),!uD()){let{name:p,type:v,value:b}=t;if(v==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,b)}}else{if(Mf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ld,i=null,a=Ud,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ky(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fD(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Qi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function mD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function gD(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await mD(l,n);return c.links?c.links():[]}return[]}));return xD(i.flat(1).filter(pD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function cT(t,e,n,i,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var v;return n[p].pathname!==f.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>c(f,p)||d(f,p)):l==="data"?e.filter((f,p)=>{var b;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function yD(t,e,{includeHydrateFallback:n}={}){return vD(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function vD(t){return[...new Set(t)]}function bD(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function xD(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(bD(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function LE(){let t=M.useContext(Nl);return Ky(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _D(){let t=M.useContext(Of);return Ky(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yy=M.createContext(void 0);Yy.displayName="FrameworkContext";function UE(){let t=M.useContext(Yy);return Ky(t,"You must render this element inside a <HydratedRouter> element"),t}function TD(t,e){let n=M.useContext(Yy),[i,a]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,_=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let V=z=>{z.forEach(q=>{c(q.isIntersecting)})},j=new IntersectionObserver(V,{threshold:.5});return _.current&&j.observe(_.current),()=>{j.disconnect()}}},[t]),M.useEffect(()=>{if(i){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[i]);let S=()=>{a(!0)},k=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Gc(d,S),onBlur:Gc(f,k),onMouseEnter:Gc(p,S),onMouseLeave:Gc(v,k),onTouchStart:Gc(b,S)}]:[!1,_,{}]}function Gc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wD({page:t,...e}){let{router:n}=LE(),i=M.useMemo(()=>SE(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?M.createElement(SD,{page:t,matches:i,...e}):null}function ED(t){let{manifest:e,routeModules:n}=UE(),[i,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return gD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function SD({page:t,matches:e,...n}){let i=tr(),{future:a,manifest:l,routeModules:c}=UE(),{basename:d}=LE(),{loaderData:f,matches:p}=_D(),v=M.useMemo(()=>cT(t,e,p,l,i,"data"),[t,e,p,l,i]),b=M.useMemo(()=>cT(t,e,p,l,i,"assets"),[t,e,p,l,i]),_=M.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let V=new Set,j=!1;if(e.forEach(q=>{var $;let L=l.routes[q.route.id];!L||!L.hasLoader||(!v.some(Q=>Q.route.id===q.route.id)&&q.route.id in f&&(($=c[q.route.id])!=null&&$.shouldRevalidate)||L.hasClientLoader?j=!0:V.add(q.route.id))}),V.size===0)return[];let z=fD(t,d,a.unstable_trailingSlashAwareDataRequests,"data");return j&&V.size>0&&z.searchParams.set("_routes",e.filter(q=>V.has(q.route.id)).map(q=>q.route.id).join(",")),[z.pathname+z.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,i,l,v,e,t,c]),S=M.useMemo(()=>yD(b,l),[b,l]),k=ED(b);return M.createElement(M.Fragment,null,_.map(V=>M.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>M.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),k.map(({key:V,link:j})=>M.createElement("link",{key:V,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function AD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CD&&(window.__reactRouterVersion="7.13.0")}catch{}function RD({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=M.useRef();a.current==null&&(a.current=oI({window:i,v5Compat:!0}));let l=a.current,[c,d]=M.useState({action:l.action,location:l.location}),f=M.useCallback(p=>{n===!1?d(p):M.startTransition(()=>d(p))},[n]);return M.useLayoutEffect(()=>l.listen(f),[l,f]),M.createElement(sD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=M.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},k){let{basename:V,unstable_useTransitions:j}=M.useContext(Wn),z=typeof p=="string"&&zE.test(p),q=NE(p,V);p=q.to;let L=BI(p,{relative:a}),[$,Q,oe]=TD(i,S),D=OD(p,{replace:c,state:d,target:f,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:_,unstable_useTransitions:j});function E(I){e&&e(I),I.defaultPrevented||D(I)}let C=M.createElement("a",{...S,...oe,href:q.absoluteURL||L,onClick:q.isExternal||l?e:E,ref:AD(k,Q),target:f,"data-discover":!z&&n==="render"?"true":void 0});return $&&!z?M.createElement(M.Fragment,null,C,M.createElement(wD,{page:L})):C});jn.displayName="Link";var ND=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...p},v){let b=Ou(c,{relative:p.relative}),_=tr(),S=M.useContext(Of),{navigator:k,basename:V}=M.useContext(Wn),j=S!=null&&PD(b)&&d===!0,z=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,q=_.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(q=q.toLowerCase(),L=L?L.toLowerCase():null,z=z.toLowerCase()),L&&V&&(L=Qi(L,V)||L);const $=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Q=q===z||!a&&q.startsWith(z)&&q.charAt($)==="/",oe=L!=null&&(L===z||!a&&L.startsWith(z)&&L.charAt(z.length)==="/"),D={isActive:Q,isPending:oe,isTransitioning:j},E=Q?e:void 0,C;typeof i=="function"?C=i(D):C=[i,Q?"active":null,oe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(D):l;return M.createElement(jn,{...p,"aria-current":E,className:C,ref:v,style:I,to:c,viewTransition:d},typeof f=="function"?f(D):f)});ND.displayName="NavLink";var ID=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Ld,action:d,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_,...S},k)=>{let{unstable_useTransitions:V}=M.useContext(Wn),j=jD(),z=VD(d,{relative:p}),q=c.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&zE.test(d),$=Q=>{if(f&&f(Q),Q.defaultPrevented)return;Q.preventDefault();let oe=Q.nativeEvent.submitter,D=(oe==null?void 0:oe.getAttribute("formmethod"))||c,E=()=>j(oe||Q.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:_});V&&n!==!1?M.startTransition(()=>E()):E()};return M.createElement("form",{ref:k,method:q,action:z,onSubmit:i?f:$,...S,"data-discover":!L&&t==="render"?"true":void 0})});ID.displayName="Form";function DD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(t){let e=M.useContext(Nl);return Tt(e,DD(t)),e}function OD(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let p=Dl(),v=tr(),b=Ou(t,{relative:l});return M.useCallback(_=>{if(cD(_,e)){_.preventDefault();let S=n!==void 0?n:pu(v)===pu(b),k=()=>p(t,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});f?M.startTransition(()=>k()):k()}},[v,p,b,n,i,e,t,a,l,c,d,f])}var MD=0,kD=()=>`__${String(++MD)}__`;function jD(){let{router:t}=BE("useSubmit"),{basename:e}=M.useContext(Wn),n=JI(),i=t.fetch,a=t.navigate;return M.useCallback(async(l,c={})=>{let{action:d,method:f,encType:p,formData:v,body:b}=dD(l,e);if(c.navigate===!1){let _=c.fetcherKey||kD();await i(_,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function VD(t,{relative:e}={}){let{basename:n}=M.useContext(Wn),i=M.useContext(bi);Tt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Ou(t||".",{relative:e})},c=tr();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:$i([n,l.pathname])),pu(l)}function PD(t,{relative:e}={}){let n=M.useContext(DE);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=BE("useViewTransitionState"),a=Ou(t,{relative:e});if(!n.isTransitioning)return!1;let l=Qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ef(a.pathname,c)!=null||ef(a.pathname,l)!=null}const LD=[{id:"1",name:"Butter Chicken Masala",price:299,offerPrice:249,description:"Rich and creamy curry made with tender chicken pieces.",category:"Main Course",imageUrl:"https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!1},{id:"2",name:"Paneer Tikka Masala",price:249,description:"Marinated paneer cheese served in a spiced gravy.",category:"Main Course",imageUrl:"https://images.unsplash.com/photo-1565557623262-b51c2513a641?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!0},{id:"3",name:"Chicken Biryani",price:329,offerPrice:279,description:"Aromatic basmati rice cooked with spices and chicken.",category:"Rice & Biryani",imageUrl:"https://images.unsplash.com/photo-1589302168068-964664d93dc0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!1},{id:"4",name:"Veg Biryani",price:229,description:"Flavorful rice dish loaded with vegetables and spices.",category:"Rice & Biryani",imageUrl:"https://images.unsplash.com/photo-1563379091339-03b21ab4a4f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!0},{id:"5",name:"Garlic Naan",price:60,description:"Oven-baked flatbread topped with garlic and butter.",category:"Breads",imageUrl:"https://images.unsplash.com/photo-1626074353765-517a681e40be?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",isVeg:!0}],UD=()=>{};var uT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let _=(d&15)<<2|p>>6,S=p&63;f||(S=64,c||(_=64)),i.push(n[v],n[b],n[_],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new BD;const _=l<<2|d>>4;if(i.push(_),p!==64){const S=d<<4&240|p>>2;if(i.push(S),b!==64){const k=p<<6&192|b;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FD=function(t){const e=FE(t);return qE.encodeByteArray(e,!0)},tf=function(t){return FD(t).replace(/\./g,"")},HE=function(t){try{return qE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=()=>qD().__FIREBASE_DEFAULTS__,GD=()=>{if(typeof process>"u"||typeof uT>"u")return;const t=uT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$D=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HE(t[1]);return e&&JSON.parse(e)},kf=()=>{try{return UD()||HD()||GD()||$D()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GE=t=>{var e,n;return(n=(e=kf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},$E=t=>{const e=GE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},KE=()=>{var t;return(t=kf())==null?void 0:t.config},YE=t=>{var e;return(e=kf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[tf(JSON.stringify(n)),tf(JSON.stringify(c)),""].join(".")}const iu={};function YD(){const t={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?t.emulator.push(e):t.prod.push(e);return t}function QD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hT=!1;function Xy(t,e){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||iu[t]===e||iu[t]||hT)return;iu[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",l=YD().prod.length>0;function c(){const _=document.getElementById(i);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{hT=!0,c()},_}function v(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=QD(i),S=n("text"),k=document.getElementById(S)||document.createElement("span"),V=n("learnmore"),j=document.getElementById(V)||document.createElement("a"),z=n("preprendIcon"),q=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;d(L),v(j,V);const $=p();f(q,z),L.append(q,k,j,$),document.body.appendChild(L)}l?(k.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function WD(){var e;const t=(e=kf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tO(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nO(){return!WD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sO(){try{return typeof indexedDB=="object"}catch{return!1}}function iO(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="FirebaseError";class xi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=rO,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?aO(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new xi(a,d,i)}}function aO(t,e){return t.replace(oO,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const oO=/\{\$([^}]+)}/g;function lO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(dT(l)&&dT(c)){if(!Ja(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function dT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cO(t,e){const n=new uO(t,e);return n.subscribe.bind(n)}class uO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");hO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=cg),a.error===void 0&&(a.error=cg),a.complete===void 0&&(a.complete=cg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new KD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mO(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fO(t){return t===Ba?void 0:t}function mO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const gO={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},yO=$e.INFO,vO={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},bO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=vO[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wy{constructor(e){this.name=e,this._logLevel=yO,this._logHandler=bO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const xO=(t,e)=>e.some(n=>t instanceof n);let fT,mT;function _O(){return fT||(fT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TO(){return mT||(mT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XE=new WeakMap,Gg=new WeakMap,WE=new WeakMap,ug=new WeakMap,Jy=new WeakMap;function wO(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Hr(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&XE.set(n,t)}).catch(()=>{}),Jy.set(e,t),e}function EO(t){if(Gg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Gg.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SO(t){$g=t($g)}function AO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(hg(this),e,...n);return WE.set(i,e.sort?e.sort():[e]),Hr(i)}:TO().includes(t)?function(...e){return t.apply(hg(this),e),Hr(XE.get(this))}:function(...e){return Hr(t.apply(hg(this),e))}}function CO(t){return typeof t=="function"?AO(t):(t instanceof IDBTransaction&&EO(t),xO(t,_O())?new Proxy(t,$g):t)}function Hr(t){if(t instanceof IDBRequest)return wO(t);if(ug.has(t))return ug.get(t);const e=CO(t);return e!==t&&(ug.set(t,e),Jy.set(e,t)),e}const hg=t=>Jy.get(t);function RO(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Hr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Hr(c.result),f.oldVersion,f.newVersion,Hr(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const NO=["get","getKey","getAll","getAllKeys","count"],IO=["put","add","delete","clear"],dg=new Map;function pT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=IO.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||NO.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&f.done]))[0]};return dg.set(e,l),l}SO(t=>({...t,get:(e,n,i)=>pT(e,n)||t.get(e,n,i),has:(e,n)=>!!pT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function OO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kg="@firebase/app",gT="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Wy("@firebase/app"),MO="@firebase/app-compat",kO="@firebase/analytics-compat",jO="@firebase/analytics",VO="@firebase/app-check-compat",PO="@firebase/app-check",LO="@firebase/auth",UO="@firebase/auth-compat",zO="@firebase/database",BO="@firebase/data-connect",FO="@firebase/database-compat",qO="@firebase/functions",HO="@firebase/functions-compat",GO="@firebase/installations",$O="@firebase/installations-compat",KO="@firebase/messaging",YO="@firebase/messaging-compat",QO="@firebase/performance",XO="@firebase/performance-compat",WO="@firebase/remote-config",JO="@firebase/remote-config-compat",ZO="@firebase/storage",eM="@firebase/storage-compat",tM="@firebase/firestore",nM="@firebase/ai",sM="@firebase/firestore-compat",iM="firebase",rM="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="[DEFAULT]",aM={[Kg]:"fire-core",[MO]:"fire-core-compat",[jO]:"fire-analytics",[kO]:"fire-analytics-compat",[PO]:"fire-app-check",[VO]:"fire-app-check-compat",[LO]:"fire-auth",[UO]:"fire-auth-compat",[zO]:"fire-rtdb",[BO]:"fire-data-connect",[FO]:"fire-rtdb-compat",[qO]:"fire-fn",[HO]:"fire-fn-compat",[GO]:"fire-iid",[$O]:"fire-iid-compat",[KO]:"fire-fcm",[YO]:"fire-fcm-compat",[QO]:"fire-perf",[XO]:"fire-perf-compat",[WO]:"fire-rc",[JO]:"fire-rc-compat",[ZO]:"fire-gcs",[eM]:"fire-gcs-compat",[tM]:"fire-fst",[sM]:"fire-fst-compat",[nM]:"fire-vertex","fire-js":"fire-js",[iM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Map,oM=new Map,Qg=new Map;function yT(t,e){try{t.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(Qg.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,t);for(const n of nf.values())yT(n,t);for(const n of oM.values())yT(n,t);return!0}function jf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ms(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Mu("app","Firebase",lM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=rM;function JE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Yg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Gr.create("bad-app-name",{appName:String(a)});if(n||(n=KE()),!n)throw Gr.create("no-options");const l=nf.get(a);if(l){if(Ja(n,l.options)&&Ja(i,l.config))return l;throw Gr.create("duplicate-app",{appName:a})}const c=new pO(a);for(const f of Qg.values())c.addComponent(f);const d=new cM(n,i,c);return nf.set(a,d),d}function Zy(t=Yg){const e=nf.get(t);if(!e&&t===Yg&&KE())return JE();if(!e)throw Gr.create("no-app",{appName:t});return e}function ci(t,e,n){let i=aM[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(c.join(" "));return}Za(new Qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="firebase-heartbeat-database",hM=1,gu="firebase-heartbeat-store";let fg=null;function ZE(){return fg||(fg=RO(uM,hM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),fg}async function dM(t){try{const n=(await ZE()).transaction(gu),i=await n.objectStore(gu).get(eS(t));return await n.done,i}catch(e){if(e instanceof xi)Xi.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function vT(t,e){try{const i=(await ZE()).transaction(gu,"readwrite");await i.objectStore(gu).put(e,eS(t)),await i.done}catch(n){if(n instanceof xi)Xi.warn(n.message);else{const i=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(i.message)}}}function eS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=1024,mM=30;class pM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=bT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>mM){const c=vM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bT(),{heartbeatsToSend:i,unsentEntries:a}=gM(this._heartbeatsCache.heartbeats),l=tf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Xi.warn(n),""}}}function bT(){return new Date().toISOString().substring(0,10)}function gM(t,e=fM){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),xT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sO()?iO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return vT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return vT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xT(t){return tf(JSON.stringify({version:2,heartbeats:t})).length}function vM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){Za(new Qr("platform-logger",e=>new DO(e),"PRIVATE")),Za(new Qr("heartbeat",e=>new pM(e),"PRIVATE")),ci(Kg,gT,t),ci(Kg,gT,"esm2020"),ci("fire-js","")}bM("");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,tS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,E){function C(){}C.prototype=E.prototype,D.F=E.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(I,N,P){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return E.prototype[N].apply(I,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,E,C){C||(C=0);const I=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)I[N]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(N=0;N<16;++N)I[N]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=D.g[0],C=D.g[1],N=D.g[2];let P=D.g[3],O;O=E+(P^C&(N^P))+I[0]+3614090360&4294967295,E=C+(O<<7&4294967295|O>>>25),O=P+(N^E&(C^N))+I[1]+3905402710&4294967295,P=E+(O<<12&4294967295|O>>>20),O=N+(C^P&(E^C))+I[2]+606105819&4294967295,N=P+(O<<17&4294967295|O>>>15),O=C+(E^N&(P^E))+I[3]+3250441966&4294967295,C=N+(O<<22&4294967295|O>>>10),O=E+(P^C&(N^P))+I[4]+4118548399&4294967295,E=C+(O<<7&4294967295|O>>>25),O=P+(N^E&(C^N))+I[5]+1200080426&4294967295,P=E+(O<<12&4294967295|O>>>20),O=N+(C^P&(E^C))+I[6]+2821735955&4294967295,N=P+(O<<17&4294967295|O>>>15),O=C+(E^N&(P^E))+I[7]+4249261313&4294967295,C=N+(O<<22&4294967295|O>>>10),O=E+(P^C&(N^P))+I[8]+1770035416&4294967295,E=C+(O<<7&4294967295|O>>>25),O=P+(N^E&(C^N))+I[9]+2336552879&4294967295,P=E+(O<<12&4294967295|O>>>20),O=N+(C^P&(E^C))+I[10]+4294925233&4294967295,N=P+(O<<17&4294967295|O>>>15),O=C+(E^N&(P^E))+I[11]+2304563134&4294967295,C=N+(O<<22&4294967295|O>>>10),O=E+(P^C&(N^P))+I[12]+1804603682&4294967295,E=C+(O<<7&4294967295|O>>>25),O=P+(N^E&(C^N))+I[13]+4254626195&4294967295,P=E+(O<<12&4294967295|O>>>20),O=N+(C^P&(E^C))+I[14]+2792965006&4294967295,N=P+(O<<17&4294967295|O>>>15),O=C+(E^N&(P^E))+I[15]+1236535329&4294967295,C=N+(O<<22&4294967295|O>>>10),O=E+(N^P&(C^N))+I[1]+4129170786&4294967295,E=C+(O<<5&4294967295|O>>>27),O=P+(C^N&(E^C))+I[6]+3225465664&4294967295,P=E+(O<<9&4294967295|O>>>23),O=N+(E^C&(P^E))+I[11]+643717713&4294967295,N=P+(O<<14&4294967295|O>>>18),O=C+(P^E&(N^P))+I[0]+3921069994&4294967295,C=N+(O<<20&4294967295|O>>>12),O=E+(N^P&(C^N))+I[5]+3593408605&4294967295,E=C+(O<<5&4294967295|O>>>27),O=P+(C^N&(E^C))+I[10]+38016083&4294967295,P=E+(O<<9&4294967295|O>>>23),O=N+(E^C&(P^E))+I[15]+3634488961&4294967295,N=P+(O<<14&4294967295|O>>>18),O=C+(P^E&(N^P))+I[4]+3889429448&4294967295,C=N+(O<<20&4294967295|O>>>12),O=E+(N^P&(C^N))+I[9]+568446438&4294967295,E=C+(O<<5&4294967295|O>>>27),O=P+(C^N&(E^C))+I[14]+3275163606&4294967295,P=E+(O<<9&4294967295|O>>>23),O=N+(E^C&(P^E))+I[3]+4107603335&4294967295,N=P+(O<<14&4294967295|O>>>18),O=C+(P^E&(N^P))+I[8]+1163531501&4294967295,C=N+(O<<20&4294967295|O>>>12),O=E+(N^P&(C^N))+I[13]+2850285829&4294967295,E=C+(O<<5&4294967295|O>>>27),O=P+(C^N&(E^C))+I[2]+4243563512&4294967295,P=E+(O<<9&4294967295|O>>>23),O=N+(E^C&(P^E))+I[7]+1735328473&4294967295,N=P+(O<<14&4294967295|O>>>18),O=C+(P^E&(N^P))+I[12]+2368359562&4294967295,C=N+(O<<20&4294967295|O>>>12),O=E+(C^N^P)+I[5]+4294588738&4294967295,E=C+(O<<4&4294967295|O>>>28),O=P+(E^C^N)+I[8]+2272392833&4294967295,P=E+(O<<11&4294967295|O>>>21),O=N+(P^E^C)+I[11]+1839030562&4294967295,N=P+(O<<16&4294967295|O>>>16),O=C+(N^P^E)+I[14]+4259657740&4294967295,C=N+(O<<23&4294967295|O>>>9),O=E+(C^N^P)+I[1]+2763975236&4294967295,E=C+(O<<4&4294967295|O>>>28),O=P+(E^C^N)+I[4]+1272893353&4294967295,P=E+(O<<11&4294967295|O>>>21),O=N+(P^E^C)+I[7]+4139469664&4294967295,N=P+(O<<16&4294967295|O>>>16),O=C+(N^P^E)+I[10]+3200236656&4294967295,C=N+(O<<23&4294967295|O>>>9),O=E+(C^N^P)+I[13]+681279174&4294967295,E=C+(O<<4&4294967295|O>>>28),O=P+(E^C^N)+I[0]+3936430074&4294967295,P=E+(O<<11&4294967295|O>>>21),O=N+(P^E^C)+I[3]+3572445317&4294967295,N=P+(O<<16&4294967295|O>>>16),O=C+(N^P^E)+I[6]+76029189&4294967295,C=N+(O<<23&4294967295|O>>>9),O=E+(C^N^P)+I[9]+3654602809&4294967295,E=C+(O<<4&4294967295|O>>>28),O=P+(E^C^N)+I[12]+3873151461&4294967295,P=E+(O<<11&4294967295|O>>>21),O=N+(P^E^C)+I[15]+530742520&4294967295,N=P+(O<<16&4294967295|O>>>16),O=C+(N^P^E)+I[2]+3299628645&4294967295,C=N+(O<<23&4294967295|O>>>9),O=E+(N^(C|~P))+I[0]+4096336452&4294967295,E=C+(O<<6&4294967295|O>>>26),O=P+(C^(E|~N))+I[7]+1126891415&4294967295,P=E+(O<<10&4294967295|O>>>22),O=N+(E^(P|~C))+I[14]+2878612391&4294967295,N=P+(O<<15&4294967295|O>>>17),O=C+(P^(N|~E))+I[5]+4237533241&4294967295,C=N+(O<<21&4294967295|O>>>11),O=E+(N^(C|~P))+I[12]+1700485571&4294967295,E=C+(O<<6&4294967295|O>>>26),O=P+(C^(E|~N))+I[3]+2399980690&4294967295,P=E+(O<<10&4294967295|O>>>22),O=N+(E^(P|~C))+I[10]+4293915773&4294967295,N=P+(O<<15&4294967295|O>>>17),O=C+(P^(N|~E))+I[1]+2240044497&4294967295,C=N+(O<<21&4294967295|O>>>11),O=E+(N^(C|~P))+I[8]+1873313359&4294967295,E=C+(O<<6&4294967295|O>>>26),O=P+(C^(E|~N))+I[15]+4264355552&4294967295,P=E+(O<<10&4294967295|O>>>22),O=N+(E^(P|~C))+I[6]+2734768916&4294967295,N=P+(O<<15&4294967295|O>>>17),O=C+(P^(N|~E))+I[13]+1309151649&4294967295,C=N+(O<<21&4294967295|O>>>11),O=E+(N^(C|~P))+I[4]+4149444226&4294967295,E=C+(O<<6&4294967295|O>>>26),O=P+(C^(E|~N))+I[11]+3174756917&4294967295,P=E+(O<<10&4294967295|O>>>22),O=N+(E^(P|~C))+I[2]+718787259&4294967295,N=P+(O<<15&4294967295|O>>>17),O=C+(P^(N|~E))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+P&4294967295}i.prototype.v=function(D,E){E===void 0&&(E=D.length);const C=E-this.blockSize,I=this.C;let N=this.h,P=0;for(;P<E;){if(N==0)for(;P<=C;)a(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<E;)if(I[N++]=D.charCodeAt(P++),N==this.blockSize){a(this,I),N=0;break}}else for(;P<E;)if(I[N++]=D[P++],N==this.blockSize){a(this,I),N=0;break}}this.h=N,this.o+=E},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;E=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=E&255,E/=256;for(this.v(D),D=Array(16),E=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)D[E++]=this.g[C]>>>I&255;return D};function l(D,E){var C=d;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=E(D)}function c(D,E){this.h=E;const C=[];let I=!0;for(let N=D.length-1;N>=0;N--){const P=D[N]|0;I&&P==E||(C[N]=P,I=!1)}this.g=C}var d={};function f(D){return-128<=D&&D<128?l(D,function(E){return new c([E|0],E<0?-1:0)}):new c([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return j(p(-D));const E=[];let C=1;for(let I=0;D>=C;I++)E[I]=D/C|0,C*=4294967296;return new c(E,0)}function v(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return j(v(D.substring(1),E));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(E,8));let I=b;for(let P=0;P<D.length;P+=8){var N=Math.min(8,D.length-P);const O=parseInt(D.substring(P,P+N),E);N<8?(N=p(Math.pow(E,N)),I=I.j(N).add(p(O))):(I=I.j(C),I=I.add(p(O)))}return I}var b=f(0),_=f(1),S=f(16777216);t=c.prototype,t.m=function(){if(V(this))return-j(this).m();let D=0,E=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);D+=(I>=0?I:4294967296+I)*E,E*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if(V(this))return"-"+j(this).toString(D);const E=p(Math.pow(D,6));var C=this;let I="";for(;;){const N=$(C,E).g;C=z(C,N.j(E));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=N,k(C))return P+I;for(;P.length<6;)P="0"+P;I=P+I}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(let E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function V(D){return D.h==-1}t.l=function(D){return D=z(this,D),V(D)?-1:k(D)?0:1};function j(D){const E=D.g.length,C=[];for(let I=0;I<E;I++)C[I]=~D.g[I];return new c(C,~D.h).add(_)}t.abs=function(){return V(this)?j(this):this},t.add=function(D){const E=Math.max(this.g.length,D.g.length),C=[];let I=0;for(let N=0;N<=E;N++){let P=I+(this.i(N)&65535)+(D.i(N)&65535),O=(P>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);I=O>>>16,P&=65535,O&=65535,C[N]=O<<16|P}return new c(C,C[C.length-1]&-2147483648?-1:0)};function z(D,E){return D.add(j(E))}t.j=function(D){if(k(this)||k(D))return b;if(V(this))return V(D)?j(this).j(j(D)):j(j(this).j(D));if(V(D))return j(this.j(j(D)));if(this.l(S)<0&&D.l(S)<0)return p(this.m()*D.m());const E=this.g.length+D.g.length,C=[];for(var I=0;I<2*E;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<D.g.length;N++){const P=this.i(I)>>>16,O=this.i(I)&65535,Ee=D.i(N)>>>16,Me=D.i(N)&65535;C[2*I+2*N]+=O*Me,q(C,2*I+2*N),C[2*I+2*N+1]+=P*Me,q(C,2*I+2*N+1),C[2*I+2*N+1]+=O*Ee,q(C,2*I+2*N+1),C[2*I+2*N+2]+=P*Ee,q(C,2*I+2*N+2)}for(D=0;D<E;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=E;D<2*E;D++)C[D]=0;return new c(C,0)};function q(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function L(D,E){this.g=D,this.h=E}function $(D,E){if(k(E))throw Error("division by zero");if(k(D))return new L(b,b);if(V(D))return E=$(j(D),E),new L(j(E.g),j(E.h));if(V(E))return E=$(D,j(E)),new L(j(E.g),E.h);if(D.g.length>30){if(V(D)||V(E))throw Error("slowDivide_ only works with positive integers.");for(var C=_,I=E;I.l(D)<=0;)C=Q(C),I=Q(I);var N=oe(C,1),P=oe(I,1);for(I=oe(I,2),C=oe(C,2);!k(I);){var O=P.add(I);O.l(D)<=0&&(N=N.add(C),P=O),I=oe(I,1),C=oe(C,1)}return E=z(D,N.j(E)),new L(N,E)}for(N=b;D.l(E)>=0;){for(C=Math.max(1,Math.floor(D.m()/E.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),P=p(C),O=P.j(E);V(O)||O.l(D)>0;)C-=I,P=p(C),O=P.j(E);k(P)&&(P=_),N=N.add(P),D=z(D,O)}return new L(N,D)}t.B=function(D){return $(this,D).h},t.and=function(D){const E=Math.max(this.g.length,D.g.length),C=[];for(let I=0;I<E;I++)C[I]=this.i(I)&D.i(I);return new c(C,this.h&D.h)},t.or=function(D){const E=Math.max(this.g.length,D.g.length),C=[];for(let I=0;I<E;I++)C[I]=this.i(I)|D.i(I);return new c(C,this.h|D.h)},t.xor=function(D){const E=Math.max(this.g.length,D.g.length),C=[];for(let I=0;I<E;I++)C[I]=this.i(I)^D.i(I);return new c(C,this.h^D.h)};function Q(D){const E=D.g.length+1,C=[];for(let I=0;I<E;I++)C[I]=D.i(I)<<1|D.i(I-1)>>>31;return new c(C,D.h)}function oe(D,E){const C=E>>5;E%=32;const I=D.g.length-C,N=[];for(let P=0;P<I;P++)N[P]=E>0?D.i(P+C)>>>E|D.i(P+C+1)<<32-E:D.i(P+C);return new c(N,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,tS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,$r=c}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var Td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nS,Wc,sS,zd,Xg,iS,rS,aS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Td=="object"&&Td];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function a(h,x){if(x)e:{var w=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var G=h[R];if(!(G in w))break e;w=w[G]}h=h[h.length-1],R=w[h],x=x(R),x!=R&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(x){var w=[],R;for(R in x)Object.prototype.hasOwnProperty.call(x,R)&&w.push([R,x[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function f(h,x,w){return h.call.apply(h.bind,arguments)}function p(h,x,w){return p=f,p.apply(null,arguments)}function v(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,x){function w(){}w.prototype=x.prototype,h.Z=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(R,G,J){for(var de=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)de[Pe-2]=arguments[Pe];return x.prototype[G].apply(R,de)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const x=h.length;if(x>0){const w=Array(x);for(let R=0;R<x;R++)w[R]=h[R];return w}return[]}function k(h,x){for(let R=1;R<arguments.length;R++){const G=arguments[R];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=h.length||0;const J=G.length||0;h.length=w+J;for(let de=0;de<J;de++)h[w+de]=G[de]}else h.push(G)}}class V{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function j(h){c.setTimeout(()=>{throw h},0)}function z(){var h=D;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class q{constructor(){this.h=this.g=null}add(x,w){const R=L.get();R.set(x,w),this.h?this.h.next=R:this.g=R,this.h=R}}var L=new V(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,oe=!1,D=new q,E=()=>{const h=Promise.resolve(void 0);Q=()=>{h.then(C)}};function C(){for(var h;h=z();){try{h.h.call(h.g)}catch(w){j(w)}var x=L;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}oe=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};c.addEventListener("test",w,x),c.removeEventListener("test",w,x)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function Ee(h,x){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}b(Ee,N),Ee.prototype.init=function(h,x){const w=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),W=0;function le(h,x,w,R,G){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!R,this.ha=G,this.key=++W,this.da=this.fa=!1}function ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ne(h,x,w){for(const R in h)x.call(w,h[R],R,h)}function Ue(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function B(h){const x={};for(const w in h)x[w]=h[w];return x}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,x){let w,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(w in R)h[w]=R[w];for(let J=0;J<ne.length;J++)w=ne[J],Object.prototype.hasOwnProperty.call(R,w)&&(h[w]=R[w])}}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,x,w,R,G){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const de=De(h,x,R,G);return de>-1?(x=h[de],w||(x.fa=!1)):(x=new le(x,this.src,J,!!R,G),x.fa=w,h.push(x)),x};function we(h,x){const w=x.type;if(w in h.g){var R=h.g[w],G=Array.prototype.indexOf.call(R,x,void 0),J;(J=G>=0)&&Array.prototype.splice.call(R,G,1),J&&(ee(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function De(h,x,w,R){for(let G=0;G<h.length;++G){const J=h[G];if(!J.da&&J.listener==x&&J.capture==!!w&&J.ha==R)return G}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),bt={};function tt(h,x,w,R,G){if(Array.isArray(x)){for(let J=0;J<x.length;J++)tt(h,x[J],w,R,G);return null}return w=he(w),h&&h[Me]?h.J(x,w,d(R)?!!R.capture:!1,G):An(h,x,w,!1,R,G)}function An(h,x,w,R,G,J){if(!x)throw Error("Invalid event type");const de=d(G)?!!G.capture:!!G;let Pe=zs(h);if(Pe||(h[xe]=Pe=new ue(h)),w=Pe.add(x,w,R,de,J),w.proxy)return w;if(R=Jn(),w.proxy=R,R.src=h,R.listener=w,h.addEventListener)P||(G=de),G===void 0&&(G=!1),h.addEventListener(x.toString(),R,G);else if(h.attachEvent)h.attachEvent(Zn(x.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Jn(){function h(w){return x.call(h.src,h.listener,w)}const x=la;return h}function Ln(h,x,w,R,G){if(Array.isArray(x))for(var J=0;J<x.length;J++)Ln(h,x[J],w,R,G);else R=d(R)?!!R.capture:!!R,w=he(w),h&&h[Me]?(h=h.i,J=String(x).toString(),J in h.g&&(x=h.g[J],w=De(x,w,R,G),w>-1&&(ee(x[w]),Array.prototype.splice.call(x,w,1),x.length==0&&(delete h.g[J],h.h--)))):h&&(h=zs(h))&&(x=h.g[x.toString()],h=-1,x&&(h=De(x,w,R,G)),(w=h>-1?x[h]:null)&&Ti(w))}function Ti(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Me])we(x.i,h);else{var w=h.type,R=h.proxy;x.removeEventListener?x.removeEventListener(w,R,h.capture):x.detachEvent?x.detachEvent(Zn(w),R):x.addListener&&x.removeListener&&x.removeListener(R),(w=zs(x))?(we(w,h),w.h==0&&(w.src=null,x[xe]=null)):ee(h)}}}function Zn(h){return h in bt?bt[h]:bt[h]="on"+h}function la(h,x){if(h.da)h=!0;else{x=new Ee(x,this);const w=h.listener,R=h.ha||h.src;h.fa&&Ti(h),h=w.call(R,x)}return h}function zs(h){return h=h[xe],h instanceof ue?h:null}var nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(h){return typeof h=="function"?h:(h[nr]||(h[nr]=function(x){return h.handleEvent(x)}),h[nr])}function Ae(){I.call(this),this.i=new ue(this),this.M=this,this.G=null}b(Ae,I),Ae.prototype[Me]=!0,Ae.prototype.removeEventListener=function(h,x,w,R){Ln(this,h,x,w,R)};function Xe(h,x){var w,R=h.G;if(R)for(w=[];R;R=R.G)w.push(R);if(h=h.M,R=x.type||x,typeof x=="string")x=new N(x,h);else if(x instanceof N)x.target=x.target||h;else{var G=x;x=new N(R,h),ce(x,G)}G=!0;let J,de;if(w)for(de=w.length-1;de>=0;de--)J=x.g=w[de],G=Rt(J,R,!0,x)&&G;if(J=x.g=h,G=Rt(J,R,!0,x)&&G,G=Rt(J,R,!1,x)&&G,w)for(de=0;de<w.length;de++)J=x.g=w[de],G=Rt(J,R,!1,x)&&G}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const w=h.g[x];for(let R=0;R<w.length;R++)ee(w[R]);delete h.g[x],h.h--}}this.G=null},Ae.prototype.J=function(h,x,w,R){return this.i.add(String(h),x,!1,w,R)},Ae.prototype.K=function(h,x,w,R){return this.i.add(String(h),x,!0,w,R)};function Rt(h,x,w,R){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let J=0;J<x.length;++J){const de=x[J];if(de&&!de.da&&de.capture==w){const Pe=de.listener,It=de.ha||de.src;de.fa&&we(h.i,de),G=Pe.call(It,R)!==!1&&G}}return G&&!R.defaultPrevented}function nn(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:c.setTimeout(h,x||0)}function Un(h){h.g=nn(()=>{h.g=null,h.i&&(h.i=!1,Un(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class ft extends I{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Un(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cn(h){I.call(this),this.h=h,this.g={}}b(Cn,I);var ca=[];function vs(h){Ne(h.g,function(x,w){this.g.hasOwnProperty(w)&&Ti(x)},h),h.g={}}Cn.prototype.N=function(){Cn.Z.N.call(this),vs(this)},Cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=c.JSON.stringify,ua=c.JSON.parse,sr=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ho(){}function Qu(){}var bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sn(){N.call(this,"d")}b(sn,N);function es(){N.call(this,"c")}b(es,N);var Nt={},Xu=null;function fo(){return Xu=Xu||new Ae}Nt.Ia="serverreachability";function Wu(h){N.call(this,Nt.Ia,h)}b(Wu,N);function Bs(h){const x=fo();Xe(x,new Wu(x))}Nt.STAT_EVENT="statevent";function ha(h,x){N.call(this,Nt.STAT_EVENT,h),this.stat=x}b(ha,N);function kt(h){const x=fo();Xe(x,new ha(x,h))}Nt.Ja="timingevent";function Fs(h,x){N.call(this,Nt.Ja,h),this.size=x}b(Fs,N);function qs(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},x)}function xs(){this.g=!0}xs.prototype.ua=function(){this.g=!1};function im(h,x,w,R,G,J){h.info(function(){if(h.g)if(J){var de="",Pe=J.split("&");for(let nt=0;nt<Pe.length;nt++){var It=Pe[nt].split("=");if(It.length>1){const xt=It[0];It=It[1];const is=xt.split("_");de=is.length>=2&&is[1]=="type"?de+(xt+"="+It+"&"):de+(xt+"=redacted&")}}}else de=null;else de=J;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+x+`
`+w+`
`+de})}function Ju(h,x,w,R,G,J,de){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+x+`
`+w+`
`+J+" "+de})}function Hs(h,x,w,R){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+rm(h,w)+(R?" "+R:"")})}function da(h,x){h.info(function(){return"TIMEOUT: "+x})}xs.prototype.info=function(){};function rm(h,x){if(!h.g)return x;if(!x)return null;try{const J=JSON.parse(x);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var w=J[h];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let de=1;de<R.length;de++)R[de]=""}}}}return zn(J)}catch{return x}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gl;function ma(){}b(ma,ho),ma.prototype.g=function(){return new XMLHttpRequest},Gl=new ma;function wi(h){return encodeURIComponent(String(h))}function Zu(h){var x=1;h=h.split(":");const w=[];for(;x>0&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function _s(h,x,w,R){this.j=h,this.i=x,this.l=w,this.S=R||1,this.V=new Cn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ts}function Ts(){this.i=null,this.g="",this.h=!1}var jt={},Jt={};function Gs(h,x,w){h.M=1,h.A=pa(Pt(x)),h.u=w,h.R=!0,mo(h,null)}function mo(h,x){h.F=Date.now(),$s(h),h.B=Pt(h.A);var w=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),vo(w.i,"t",R),h.C=0,w=h.j.L,h.h=new Ts,h.g=mh(h.j,w?x:null,!h.u),h.P>0&&(h.O=new ft(p(h.Y,h,h.g),h.P)),x=h.V,w=h.g,R=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(ca[0]=G.toString()),G=ca);for(let J=0;J<G.length;J++){const de=tt(w,G[J],R||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=h.J?B(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Bs(),im(h.i,h.v,h.B,h.l,h.S,h.u)}_s.prototype.ba=function(h){h=h.target;const x=this.O;x&&Ss(h)==3?x.j():this.Y(h)},_s.prototype.Y=function(h){try{if(h==this.g)e:{const Pe=Ss(this.g),It=this.g.ya(),nt=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Pe!=4||It==7||(It==8||nt<=0?Bs(3):Bs(2)),Ks(this);var x=this.g.ca();this.X=x;var w=am(this);if(this.o=x==200,Ju(this.i,this.v,this.B,this.l,this.S,Pe,x),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var J=R;break t}}J=null}if(h=J)Hs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ys(this,h);else{this.o=!1,this.m=3,kt(12),Bn(this),ts(this);break e}}if(this.R){h=!0;let xt;for(;!this.K&&this.C<w.length;)if(xt=th(this,w),xt==Jt){Pe==4&&(this.m=4,kt(14),h=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==jt){this.m=4,kt(15),Hs(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Hs(this.i,this.l,xt,null),Ys(this,xt);if(eh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||w.length!=0||this.h.h||(this.m=1,kt(16),h=!1),this.o=this.o&&h,!h)Hs(this.i,this.l,w,"[Invalid Chunked Response]"),Bn(this),ts(this);else if(w.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ac(de),de.P=!0,kt(11))}}else Hs(this.i,this.l,w,null),Ys(this,w);Pe==4&&Bn(this),this.o&&!this.K&&(Pe==4?uh(this.j,this):(this.o=!1,$s(this)))}else Si(this.g),x==400&&w.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Bn(this),ts(this)}}}catch{}finally{}};function am(h){if(!eh(h))return h.g.la();const x=rn(h.g);if(x==="")return"";let w="";const R=x.length,G=Ss(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Bn(h),ts(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<R;J++)h.h.h=!0,w+=h.h.i.decode(x[J],{stream:!(G&&J==R-1)});return x.length=0,h.h.g+=w,h.C=0,h.h.g}function eh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function th(h,x){var w=h.C,R=x.indexOf(`
`,w);return R==-1?Jt:(w=Number(x.substring(w,R)),isNaN(w)?jt:(R+=1,R+w>x.length?Jt:(x=x.slice(R,R+w),h.C=R+w,x)))}_s.prototype.cancel=function(){this.K=!0,Bn(this)};function $s(h){h.T=Date.now()+h.H,po(h,h.H)}function po(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=qs(p(h.aa,h),x)}function Ks(h){h.D&&(c.clearTimeout(h.D),h.D=null)}_s.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(da(this.i,this.B),this.M!=2&&(Bs(),kt(17)),Bn(this),this.m=2,ts(this)):po(this,this.T-h)};function ts(h){h.j.I==0||h.K||uh(h.j,h)}function Bn(h){Ks(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,vs(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Ys(h,x){try{var w=h.j;if(w.I!=0&&(w.g==h||Xs(w.h,h))){if(!h.L&&Xs(w.h,h)&&w.I==3){try{var R=w.Ba.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)wo(w),hr(w);else break e;Ta(w),kt(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=qs(p(w.Va,w),6e3));Qs(w.h)<=1&&w.ta&&(w.ta=void 0)}else ni(w,11)}else if((h.L||w.g==h)&&wo(w),!O(x))for(G=w.Ba.g.parse(x),x=0;x<G.length;x++){let nt=G[x];const xt=nt[0];if(!(xt<=w.K))if(w.K=xt,nt=nt[1],w.I==2)if(nt[0]=="c"){w.M=nt[1],w.ba=nt[2];const is=nt[3];is!=null&&(w.ka=is,w.j.info("VER="+w.ka));const si=nt[4];si!=null&&(w.za=si,w.j.info("SVER="+w.za));const As=nt[5];As!=null&&typeof As=="number"&&As>0&&(R=1.5*As,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const Cs=h.g;if(Cs){const wa=Cs.g?Cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var J=R.h;J.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Yl(J,J.h),J.h=null))}if(R.G){const Eo=Cs.g?Cs.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(R.wa=Eo,rt(R.J,R.G,Eo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var de=h;if(R.na=fh(R,R.L?R.ba:null,R.W),de.L){Ql(R.h,de);var Pe=de,It=R.O;It&&(Pe.H=It),Pe.D&&(Ks(Pe),$s(Pe)),R.g=de}else lh(R);w.i.length>0&&ti(w)}else nt[0]!="stop"&&nt[0]!="close"||ni(w,7);else w.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ni(w,7):ic(w):nt[0]!="noop"&&w.l&&w.l.qa(nt),w.A=0)}}Bs(4)}catch{}}var Vt=class{constructor(h,x){this.g=h,this.map=x}};function $l(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qs(h){return h.h?1:h.g?h.g.size:0}function Xs(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Yl(h,x){h.g?h.g.add(x):h.h=x}function Ql(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}$l.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.G);return x}return S(h.i)}var nh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(h,x){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const R=h[w].indexOf("=");let G,J=null;R>=0?(G=h[w].substring(0,R),J=h[w].substring(R+1)):G=h[w],x(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Fn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Fn?(this.l=h.l,Zt(this,h.j),this.o=h.o,this.g=h.g,ir(this,h.u),this.h=h.h,Wl(this,ah(h.i)),this.m=h.m):h&&(x=String(h).match(nh))?(this.l=!1,Zt(this,x[1]||"",!0),this.o=Ws(x[2]||""),this.g=Ws(x[3]||"",!0),ir(this,x[4]),this.h=Ws(x[5]||"",!0),Wl(this,x[6]||"",!0),this.m=Ws(x[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}Fn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ga(x,yo,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ga(x,yo,!0),"@"),h.push(wi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(ga(w,w.charAt(0)=="/"?Jl:sh,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",ga(w,ih)),h.join("")},Fn.prototype.resolve=function(h){const x=Pt(this);let w=!!h.j;w?Zt(x,h.j):w=!!h.o,w?x.o=h.o:w=!!h.g,w?x.g=h.g:w=h.u!=null;var R=h.h;if(w)ir(x,h.u);else if(w=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=x.h.lastIndexOf("/");G!=-1&&(R=x.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let de=0;de<G.length;){const Pe=G[de++];Pe=="."?R&&de==G.length&&J.push(""):Pe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&de==G.length&&J.push("")):(J.push(Pe),R=!0)}R=J.join("/")}else R=G}return w?x.h=R:w=h.i.toString()!=="",w?Wl(x,ah(h.i)):w=!!h.m,w&&(x.m=h.m),x};function Pt(h){return new Fn(h)}function Zt(h,x,w){h.j=w?Ws(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function ir(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Wl(h,x,w){x instanceof ar?(h.i=x,bo(h.i,h.l)):(w||(x=ga(x,rr)),h.i=new ar(x,h.l))}function rt(h,x,w){h.i.set(x,w)}function pa(h){return rt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ws(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ga(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,Rn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Rn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yo=/[#\/\?@]/g,sh=/[#\?:]/g,Jl=/[#\?]/g,rr=/[#\?@]/g,ih=/#/g;function ar(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&go(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}t=ar.prototype,t.add=function(h,x){Nn(this),this.i=null,h=or(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function rh(h,x){Nn(h),x=or(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Zl(h,x){return Nn(h),x=or(h,x),h.g.has(x)}t.forEach=function(h,x){Nn(this),this.g.forEach(function(w,R){w.forEach(function(G){h.call(x,G,R,this)},this)},this)};function ec(h,x){Nn(h);let w=[];if(typeof x=="string")Zl(h,x)&&(w=w.concat(h.g.get(or(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)w=w.concat(h[x]);return w}t.set=function(h,x){return Nn(this),this.i=null,h=or(this,h),Zl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=ec(this,h),h.length>0?String(h[0]):x):x};function vo(h,x,w){rh(h,x),w.length>0&&(h.i=null,h.g.set(or(h,x),S(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let R=0;R<x.length;R++){var w=x[R];const G=wi(w);w=ec(this,w);for(let J=0;J<w.length;J++){let de=G;w[J]!==""&&(de+="="+wi(w[J])),h.push(de)}}return this.i=h.join("&")};function ah(h){const x=new ar;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function or(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function bo(h,x){x&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(w,R){const G=R.toLowerCase();R!=G&&(rh(this,R),vo(this,G,w))},h)),h.j=x}function ws(h,x){const w=new xs;if(c.Image){const R=new Image;R.onload=v(ns,w,"TestLoadImage: loaded",!0,x,R),R.onerror=v(ns,w,"TestLoadImage: error",!1,x,R),R.onabort=v(ns,w,"TestLoadImage: abort",!1,x,R),R.ontimeout=v(ns,w,"TestLoadImage: timeout",!1,x,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else x(!1)}function tc(h,x){const w=new xs,R=new AbortController,G=setTimeout(()=>{R.abort(),ns(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:R.signal}).then(J=>{clearTimeout(G),J.ok?ns(w,"TestPingServer: ok",!0,x):ns(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),ns(w,"TestPingServer: error",!1,x)})}function ns(h,x,w,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(w)}catch{}}function lr(){this.g=new sr}function Js(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Js,ho),Js.prototype.g=function(){return new ya(this.i,this.h)};function ya(h,x){Ae.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ya,Ae),t=ya.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Es(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||c).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function xo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?cr(this):Es(this),this.readyState==3&&xo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,cr(this))},t.Na=function(h){this.g&&(this.response=h,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Es(h)}t.setRequestHeader=function(h,x){this.A.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function Es(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ss(h){let x="";return Ne(h,function(w,R){x+=R,x+=":",x+=w,x+=`\r
`}),x}function va(h,x,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=ss(w),typeof h=="string"?w!=null&&wi(w):rt(h,x,w))}function lt(h){Ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(lt,Ae);var Zs=/^https?$/i,nc=["POST","PUT"];t=lt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,x,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gl.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(J){ba(this,J);return}if(h=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)w.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())w.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(nc,x,void 0)>=0)||R||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of w)this.g.setRequestHeader(J,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){ba(this,J)}};function ba(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,sc(h),Ei(h)}function sc(h){h.A||(h.A=!0,Xe(h,"complete"),Xe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Xe(this,"complete"),Xe(this,"abort"),Ei(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xa(this):this.Xa())},t.Xa=function(){xa(this)};function xa(h){if(h.h&&typeof l<"u"){if(h.v&&Ss(h)==4)setTimeout(h.Ca.bind(h),0);else if(Xe(h,"readystatechange"),Ss(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var R;if(R=J===0){let de=String(h.D).match(nh)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),R=!Zs.test(de?de.toLowerCase():"")}w=R}if(w)Xe(h,"complete"),Xe(h,"success");else{h.o=6;try{var G=Ss(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",sc(h)}}finally{Ei(h)}}}}function Ei(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,x||Xe(h,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ss(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),ua(x)}};function rn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Si(h){const x={};h=(h.g&&Ss(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(O(h[R]))continue;var w=Zu(h[R]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=x[G]||[];x[G]=J,J.push(w)}Ue(x,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function ur(h){this.za=0,this.i=[],this.j=new xs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ei("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ei("baseRetryDelayMs",5e3,h),this.Za=ei("retryDelaySeedMs",1e4,h),this.Ta=ei("forwardChannelMaxRetries",2,h),this.va=ei("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(h&&h.concurrentRequestLimit),this.Ba=new lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ur.prototype,t.ka=8,t.I=1,t.connect=function(h,x,w,R){kt(0),this.W=h,this.H=x||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=fh(this,null,this.W),ti(this)};function ic(h){if(_o(h),h.I==3){var x=h.V++,w=Pt(h.J);if(rt(w,"SID",h.M),rt(w,"RID",x),rt(w,"TYPE","terminate"),_a(h,w),x=new _s(h,h.j,x),x.M=2,x.A=pa(Pt(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(x.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=x.A,w=!0),w||(x.g=mh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),$s(x)}dh(h)}function hr(h){h.g&&(ac(h),h.g.cancel(),h.g=null)}function _o(h){hr(h),h.v&&(c.clearTimeout(h.v),h.v=null),wo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ti(h){if(!Kl(h.h)&&!h.m){h.m=!0;var x=h.Ea;Q||E(),oe||(Q(),oe=!0),D.add(x,h),h.D=0}}function To(h,x){return Qs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=qs(p(h.Ea,h,x),hh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new _s(this,this.j,h);let J=this.o;if(this.U&&(J?(J=B(J),ce(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,x>4096){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=oh(this,G,x),w=Pt(this.J),rt(w,"RID",h),rt(w,"CVER",22),this.G&&rt(w,"X-HTTP-Session-Id",this.G),_a(this,w),J&&(this.R?x="headers="+wi(ss(J))+"&"+x:this.u&&va(w,this.u,J)),Yl(this.h,G),this.Ra&&rt(w,"TYPE","init"),this.S?(rt(w,"$req",x),rt(w,"SID","null"),G.U=!0,Gs(G,w,null)):Gs(G,w,x),this.I=2}}else this.I==3&&(h?rc(this,h):this.i.length==0||Kl(this.h)||rc(this))};function rc(h,x){var w;x?w=x.l:w=h.V++;const R=Pt(h.J);rt(R,"SID",h.M),rt(R,"RID",w),rt(R,"AID",h.K),_a(h,R),h.u&&h.o&&va(R,h.u,h.o),w=new _s(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),x&&(h.i=x.G.concat(h.i)),x=oh(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Yl(h.h,w),Gs(w,R,x)}function _a(h,x){h.H&&Ne(h.H,function(w,R){rt(x,R,w)}),h.l&&Ne({},function(w,R){rt(x,R,w)})}function oh(h,x,w){w=Math.min(h.i.length,w);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Pe=-1;for(;;){const It=["count="+w];Pe==-1?w>0?(Pe=G[0].g,It.push("ofs="+Pe)):Pe=0:It.push("ofs="+Pe);let nt=!0;for(let xt=0;xt<w;xt++){var J=G[xt].g;const is=G[xt].map;if(J-=Pe,J<0)Pe=Math.max(0,G[xt].g-100),nt=!1;else try{J="req"+J+"_"||"";try{var de=is instanceof Map?is:Object.entries(is);for(const[si,As]of de){let Cs=As;d(As)&&(Cs=zn(As)),It.push(J+si+"="+encodeURIComponent(Cs))}}catch(si){throw It.push(J+"type="+encodeURIComponent("_badmap")),si}}catch{R&&R(is)}}if(nt){de=It.join("&");break e}}de=void 0}return h=h.i.splice(0,w),x.G=h,de}function lh(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;Q||E(),oe||(Q(),oe=!0),D.add(x,h),h.A=0}}function Ta(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=qs(p(h.Da,h),hh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ch(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=qs(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),hr(this),ch(this))};function ac(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ch(h){h.g=new _s(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Pt(h.na);rt(x,"RID","rpc"),rt(x,"SID",h.M),rt(x,"AID",h.K),rt(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&rt(x,"TO",h.ia),rt(x,"TYPE","xmlhttp"),_a(h,x),h.u&&h.o&&va(x,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=pa(Pt(x)),w.u=null,w.R=!0,mo(w,h)}t.Va=function(){this.C!=null&&(this.C=null,hr(this),Ta(this),kt(19))};function wo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function uh(h,x){var w=null;if(h.g==x){wo(h),ac(h),h.g=null;var R=2}else if(Xs(h.h,x))w=x.G,Ql(h.h,x),R=1;else return;if(h.I!=0){if(x.o)if(R==1){w=x.u?x.u.length:0,x=Date.now()-x.F;var G=h.D;R=fo(),Xe(R,new Fs(R,w)),ti(h)}else lh(h);else if(G=x.m,G==3||G==0&&x.X>0||!(R==1&&To(h,x)||R==2&&Ta(h)))switch(w&&w.length>0&&(x=h.h,x.i=x.i.concat(w)),G){case 1:ni(h,5);break;case 4:ni(h,10);break;case 3:ni(h,6);break;default:ni(h,2)}}}function hh(h,x){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*x}function ni(h,x){if(h.j.info("Error code "+x),x==2){var w=p(h.bb,h),R=h.Ua;const G=!R;R=new Fn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(R,"https"),pa(R),G?ws(R.toString(),w):tc(R.toString(),w)}else kt(2);h.I=0,h.l&&h.l.pa(x),dh(h),_o(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function dh(h){if(h.I=0,h.ja=[],h.l){const x=Xl(h.h);(x.length!=0||h.i.length!=0)&&(k(h.ja,x),k(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function fh(h,x,w){var R=w instanceof Fn?Pt(w):new Fn(w);if(R.g!="")x&&(R.g=x+"."+R.g),ir(R,R.u);else{var G=c.location;R=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const J=new Fn(null);R&&Zt(J,R),x&&(J.g=x),G&&ir(J,G),w&&(J.h=w),R=J}return w=h.G,x=h.wa,w&&x&&rt(R,w,x),rt(R,"VER",h.ka),_a(h,R),R}function mh(h,x,w){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new lt(new Js({ab:w})):new lt(h.ma),x.Fa(h.L),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ph(){}t=ph.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function dr(){}dr.prototype.g=function(h,x){return new Tn(h,x)};function Tn(h,x){Ae.call(this),this.g=new ur(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!O(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Ai(this)}b(Tn,Ae),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){ic(this.g)},Tn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=zn(h),h=w);x.i.push(new Vt(x.Ya++,h)),x.I==3&&ti(x)},Tn.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,Tn.Z.N.call(this)};function gh(h){sn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}b(gh,sn);function yh(){es.call(this),this.status=1}b(yh,es);function Ai(h){this.g=h}b(Ai,ph),Ai.prototype.ra=function(){Xe(this.g,"a")},Ai.prototype.qa=function(h){Xe(this.g,new gh(h))},Ai.prototype.pa=function(h){Xe(this.g,new yh)},Ai.prototype.oa=function(){Xe(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,aS=function(){return new dr},rS=function(){return fo()},iS=Nt,Xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,zd=fa,Hl.COMPLETE="complete",sS=Hl,Qu.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Wc=Qu,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,nS=lt}).apply(typeof Td<"u"?Td:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol="12.8.0";function xM(t){Ol=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Wy("@firebase/firestore");function sl(){return eo.logLevel}function me(t,...e){if(eo.logLevel<=$e.DEBUG){const n=e.map(e0);eo.debug(`Firestore (${Ol}): ${t}`,...n)}}function Wi(t,...e){if(eo.logLevel<=$e.ERROR){const n=e.map(e0);eo.error(`Firestore (${Ol}): ${t}`,...n)}}function vl(t,...e){if(eo.logLevel<=$e.WARN){const n=e.map(e0);eo.warn(`Firestore (${Ol}): ${t}`,...n)}}function e0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,oS(t,i,n)}function oS(t,e,n){let i=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wi(i),new Error(i)}function it(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||oS(e,a,i)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _M{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vn.UNAUTHENTICATED)))}shutdown(){}}class TM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wM{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new Ka;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ka,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ka)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new lS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class EM{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class SM{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new EM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ms(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=CM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ke(t,e){return t<e?-1:t>e?1:0}function Wg(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return mg(a)===mg(l)?Ke(a,l):mg(a)?1:-1}return Ke(t.length,e.length)}const RM=55296,NM=57343;function mg(t){const e=t.charCodeAt(0);return e>=RM&&e<=NM}function bl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__name__";class li{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ce(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=li.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ke(e.length,n.length)}static compareSegments(e,n){const i=li.isNumericId(e),a=li.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?li.extractNumericId(e).compare(li.extractNumericId(n)):Wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class mt extends li{construct(e,n,i){return new mt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const IM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends li{construct(e,n,i){return new dn(e,n,i)}static isValidIdentifier(e){return IM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wT}static keyField(){return new dn([wT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(mt.fromString(e))}static fromName(e){return new Te(mt.fromString(e).popFirst(5))}static empty(){return new Te(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DM(t,e,n,i){if(e===!0&&i===!0)throw new fe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ET(t){if(!Te.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ST(t){if(Te.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(t);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ju(t,e){if(!uS(t))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const c=t[i];if(a&&typeof c!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=-62135596800,CT=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*CT);return new yt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AT)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ju(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Gt("string",yt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new yt(0,0))}static max(){return new ke(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function OM(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(i===1e9?new yt(n+1,0):new yt(n,i));return new Xr(a,Te.empty(),e)}function MM(t){return new Xr(t.readTime,t.key,yu)}class Xr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Xr(ke.min(),Te.empty(),yu)}static max(){return new Xr(ke.max(),Te.empty(),yu)}}function kM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==jM)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,i)=>{n(e)}))}static reject(e){return new ae(((n,i)=>{i(e)}))}static waitFor(e){return new ae(((n,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(f=>i(f)))})),c=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next((a=>a?ae.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ae(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((v=>{c[p]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new ae(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function PM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-1;function Lf(t){return t==null}function sf(t){return t===0&&1/t==-1/0}function LM(t){return typeof t=="number"&&Number.isInteger(t)&&!sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="";function UM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RT(e)),e=zM(t.get(n),e);return RT(e)}function zM(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case hS:n+="";break;default:n+=l}}return n}function RT(t){return t+hS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new hn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IT(this.data.getIterator())}getIteratorFrom(e){return new IT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class IT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Xt(dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new fS("Invalid base64 string: "+l):l}})(e);return new pn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const BM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=BM.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jr(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="server_timestamp",pS="__type__",gS="__previous_value__",yS="__local_write_time__";function s0(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pS])==null?void 0:i.stringValue)===mS}function Uf(t){const e=t.mapValue.fields[gS];return s0(e)?Uf(e):e}function vu(t){const e=Wr(t.mapValue.fields[yS].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,i,a,l,c,d,f,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=b}}const rf="(default)";class bu{constructor(e,n){this.projectId=e,this.database=n||rf}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}function qM(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__type__",HM="__max__",Ed={mapValue:{}},bS="__vector__",af="value";function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s0(t)?4:$M(t)?9007199254740991:GM(t)?10:11:Ce(28295,{value:t})}function pi(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Wr(a.timestampValue),d=Wr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Jr(a.bytesValue).isEqual(Jr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Mt(a.doubleValue),d=Mt(l.doubleValue);return c===d?sf(c)===sf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(NT(c)!==NT(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!pi(c[f],d[f])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function xu(t,e){return(t.values||[]).find((n=>pi(n,e)))!==void 0}function xl(t,e){if(t===e)return 0;const n=Zr(t),i=Zr(e);if(n!==i)return Ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Mt(l.integerValue||l.doubleValue),f=Mt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(vu(t),vu(e));case 5:return Wg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Jr(l),f=Jr(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=Ke(d[p],f[p]);if(v!==0)return v}return Ke(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ke(Mt(l.latitude),Mt(c.latitude));return d!==0?d:Ke(Mt(l.longitude),Mt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return OT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var _,S,k,V;const d=l.fields||{},f=c.fields||{},p=(_=d[af])==null?void 0:_.arrayValue,v=(S=f[af])==null?void 0:S.arrayValue,b=Ke(((k=p==null?void 0:p.values)==null?void 0:k.length)||0,((V=v==null?void 0:v.values)==null?void 0:V.length)||0);return b!==0?b:OT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Ed.mapValue&&c===Ed.mapValue)return 0;if(l===Ed.mapValue)return 1;if(c===Ed.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),p=c.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const _=Wg(f[b],v[b]);if(_!==0)return _;const S=xl(d[f[b]],p[v[b]]);if(S!==0)return S}return Ke(f.length,v.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=Wr(t),i=Wr(e),a=Ke(n.seconds,i.seconds);return a!==0?a:Ke(n.nanos,i.nanos)}function OT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=xl(n[a],i[a]);if(l)return l}return Ke(n.length,i.length)}function _l(t){return Jg(t)}function Jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Wr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Jr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Te.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Jg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Jg(n.fields[c])}`;return a+"}"})(t.mapValue):Ce(61005,{value:t})}function Bd(t){switch(Zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uf(t);return e?16+Bd(e):16;case 5:return 2*t.stringValue.length;case 6:return Jr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Bd(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return ra(i.fields,((l,c)=>{a+=l.length+Bd(c)})),a})(t.mapValue);default:throw Ce(13486,{value:t})}}function MT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zg(t){return!!t&&"integerValue"in t}function i0(t){return!!t&&"arrayValue"in t}function kT(t){return!!t&&"nullValue"in t}function jT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function GM(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vS])==null?void 0:i.stringValue)===bS}function ru(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ra(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=ru(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(t.arrayValue.values[n]);return e}return{...t}}function $M(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=dn.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=ru(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Fd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ra(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Pn(ru(this.value))}}function xS(t){const e=[];return ra(t.fields,((n,i)=>{const a=new dn([n]);if(Fd(i)){const l=xS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new bn(e,0,ke.min(),ke.min(),ke.min(),Pn.empty(),0)}static newFoundDocument(e,n,i,a){return new bn(e,1,n,ke.min(),i,a,0)}static newNoDocument(e,n){return new bn(e,2,n,ke.min(),ke.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,ke.min(),ke.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.position=e,this.inclusive=n}}function VT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Te.comparator(Te.fromName(c.referenceValue),n.key):i=xl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function PT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function KM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class Ht extends _S{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new QM(e,n,i):n==="array-contains"?new JM(e,i):n==="in"?new ZM(e,i):n==="not-in"?new ek(e,i):n==="array-contains-any"?new tk(e,i):new Ht(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new XM(e,i):new WM(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Us extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Us(e,n)}matches(e){return TS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TS(t){return t.op==="and"}function wS(t){return YM(t)&&TS(t)}function YM(t){for(const e of t.filters)if(e instanceof Us)return!1;return!0}function ey(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(wS(t))return t.filters.map((e=>ey(e))).join(",");{const e=t.filters.map((n=>ey(n))).join(",");return`${t.op}(${e})`}}function ES(t,e){return t instanceof Ht?(function(i,a){return a instanceof Ht&&i.op===a.op&&i.field.isEqual(a.field)&&pi(i.value,a.value)})(t,e):t instanceof Us?(function(i,a){return a instanceof Us&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&ES(c,a.filters[d])),!0):!1})(t,e):void Ce(19439)}function SS(t){return t instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`})(t):t instanceof Us?(function(n){return n.op.toString()+" {"+n.getFilters().map(SS).join(" ,")+"}"})(t):"Filter"}class QM extends Ht{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class XM extends Ht{constructor(e,n){super(e,"in",n),this.keys=AS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WM extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=AS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function AS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Te.fromName(i.referenceValue)))}class JM extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i0(n)&&xu(n.arrayValue,this.value)}}class ZM extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class ek extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xu(this.value.arrayValue,n)}}class tk extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>xu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function LT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new nk(t,e,n,i,a,l,c)}function r0(t){const e=Ve(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ey(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>_l(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>_l(i))).join(",")),e.Te=n}return e.Te}function a0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ES(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PT(t.startAt,e.startAt)&&PT(t.endAt,e.endAt)}function ty(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function sk(t,e,n,i,a,l,c,d){return new jl(t,e,n,i,a,l,c,d)}function o0(t){return new jl(t)}function UT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ik(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function CS(t){return t.collectionGroup!==null}function au(t){const e=Ve(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Xt(dn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new _u(l,i))})),n.has(dn.keyField().canonicalString())||e.Ie.push(new _u(dn.keyField(),i))}return e.Ie}function ui(t){const e=Ve(t);return e.Ee||(e.Ee=rk(e,au(t))),e.Ee}function rk(t,e){if(t.limitType==="F")return LT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new _u(a.field,l)}));const n=t.endAt?new of(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new of(t.startAt.position,t.startAt.inclusive):null;return LT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ny(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ak(t,e){const n=t.explicitOrderBy.concat([e]);return new jl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function sy(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zf(t,e){return a0(ui(t),ui(e))&&t.limitType===e.limitType}function RS(t){return`${r0(ui(t))}|lt:${t.limitType}`}function il(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>SS(a))).join(", ")}]`),Lf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>_l(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>_l(a))).join(",")),`Target(${i})`})(ui(t))}; limitType=${t.limitType})`}function Bf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Te.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of au(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,f){const p=VT(c,d,f);return c.inclusive?p<=0:p<0})(i.startAt,au(i),a)||i.endAt&&!(function(c,d,f){const p=VT(c,d,f);return c.inclusive?p>=0:p>0})(i.endAt,au(i),a))})(t,e)}function ok(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NS(t){return(e,n)=>{let i=!1;for(const a of au(t)){const l=lk(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function lk(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),p=d.data.field(l);return f!==null&&p!==null?xl(f,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return dS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new Et(Te.comparator);function Ji(){return ck}const IS=new Et(Te.comparator);function Jc(...t){let e=IS;for(const n of t)e=e.insert(n.key,n);return e}function DS(t){let e=IS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function qa(){return ou()}function OS(){return ou()}function ou(){return new ao((t=>t.toString()),((t,e)=>t.isEqual(e)))}const uk=new Et(Te.comparator),hk=new Xt(Te.comparator);function Ye(...t){let e=hk;for(const n of t)e=e.add(n);return e}const dk=new Xt(Ke);function fk(){return dk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function mk(t,e){return LM(e)?MS(e):l0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this._=void 0}}function pk(t,e,n){return t instanceof lf?(function(a,l){const c={fields:{[pS]:{stringValue:mS},[yS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&s0(l)&&(l=Uf(l)),l&&(c.fields[gS]=l),{mapValue:c}})(n,e):t instanceof Tu?jS(t,e):t instanceof wu?VS(t,e):(function(a,l){const c=kS(a,l),d=zT(c)+zT(a.Ae);return Zg(c)&&Zg(a.Ae)?MS(d):l0(a.serializer,d)})(t,e)}function gk(t,e,n){return t instanceof Tu?jS(t,e):t instanceof wu?VS(t,e):n}function kS(t,e){return t instanceof cf?(function(i){return Zg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class lf extends Ff{}class Tu extends Ff{constructor(e){super(),this.elements=e}}function jS(t,e){const n=PS(e);for(const i of t.elements)n.some((a=>pi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class wu extends Ff{constructor(e){super(),this.elements=e}}function VS(t,e){let n=PS(e);for(const i of t.elements)n=n.filter((a=>!pi(a,i)));return{arrayValue:{values:n}}}class cf extends Ff{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zT(t){return Mt(t.integerValue||t.doubleValue)}function PS(t){return i0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yk(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof Tu&&a instanceof Tu||i instanceof wu&&a instanceof wu?bl(i.elements,a.elements,pi):i instanceof cf&&a instanceof cf?pi(i.Ae,a.Ae):i instanceof lf&&a instanceof lf})(t.transform,e.transform)}class vk{constructor(e,n){this.version=e,this.transformResults=n}}class js{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new js}static exists(e){return new js(void 0,e)}static updateTime(e){return new js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qf{}function LS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new c0(t.key,js.none()):new Vu(t.key,t.data,js.none());{const n=t.data,i=Pn.empty();let a=new Xt(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new aa(t.key,i,new Xn(a.toArray()),js.none())}}function bk(t,e,n){t instanceof Vu?(function(a,l,c){const d=a.value.clone(),f=FT(a.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof aa?(function(a,l,c){if(!qd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=FT(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(US(a)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function lu(t,e,n,i){return t instanceof Vu?(function(l,c,d,f){if(!qd(l.precondition,c))return d;const p=l.value.clone(),v=qT(l.fieldTransforms,f,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,i):t instanceof aa?(function(l,c,d,f){if(!qd(l.precondition,c))return d;const p=qT(l.fieldTransforms,f,c),v=c.data;return v.setAll(US(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,d){return qd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function xk(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=kS(i.transform,a||null);l!=null&&(n===null&&(n=Pn.empty()),n.set(i.field,l))}return n||null}function BT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&bl(i,a,((l,c)=>yk(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends qf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class aa extends qf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function US(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function FT(t,e,n){const i=new Map;it(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,gk(c,d,n[a]))}return i}function qT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,pk(l,c,e))}return i}class c0 extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _k extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&bk(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=lu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=lu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=OS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const f=LS(c,d);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(ke.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,((n,i)=>BT(n,i)))&&bl(this.baseMutations,e.baseMutations,((n,i)=>BT(n,i)))}}class u0{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){it(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return uk})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new u0(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,We;function Sk(t){switch(t){case re.OK:return Ce(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function zS(t){if(t===void 0)return Wi("GRPC error has no .code"),re.UNKNOWN;switch(t){case Ft.OK:return re.OK;case Ft.CANCELLED:return re.CANCELLED;case Ft.UNKNOWN:return re.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return re.INTERNAL;case Ft.UNAVAILABLE:return re.UNAVAILABLE;case Ft.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ft.NOT_FOUND:return re.NOT_FOUND;case Ft.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ft.ABORTED:return re.ABORTED;case Ft.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ft.DATA_LOSS:return re.DATA_LOSS;default:return Ce(39323,{code:t})}}(We=Ft||(Ft={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new $r([4294967295,4294967295],0);function HT(t){const e=Ak().encode(t),n=new tS;return n.update(e),new Uint8Array(n.digest())}function GT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $r([n,i],0),new $r([a,l],0)]}class h0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Zc(`Invalid padding: ${n}`);if(i<0)throw new Zc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Zc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Zc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$r.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply($r.fromNumber(i)));return a.compare(Ck)===1&&(a=new $r([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=HT(e),[i,a]=GT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new h0(l,a,n);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=HT(e),[i,a]=GT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Hf(ke.min(),a,new Et(Ke),Ji(),Ye())}}class Pu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Pu(i,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class BS{constructor(e,n){this.targetId=e,this.Ce=n}}class FS{constructor(e,n,i=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class $T{constructor(){this.ve=0,this.Fe=KT(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),i=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ce(38017,{changeType:l})}})),new Pu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=KT()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Rk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.He=Sd(),this.Je=Sd(),this.Ze=new Et(Ke)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ty(l))if(i===0){const c=new Te(l.path);this.et(n,c,bn.newNoDocument(c,ke.min()))}else it(i===1,20013,{expectedCount:i});else{const c=this._t(n);if(c!==i){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Jr(i).toUint8Array()}catch(f){if(f instanceof fS)return vl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new h0(c,a,l)}catch(f){return vl(f instanceof Zc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&ty(d.target)){const f=new Te(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,bn.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let i=Ye();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Hf(e,n,this.Ze,this.je,i);return this.je=Ji(),this.He=Sd(),this.Je=Sd(),this.Ze=new Et(Ke),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $T,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xt(Ke),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xt(Ke),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $T),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sd(){return new Et(Te.comparator)}function KT(){return new Et(Te.comparator)}const Nk={asc:"ASCENDING",desc:"DESCENDING"},Ik={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dk={and:"AND",or:"OR"};class Ok{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iy(t,e){return t.useProto3Json||Lf(e)?e:{value:e}}function uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mk(t,e){return uf(t,e.toTimestamp())}function hi(t){return it(!!t,49232),ke.fromTimestamp((function(n){const i=Wr(n);return new yt(i.seconds,i.nanos)})(t))}function d0(t,e){return ry(t,e).canonicalString()}function ry(t,e){const n=(function(a){return new mt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function HS(t){const e=mt.fromString(t);return it(QS(e),10190,{key:e.toString()}),e}function ay(t,e){return d0(t.databaseId,e.path)}function pg(t,e){const n=HS(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te($S(n))}function GS(t,e){return d0(t.databaseId,e)}function kk(t){const e=HS(t);return e.length===4?mt.emptyPath():$S(e)}function oy(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $S(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function YT(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function jk(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(it(v===void 0||typeof v=="string",58123),pn.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const v=p.code===void 0?re.UNKNOWN:zS(p.code);return new fe(v,p.message||"")})(c);n=new FS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=pg(t,i.document.name),l=hi(i.document.updateTime),c=i.document.createTime?hi(i.document.createTime):ke.min(),d=new Pn({mapValue:{fields:i.document.fields}}),f=bn.newFoundDocument(a,l,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Hd(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=pg(t,i.document),l=i.readTime?hi(i.readTime):ke.min(),c=bn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new Hd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=pg(t,i.document),l=i.removedTargetIds||[];n=new Hd([],l,a,null)}else{if(!("filter"in e))return Ce(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Ek(a,l),d=i.targetId;n=new BS(d,c)}}return n}function Vk(t,e){let n;if(e instanceof Vu)n={update:YT(t,e.key,e.value)};else if(e instanceof c0)n={delete:ay(t,e.key)};else if(e instanceof aa)n={update:YT(t,e.key,e.data),updateMask:Gk(e.fieldMask)};else{if(!(e instanceof _k))return Ce(16599,{dt:e.type});n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof cf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ce(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Mk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(t,e.precondition)),n}function Pk(t,e){return t&&t.length>0?(it(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?hi(a.updateTime):hi(l);return c.isEqual(ke.min())&&(c=hi(l)),new vk(c,a.transformResults||[])})(n,e)))):[]}function Lk(t,e){return{documents:[GS(t,e.path)]}}function Uk(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=GS(t,a);const l=(function(p){if(p.length!==0)return YS(Us.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(_){return{field:rl(_.field),direction:Fk(_.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=iy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function zk(t){let e=kk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){it(i===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const _=KS(b);return _ instanceof Us&&wS(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((_=>(function(k){return new _u(al(k.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(b){let _;return _=typeof b=="object"?b.value:b,Lf(_)?null:_})(n.limit));let f=null;n.startAt&&(f=(function(b){const _=!!b.before,S=b.values||[];return new of(S,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const _=!b.before,S=b.values||[];return new of(S,_)})(n.endAt)),sk(e,a,c,l,d,"F",f,p)}function Bk(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=al(n.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=al(n.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=al(n.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=al(n.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ht.create(al(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Us.create(n.compositeFilter.filters.map((i=>KS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function Fk(t){return Nk[t]}function qk(t){return Ik[t]}function Hk(t){return Dk[t]}function rl(t){return{fieldPath:t.canonicalString()}}function al(t){return dn.fromServerFormat(t.fieldPath)}function YS(t){return t instanceof Ht?(function(n){if(n.op==="=="){if(jT(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(kT(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jT(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(kT(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:qk(n.op),value:n.value}}})(t):t instanceof Us?(function(n){const i=n.getFilters().map((a=>YS(a)));return i.length===1?i[0]:{compositeFilter:{op:Hk(n.op),filters:i}}})(t):Ce(54877,{filter:t})}function Gk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function XS(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,i,a,l=ke.min(),c=ke.min(),d=pn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.yt=e}}function Kk(t){const e=zk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.Sn=new Qk}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Xr.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Qk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Xt(mt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Xt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WS=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(WS,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Tl(0)}static ar(){return new Tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="LruGarbageCollector",Xk=1048576;function WT([t,e],[n,i]){const a=Ke(t,n);return a===0?Ke(e,i):a}class Wk{constructor(e){this.Pr=e,this.buffer=new Xt(WT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();WT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jk{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(XT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?me(XT,"Ignoring IndexedDB error during garbage collection: ",n):await Ml(n)}await this.Ar(3e5)}))}}class Zk{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Pf.ce);const i=new Wk(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(QT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,c,d,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,d=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(p=Date.now(),sl()<=$e.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function ej(t,e){return new Zk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.changes=new ao((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&lu(i.mutation,a,Xn.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ye()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ye()){const a=qa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=Jc();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=qa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ye())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,i,a){let l=Ji();const c=ou(),d=(function(){return ou()})();return n.forEach(((f,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof aa)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),lu(v.mutation,p,v.mutation.getFieldMask(),yt.now())):c.set(p.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>d.set(p,new nj(v,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const i=ou();let a=new Et(((c,d)=>c-d)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let v=i.get(f)||Xn.empty();v=d.applyToLocalView(p,v),i.set(f,v);const b=(a.get(d.batchId)||Ye()).add(f);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,v=f.value,b=OS();v.forEach((_=>{if(!l.has(_)){const S=LS(n.get(_),i.get(_));S!==null&&b.set(_,S),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ae.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return ik(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(qa());let d=yu,f=l;return c.next((p=>ae.forEach(p,((v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((_=>{f=f.insert(v,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Ye()))).next((v=>({batchId:d,changes:DS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((i=>{let a=Jc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=Jc();return this.indexManager.getCollectionParents(e,l).next((d=>ae.forEach(d,(f=>{const p=(function(b,_){return new jl(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((v=>{v.forEach(((b,_)=>{c=c.insert(b,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((f,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,bn.newInvalidDocument(v)))}));let d=Jc();return c.forEach(((f,p)=>{const v=l.get(f);v!==void 0&&lu(v.mutation,p,Xn.empty(),yt.now()),Bf(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:hi(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:Kk(a.bundledQuery),readTime:hi(a.readTime)}})(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.overlays=new Et(Te.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=qa();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=qa(),l=n.length+1,c=new Te(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Et(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=qa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=qa(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return ae.resolve(d)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new wk(n,i));let l=this.Lr.get(n);l===void 0&&(l=Ye(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.kr=new Xt(tn.Kr),this.qr=new Xt(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new tn(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new tn(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new Te(new mt([])),i=new tn(n,e),a=new tn(n,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new mt([])),i=new tn(n,e),a=new tn(n,e+1);let l=Ye();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new tn(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||Ke(e.Hr,n.Hr)}static Ur(e,n){return Ke(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(tn.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Tk(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new tn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?n0:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new tn(n,0),a=new tn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xt(Ke);return n.forEach((a=>{const l=new tn(a,0),c=new tn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),ae.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Te.isDocumentKey(l)||(l=l.child(""));const c=new tn(new Te(l),0);let d=new Xt(Ke);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(f.Hr)),!0)}),c),ae.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){it(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ae.forEach(n.mutations,(a=>{const l=new tn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new tn(n,0),a=this.Jr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.ti=e,this.docs=(function(){return new Et(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let i=Ji();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():bn.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Ji();const c=n.path,d=new Te(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||kM(MM(v),i)<=0||(a.has(v.key)||Bf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ce(9500)}ni(e,n){return ae.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new cj(this)}getSize(e){return ae.resolve(this.size)}}class cj extends tj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.persistence=e,this.ri=new ao((n=>r0(n)),a0),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.ii=0,this.si=new f0,this.targetCount=0,this.oi=Tl._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this._i={},this.overlays={},this.ai=new Pf(0),this.ui=!1,this.ui=!0,this.ci=new aj,this.referenceDelegate=e(this),this.li=new uj(this),this.indexManager=new Yk,this.remoteDocumentCache=(function(a){return new lj(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new $k(n),this.Pi=new ij(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new oj(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new hj(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ae.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class hj extends VM{constructor(e){super(),this.currentSequenceNumber=e}}class m0{constructor(e){this.persistence=e,this.Ri=new f0,this.Ai=null}static Vi(e){return new m0(e)}get di(){if(this.Ai)return this.Ai;throw Ce(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(i=>{const a=Te.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,ke.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class hf{constructor(e,n){this.persistence=e,this.fi=new ao((i=>UM(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=ej(this,n)}static Vi(e,n){return new hf(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(i++,l.removeEntry(c,ke.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bd(e.data.value)),n}wr(e,n,i){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new p0(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return nO()?8:PM(_n())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new dj;return this.ys(e,n,c).next((d=>{if(l.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(sl()<=$e.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(sl()<=$e.DEBUG&&me("QueryEngine","Query:",il(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(sl()<=$e.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):ae.resolve())}gs(e,n){if(UT(n))return ae.resolve(null);let i=ui(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=sy(n,null,"F"),i=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ye(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((f=>{const p=this.bs(n,d);return this.Ss(n,p,c,f.readTime)?this.gs(e,sy(n,null,"F")):this.Ds(e,p,n,f)}))))})))))}ps(e,n,i,a){return UT(n)||a.isEqual(ke.min())?ae.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,i,a)?ae.resolve(null):(sl()<=$e.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),il(n)),this.Ds(e,c,n,OM(a,yu)).next((d=>d)))}))}bs(e,n){let i=new Xt(NS(e));return n.forEach(((a,l)=>{Bf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return sl()<=$e.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",il(n)),this.fs.getDocumentsMatchingQuery(e,n,Xr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="LocalStore",mj=3e8;class pj{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Et(Ke),this.Fs=new ao((l=>r0(l)),a0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function gj(t,e,n,i){return new pj(t,e,n,i)}async function ZS(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let f=Ye();for(const p of a){c.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function yj(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,v){const b=p.batch,_=b.keys();let S=ae.resolve();return _.forEach((k=>{S=S.next((()=>v.getEntry(f,k))).next((V=>{const j=p.docVersions.get(k);it(j!==null,48541),V.version.compareTo(j)<0&&(b.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),v.addEntry(V)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(f,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let f=Ye();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function eA(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function vj(t,e){const n=Ve(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];e.targetChanges.forEach(((v,b)=>{const _=a.get(b);if(!_)return;d.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let S=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(pn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),(function(V,j,z){return V.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=mj?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(_,S,v)&&d.push(n.li.updateTargetData(l,S))}));let f=Ji(),p=Ye();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(bj(l,c,e.documentUpdates).next((v=>{f=v.Bs,p=v.Ls}))),!i.isEqual(ke.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return ae.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.vs=a,l)))}function bj(t,e,n){let i=Ye(),a=Ye();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=Ji();return n.forEach(((d,f)=>{const p=l.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):me(g0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function xj(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=n0),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function _j(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):n.li.allocateTargetId(i).next((c=>(a=new Fr(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function ly(t,e,n){const i=Ve(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!kl(c))throw c;me(g0,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function JT(t,e,n){const i=Ve(t);let a=ke.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,p,v){const b=Ve(f),_=b.Fs.get(v);return _!==void 0?ae.resolve(b.vs.get(_)):b.li.getTargetData(p,v)})(i,c,ui(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,n?a:ke.min(),n?l:Ye()))).next((d=>(Tj(i,ok(e),d),{documents:d,ks:l})))))}function Tj(t,e,n){let i=t.Ms.get(e)||ke.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class ZT{constructor(){this.activeTargetIds=fk()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wj{constructor(){this.vo=new ZT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ZT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="ConnectivityMonitor";class t1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(e1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(e1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function cy(){return Ad===null?Ad=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="RestConnection",Sj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Aj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===rf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const c=cy(),d=this.Qo(e,n.toUriEncodedString());me(gg,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,l);const{host:p}=new URL(d),v=io(p);return this.zo(e,d,f,i,v).then((b=>(me(gg,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw vl(gg,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b}))}jo(e,n,i,a,l,c){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=Sj[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection",$c=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class hl extends Aj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!hl.c_){const e=rS();$c(e,iS.STAT_EVENT,(n=>{n.stat===Xg.PROXY?me(yn,"STAT_EVENT: detected buffering proxy"):n.stat===Xg.NOPROXY&&me(yn,"STAT_EVENT: detected no buffering proxy")})),hl.c_=!0}}zo(e,n,i,a,l){const c=cy();return new Promise(((d,f)=>{const p=new nS;p.setWithCredentials(!0),p.listenOnce(sS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case zd.NO_ERROR:const b=p.getResponseJson();me(yn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case zd.TIMEOUT:me(yn,`RPC '${e}' ${c} timed out`),f(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const _=p.getStatus();if(me(yn,`RPC '${e}' ${c} failed with status:`,_,"response text:",p.getResponseText()),_>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const V=(function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(q)>=0?q:re.UNKNOWN})(k.status);f(new fe(V,k.message))}else f(new fe(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(yn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);me(yn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,i,15)}))}T_(e,n,i){const a=cy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=l.join("");me(yn,`Creating RPC '${e}' stream ${a}: ${p}`,d);const v=c.createWebChannel(p,d);this.I_(v);let b=!1,_=!1;const S=new Cj({Ho:k=>{_?me(yn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(b||(me(yn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),me(yn,`RPC '${e}' stream ${a} sending:`,k),v.send(k))},Jo:()=>v.close()});return $c(v,Wc.EventType.OPEN,(()=>{_||(me(yn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),$c(v,Wc.EventType.CLOSE,(()=>{_||(_=!0,me(yn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),$c(v,Wc.EventType.ERROR,(k=>{_||(_=!0,vl(yn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),S.o_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),$c(v,Wc.EventType.MESSAGE,(k=>{var V;if(!_){const j=k.data[0];it(!!j,16349);const z=j,q=(z==null?void 0:z.error)||((V=z[0])==null?void 0:V.error);if(q){me(yn,`RPC '${e}' stream ${a} received error:`,q);const L=q.status;let $=(function(D){const E=Ft[D];if(E!==void 0)return zS(E)})(L),Q=q.message;$===void 0&&($=re.INTERNAL,Q="Unknown error status: "+L+" with message "+q.message),_=!0,S.o_(new fe($,Q)),v.close()}else me(yn,`RPC '${e}' stream ${a} received:`,j),S.__(j)}})),hl.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t){return new hl(t)}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){return new Ok(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hl.c_=!1;class tA{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="PersistentStream";class nA{constructor(e,n,i,a,l,c,d,f){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new fe(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(n1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(n1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nj extends nA{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jk(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?hi(c.readTime):ke.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=oy(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=ty(f)?{documents:Lk(l,f)}:{query:Uk(l,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=qS(l,c.resumeToken);const p=iy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(ke.min())>0){d.readTime=uf(l,c.snapshotVersion.toTimestamp());const p=iy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=Bk(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=oy(this.serializer),n.removeTarget=e,this.K_(n)}}class Ij extends nA{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Pk(e.writeResults,e.commitTime),i=hi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=oy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>Vk(this.serializer,i)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{}class Oj extends Dj{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,ry(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(re.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,ry(n,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Mj(t,e,n,i){return new Oj(t,e,n,i)}class kj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="RemoteStore";class jj{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{oo(this)&&(me(to,"Restarting streams for network reachability change."),await(async function(f){const p=Ve(f);p.Ea.add(4),await Lu(p),p.Va.set("Unknown"),p.Ea.delete(4),await $f(p)})(this))}))})),this.Va=new kj(i,a)}}async function $f(t){if(oo(t))for(const e of t.Ra)await e(!0)}async function Lu(t){for(const e of t.Ra)await e(!1)}function sA(t,e){const n=Ve(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),x0(n)?b0(n):Vl(n).O_()&&v0(n,e))}function y0(t,e){const n=Ve(t),i=Vl(n);n.Ia.delete(e),i.O_()&&iA(n,e),n.Ia.size===0&&(i.O_()?i.L_():oo(n)&&n.Va.set("Unknown"))}function v0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vl(t).Z_(e)}function iA(t,e){t.da.$e(e),Vl(t).X_(e)}function b0(t){t.da=new Rk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vl(t).start(),t.Va.ua()}function x0(t){return oo(t)&&!Vl(t).x_()&&t.Ia.size>0}function oo(t){return Ve(t).Ea.size===0}function rA(t){t.da=void 0}async function Vj(t){t.Va.set("Online")}async function Pj(t){t.Ia.forEach(((e,n)=>{v0(t,e)}))}async function Lj(t,e){rA(t),x0(t)?(t.Va.ha(e),b0(t)):t.Va.set("Unknown")}async function Uj(t,e,n){if(t.Va.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(t,e)}catch(i){me(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await df(t,i)}else if(e instanceof Hd?t.da.Xe(e):e instanceof BS?t.da.st(e):t.da.tt(e),!n.isEqual(ke.min()))try{const i=await eA(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,p)=>{const v=l.Ia.get(f);if(!v)return;l.Ia.set(f,v.withResumeToken(pn.EMPTY_BYTE_STRING,v.snapshotVersion)),iA(l,f);const b=new Fr(v.target,f,p,v.sequenceNumber);v0(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(i){me(to,"Failed to raise snapshot:",i),await df(t,i)}}async function df(t,e,n){if(!kl(e))throw e;t.Ea.add(1),await Lu(t),t.Va.set("Offline"),n||(n=()=>eA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(to,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $f(t)}))}function aA(t,e){return e().catch((n=>df(t,n,e)))}async function Kf(t){const e=Ve(t),n=ea(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:n0;for(;zj(e);)try{const a=await xj(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,Bj(e,a)}catch(a){await df(e,a)}oA(e)&&lA(e)}function zj(t){return oo(t)&&t.Ta.length<10}function Bj(t,e){t.Ta.push(e);const n=ea(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function oA(t){return oo(t)&&!ea(t).x_()&&t.Ta.length>0}function lA(t){ea(t).start()}async function Fj(t){ea(t).ra()}async function qj(t){const e=ea(t);for(const n of t.Ta)e.ea(n.mutations)}async function Hj(t,e,n){const i=t.Ta.shift(),a=u0.from(i,e,n);await aA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Kf(t)}async function Gj(t,e){e&&ea(t).Y_&&await(async function(i,a){if((function(c){return Sk(c)&&c!==re.ABORTED})(a.code)){const l=i.Ta.shift();ea(i).B_(),await aA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Kf(i)}})(t,e),oA(t)&&lA(t)}async function s1(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),me(to,"RemoteStore received new credentials");const i=oo(n);n.Ea.add(3),await Lu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $f(n)}async function $j(t,e){const n=Ve(t);e?(n.Ea.delete(2),await $f(n)):e||(n.Ea.add(2),await Lu(n),n.Va.set("Unknown"))}function Vl(t){return t.ma||(t.ma=(function(n,i,a){const l=Ve(n);return l.sa(),new Nj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Vj.bind(null,t),Yo:Pj.bind(null,t),t_:Lj.bind(null,t),J_:Uj.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),x0(t)?b0(t):t.Va.set("Unknown")):(await t.ma.stop(),rA(t))}))),t.ma}function ea(t){return t.fa||(t.fa=(function(n,i,a){const l=Ve(n);return l.sa(),new Ij(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Fj.bind(null,t),t_:Gj.bind(null,t),ta:qj.bind(null,t),na:Hj.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Kf(t)):(await t.fa.stop(),t.Ta.length>0&&(me(to,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new _0(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T0(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),kl(t))return new fe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=Jc(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new dl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.ga=new Et(Te.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class wl{constructor(e,n,i,a,l,c,d,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new wl(e,n,dl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Yj{constructor(){this.queries=r1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ve(n),l=a.queries;a.queries=r1(),l.forEach(((c,d)=>{for(const f of d.ba)f.onError(i)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function r1(){return new ao((t=>RS(t)),zf)}async function Qj(t,e){const n=Ve(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new Kj,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=T0(c,`Initialization of query '${il(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&w0(n)}async function Xj(t,e){const n=Ve(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Wj(t,e){const n=Ve(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&w0(n)}function Jj(t,e,n){const i=Ve(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function w0(t){t.Ca.forEach((e=>{e.next()}))}var uy,a1;(a1=uy||(uy={})).Ma="default",a1.Cache="cache";class Zj{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new wl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.key=e}}class uA{constructor(e){this.key=e}}class eV{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.eu=NS(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new i1,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const _=a.get(v),S=Bf(this.query,b)?b:null,k=!!_&&this.mutatedKeys.has(_.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let j=!1;_&&S?_.data.isEqual(S.data)?k!==V&&(i.track({type:3,doc:S}),j=!0):this.su(_,S)||(i.track({type:2,doc:S}),j=!0,(f&&this.eu(S,f)>0||p&&this.eu(S,p)<0)&&(d=!0)):!_&&S?(i.track({type:0,doc:S}),j=!0):_&&!S&&(i.track({type:1,doc:_}),j=!0,(f||p)&&(d=!0)),j&&(S?(c=c.add(S),l=V?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(S,k){const V=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Vt:j})}};return V(S)-V(k)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(i),a=a??!1;const d=n&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,p=f!==this.Xa;return this.Xa=f,c.length!==0||p?{snapshot:new wl(this.query,e.tu,l,c,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new i1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new uA(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new cA(i))})),n}cu(e){this.Za=e.ks,this.Ya=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const E0="SyncEngine";class tV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class nV{constructor(e){this.key=e,this.hu=!1}}class sV{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ao((d=>RS(d)),zf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Et(Te.comparator),this.Au=new Map,this.Vu=new f0,this.du={},this.mu=new Map,this.fu=Tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iV(t,e,n=!0){const i=gA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await hA(i,e,n,!0),a}async function rV(t,e){const n=gA(t);await hA(n,e,!0,!1)}async function hA(t,e,n,i){const a=await _j(t.localStore,ui(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await aV(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&sA(t.remoteStore,a),d}async function aV(t,e,n,i,a){t.pu=(b,_,S)=>(async function(V,j,z,q){let L=j.view.ru(z);L.Ss&&(L=await JT(V.localStore,j.query,!1).then((({documents:D})=>j.view.ru(D,L))));const $=q&&q.targetChanges.get(j.targetId),Q=q&&q.targetMismatches.get(j.targetId)!=null,oe=j.view.applyChanges(L,V.isPrimaryClient,$,Q);return l1(V,j.targetId,oe.au),oe.snapshot})(t,b,_,S);const l=await JT(t.localStore,e,!0),c=new eV(e,l.ks),d=c.ru(l.documents),f=Pu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,f);l1(t,n,p.au);const v=new tV(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function oV(t,e,n){const i=Ve(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!zf(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ly(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&y0(i.remoteStore,a.targetId),hy(i,a.targetId)})).catch(Ml)):(hy(i,a.targetId),await ly(i.localStore,a.targetId,!0))}async function lV(t,e){const n=Ve(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),y0(n.remoteStore,i.targetId))}async function cV(t,e,n){const i=gV(t);try{const a=await(function(c,d){const f=Ve(c),p=yt.now(),v=d.reduce(((S,k)=>S.add(k.key)),Ye());let b,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let k=Ji(),V=Ye();return f.xs.getEntries(S,v).next((j=>{k=j,k.forEach(((z,q)=>{q.isValidDocument()||(V=V.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,k))).next((j=>{b=j;const z=[];for(const q of d){const L=xk(q,b.get(q.key).overlayedDocument);L!=null&&z.push(new aa(q.key,L,xS(L.value.mapValue),js.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,z,d)})).next((j=>{_=j;const z=j.applyToLocalDocumentSet(b,V);return f.documentOverlayCache.saveOverlays(S,j.batchId,z)}))})).then((()=>({batchId:_.batchId,changes:DS(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let p=c.du[c.currentUser.toKey()];p||(p=new Et(Ke)),p=p.insert(d,f),c.du[c.currentUser.toKey()]=p})(i,a.batchId,n),await Uu(i,a.changes),await Kf(i.remoteStore)}catch(a){const l=T0(a,"Failed to persist write");n.reject(l)}}async function dA(t,e){const n=Ve(t);try{const i=await vj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(it(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?it(c.hu,14607):a.removedDocuments.size>0&&(it(c.hu,42227),c.hu=!1))})),await Uu(n,i,e)}catch(i){await Ml(i)}}function o1(t,e,n){const i=Ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Ve(c);f.onlineState=d;let p=!1;f.queries.forEach(((v,b)=>{for(const _ of b.ba)_.va(d)&&(p=!0)})),p&&w0(f)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uV(t,e,n){const i=Ve(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new Et(Te.comparator);c=c.insert(l,bn.newNoDocument(l,ke.min()));const d=Ye().add(l),f=new Hf(ke.min(),new Map,new Et(Ke),c,d);await dA(i,f),i.Ru=i.Ru.remove(l),i.Au.delete(e),S0(i)}else await ly(i.localStore,e,!1).then((()=>hy(i,e,n))).catch(Ml)}async function hV(t,e){const n=Ve(t),i=e.batch.batchId;try{const a=await yj(n.localStore,e);mA(n,i,null),fA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Uu(n,a)}catch(a){await Ml(a)}}async function dV(t,e,n){const i=Ve(t);try{const a=await(function(c,d){const f=Ve(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next((b=>(it(b!==null,37113),v=b.keys(),f.mutationQueue.removeMutationBatch(p,b)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(i.localStore,e);mA(i,e,n),fA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Uu(i,a)}catch(a){await Ml(a)}}function fA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function mA(t,e,n){const i=Ve(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||pA(t,i)}))}function pA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(y0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),S0(t))}function l1(t,e,n){for(const i of n)i instanceof cA?(t.Vu.addReference(i.key,e),fV(t,i)):i instanceof uA?(me(E0,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||pA(t,i.key)):Ce(19791,{wu:i})}function fV(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(me(E0,"New document in limbo: "+n),t.Eu.add(i),S0(t))}function S0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(mt.fromString(e)),i=t.fu.next();t.Au.set(i,new nV(n)),t.Ru=t.Ru.insert(n,i),sA(t.remoteStore,new Fr(ui(o0(n.path)),i,"TargetPurposeLimboResolution",Pf.ce))}}async function Uu(t,e,n){const i=Ve(t),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,f)=>{c.push(i.pu(f,e,n).then((p=>{var v;if((p||n)&&i.isPrimaryClient){const b=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(p){a.push(p);const b=p0.Es(f.targetId,p);l.push(b)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(f,p){const v=Ve(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ae.forEach(p,(_=>ae.forEach(_.Ts,(S=>v.persistence.referenceDelegate.addReference(b,_.targetId,S))).next((()=>ae.forEach(_.Is,(S=>v.persistence.referenceDelegate.removeReference(b,_.targetId,S)))))))))}catch(b){if(!kl(b))throw b;me(g0,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const S=v.vs.get(_),k=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(k);v.vs=v.vs.insert(_,V)}}})(i.localStore,l))}async function mV(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){me(E0,"User change. New user:",e.toKey());const i=await ZS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new fe(re.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Uu(n,i.Ns)}}function pV(t,e){const n=Ve(t),i=n.Au.get(e);if(i&&i.hu)return Ye().add(i.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function gA(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uV.bind(null,e),e.Pu.J_=Wj.bind(null,e.eventManager),e.Pu.yu=Jj.bind(null,e.eventManager),e}function gV(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dV.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gj(this.persistence,new fj,e.initialUser,this.serializer)}Cu(e){return new JS(m0.Vi,this.serializer)}Du(e){return new wj}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class yV extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof hf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Jk(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new JS((i=>hf.Vi(i,n)),this.serializer)}}class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>o1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mV.bind(null,this.syncEngine),await $j(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Yj})()}createDatastore(e){const n=Gf(e.databaseInfo.databaseId),i=Rj(e.databaseInfo);return Mj(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,d){return new jj(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>o1(this.syncEngine,n,0)),(function(){return t1.v()?new t1:new Ej})())}createSyncEngine(e,n){return(function(a,l,c,d,f,p,v){const b=new sV(a,l,c,d,f,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Ve(a);me(to,"RemoteStore shutting down."),l.Ea.add(5),await Lu(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}dy.provider={build:()=>new dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class bV{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=vn.UNAUTHENTICATED,this.clientId=t0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{me(ta,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(me(ta,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=T0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function vg(t,e){t.asyncQueue.verifyOperationInProgress(),me(ta,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await ZS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function c1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xV(t);me(ta,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>s1(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>s1(e.remoteStore,a))),t._onlineComponents=e}async function xV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ta,"Using user provided OfflineComponentProvider");try{await vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await vg(t,new ff)}}else me(ta,"Using default OfflineComponentProvider"),await vg(t,new yV(void 0));return t._offlineComponents}async function yA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ta,"Using user provided OnlineComponentProvider"),await c1(t,t._uninitializedComponentsProvider._online)):(me(ta,"Using default OnlineComponentProvider"),await c1(t,new dy))),t._onlineComponents}function _V(t){return yA(t).then((e=>e.syncEngine))}async function u1(t){const e=await yA(t),n=e.eventManager;return n.onListen=iV.bind(null,e.syncEngine),n.onUnlisten=oV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lV.bind(null,e.syncEngine),n}function TV(t,e,n,i){const a=new vV(i),l=new Zj(e,a,n);return t.asyncQueue.enqueueAndForget((async()=>Qj(await u1(t),l))),()=>{a.Nu(),t.asyncQueue.enqueueAndForget((async()=>Xj(await u1(t),l)))}}function wV(t,e){const n=new Ka;return t.asyncQueue.enqueueAndForget((async()=>cV(await _V(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="ComponentProvider",h1=new Map;function SV(t,e,n,i,a){return new FM(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,vA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firestore.googleapis.com",d1=!0;class f1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bA,this.ssl=d1}else this.host=e.host,this.ssl=e.ssl??d1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xk)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new _M;switch(i.type){case"firstParty":return new SM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=h1.get(n);i&&(me(EV,"Removing Datastore"),h1.delete(n),i.terminate())})(this),Promise.resolve()}}function AV(t,e,n,i={}){var p;t=Kr(t,Yf);const a=io(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Qy(`https://${d}`),Xy("Firestore",!0)),l.host!==bA&&l.host!==d&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:i};if(!Ja(f,c)&&(t._setSettings(f),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=vn.MOCK_USER;else{v=QE(i.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new vn(_)}t._authCredentials=new TM(new lS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class $t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ju(n,$t._jsonSchema))return new $t(e,i||null,new Te(mt.fromString(n.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Gt("string",$t._jsonSchemaVersion),referencePath:Gt("string")};class Yr extends lo{constructor(e,n,i){super(e,n,o0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Te(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function Cd(t,e,...n){if(t=Wt(t),cS("collection","path",e),t instanceof Yf){const i=mt.fromString(e,...n);return ST(i),new Yr(t,null,i)}{if(!(t instanceof $t||t instanceof Yr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(mt.fromString(e,...n));return ST(i),new Yr(t.firestore,null,i)}}function eu(t,e,...n){if(t=Wt(t),arguments.length===1&&(e=t0.newId()),cS("doc","path",e),t instanceof Yf){const i=mt.fromString(e,...n);return ET(i),new $t(t,null,new Te(i))}{if(!(t instanceof $t||t instanceof Yr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(mt.fromString(e,...n));return ET(i),new $t(t.firestore,t instanceof Yr?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="AsyncQueue";class p1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tA(this,"async_queue_retry"),this._c=()=>{const i=yg();i&&me(m1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ka;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!kl(e))throw e;me(m1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",g1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=_0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ce(47125,{Pc:g1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function g1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class El extends Yf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new p1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p1(e),this._firestoreClient=void 0,await e}}}function CV(t,e){const n=typeof t=="object"?t:Zy(),i=typeof t=="string"?t:rf,a=jf(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=$E("firestore");l&&AV(a,...l)}return a}function xA(t){if(t._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RV(t),t._firestoreClient}function RV(t){var i,a,l,c;const e=t._freezeSettings(),n=SV(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(pn.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ps(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ju(e,ps._jsonSchema))return ps.fromBase64String(e.bytes)}}ps._jsonSchemaVersion="firestore/bytes/1.0",ps._jsonSchema={type:Gt("string",ps._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(ju(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Gt("string",di._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ju(e,Vs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vs(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vs._jsonSchemaVersion="firestore/vectorValue/1.0",Vs._jsonSchema={type:Gt("string",Vs._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=/^__.*__$/;class IV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class _A{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{dataSource:t})}}class R0{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new R0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var a;const n=(a=this.path)==null?void 0:a.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return mf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(TA(this.dataSource)&&NV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class DV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Gf(e)}createContext(e,n,i,a=!1){return new R0({dataSource:e,methodName:n,targetDoc:i,path:dn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(t){const e=t._freezeSettings(),n=Gf(t._databaseId);return new DV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OV(t,e,n,i,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);I0("Data must be an object, but it was:",c,i);const d=wA(i,c);let f,p;if(l.merge)f=new Xn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const _=Sl(e,b,n);if(!c.contains(_))throw new fe(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);AA(v,_)||v.push(_)}f=new Xn(v),p=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,p=c.fieldTransforms;return new IV(new Pn(d),f,p)}class Qf extends C0{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function MV(t,e,n,i){const a=t.createContext(1,e,n);I0("Data must be an object, but it was:",a,i);const l=[],c=Pn.empty();ra(i,((f,p)=>{const v=SA(e,f,n);p=Wt(p);const b=a.childContextForFieldPath(v);if(p instanceof Qf)l.push(v);else{const _=zu(p,b);_!=null&&(l.push(v),c.set(v,_))}}));const d=new Xn(l);return new _A(c,d,a.fieldTransforms)}function kV(t,e,n,i,a,l){const c=t.createContext(1,e,n),d=[Sl(e,i,n)],f=[a];if(l.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)d.push(Sl(e,l[_])),f.push(l[_+1]);const p=[],v=Pn.empty();for(let _=d.length-1;_>=0;--_)if(!AA(p,d[_])){const S=d[_];let k=f[_];k=Wt(k);const V=c.childContextForFieldPath(S);if(k instanceof Qf)p.push(S);else{const j=zu(k,V);j!=null&&(p.push(S),v.set(S,j))}}const b=new Xn(p);return new _A(v,b,c.fieldTransforms)}function jV(t,e,n,i=!1){return zu(n,t.createContext(i?4:3,e))}function zu(t,e){if(EA(t=Wt(t)))return I0("Unsupported field value:",e,t),wA(t,e);if(t instanceof C0)return(function(i,a){if(!TA(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let f=zu(d,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=yt.fromDate(i);return{timestampValue:uf(a.serializer,l)}}if(i instanceof yt){const l=new yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:uf(a.serializer,l)}}if(i instanceof di)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ps)return{bytesValue:qS(a.serializer,i._byteString)};if(i instanceof $t){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:d0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Vs)return(function(c,d){const f=c instanceof Vs?c.toArray():c;return{mapValue:{fields:{[vS]:{stringValue:bS},[af]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return l0(d.serializer,v)}))}}}}}})(i,a);if(XS(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Vf(i)}`)})(t,e)}function wA(t,e){const n={};return dS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(t,((i,a)=>{const l=zu(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function EA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof di||t instanceof ps||t instanceof $t||t instanceof C0||t instanceof Vs||XS(t))}function I0(t,e,n){if(!EA(n)||!uS(n)){const i=Vf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function Sl(t,e,n){if((e=Wt(e))instanceof A0)return e._internalPath;if(typeof e=="string")return SA(t,e);throw mf("Field path arguments must be of type string or ",t,!1,void 0,n)}const VV=new RegExp("[~\\*/\\[\\]]");function SA(t,e,n){if(e.search(VV)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new A0(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new fe(re.INVALID_ARGUMENT,d+t+f)}function AA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ra(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){var i,a,l;const n=(l=(a=(i=e.fields)==null?void 0:i[af].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Mt(c.doubleValue)));return new Vs(n)}convertGeoPoint(e){return new di(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Uf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=mt.fromString(e);it(QS(i),9688,{name:e});const a=new bu(i.get(1),i.get(3)),l=new Te(i.popFirst(5));return a.isEqual(n)||Wi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends PV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}const y1="@firebase/firestore",v1="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t){return(function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Sl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LV extends RA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D0{}class NA extends D0{}function zV(t,e,...n){let i=[];e instanceof D0&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((f=>f instanceof M0)).length,d=l.filter((f=>f instanceof O0)).length;if(c>1||c>0&&d>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class O0 extends NA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new O0(e,n,i)}_apply(e){const n=this._parse(e);return IA(e._query,n),new lo(e.firestore,e.converter,ny(e._query,n))}_parse(e){const n=N0(e.firestore);return(function(l,c,d,f,p,v,b){let _;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){_1(b,v);const k=[];for(const V of b)k.push(x1(f,l,V));_={arrayValue:{values:k}}}else _=x1(f,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||_1(b,v),_=jV(d,c,b,v==="in"||v==="not-in");return Ht.create(p,v,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class M0 extends D0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new M0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const f of d)IA(c,f),c=ny(c,f)})(e._query,n),new lo(e.firestore,e.converter,ny(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k0 extends NA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new k0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(l,c)})(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,ak(e._query,n))}}function BV(t,e="asc"){const n=e,i=Sl("orderBy",t);return k0._create(i,n)}function x1(t,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CS(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(mt.fromString(n));if(!Te.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return MT(t,new Te(i))}if(n instanceof $t)return MT(t,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(n)}.`)}function _1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IA(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function FV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends RA{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Sl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:Gt("string",Ya._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Gd extends Ya{data(e={}){return super.data(e)}}class fl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new tu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Gd(this._firestore,this._userDataWriter,i.key,i,new tu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new Gd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new Gd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:qV(d.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=t0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Gt("string",fl._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};function T1(t,e,n,...i){t=Kr(t,$t);const a=Kr(t.firestore,El),l=N0(a);let c;return c=typeof(e=Wt(e))=="string"||e instanceof A0?kV(l,"updateDoc",t._key,e,n,i):MV(l,"updateDoc",t._key,e),j0(a,[c.toMutation(t._key,js.exists(!0))])}function w1(t){return j0(Kr(t.firestore,El),[new c0(t._key,js.none())])}function E1(t,e){const n=Kr(t.firestore,El),i=eu(t),a=FV(t.converter,e),l=N0(t.firestore);return j0(n,[OV(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,js.exists(!1))]).then((()=>i))}function S1(t,...e){var p,v,b;t=Wt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||b1(e[i])||(n=e[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(b1(e[i])){const _=e[i];e[i]=(p=_.next)==null?void 0:p.bind(_),e[i+1]=(v=_.error)==null?void 0:v.bind(_),e[i+2]=(b=_.complete)==null?void 0:b.bind(_)}let l,c,d;if(t instanceof $t)c=Kr(t.firestore,El),d=o0(t._key.path),l={next:_=>{e[i]&&e[i](HV(c,t,_))},error:e[i+1],complete:e[i+2]};else{const _=Kr(t,lo);c=Kr(_.firestore,El),d=_._query;const S=new CA(c);l={next:k=>{e[i]&&e[i](new fl(c,S,_,k))},error:e[i+1],complete:e[i+2]},UV(t._query)}const f=xA(c);return TV(f,d,a,l)}function j0(t,e){const n=xA(t);return wV(n,e)}function HV(t,e,n){const i=n.docs.get(e._key),a=new CA(t);return new Ya(t,a,e._key,i,new tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){xM(ro),Za(new Qr("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new El(new wM(i.getProvider("auth-internal")),new AM(c,i.getProvider("app-check-internal")),qM(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ci(y1,v1,e),ci(y1,v1,"esm2020")})();var GV="firebase",$V="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(GV,$V,"app");function DA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KV=DA,OA=new Mu("auth","Firebase",DA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new Wy("@firebase/auth");function YV(t,...e){pf.logLevel<=$e.WARN&&pf.warn(`Auth (${ro}): ${t}`,...e)}function $d(t,...e){pf.logLevel<=$e.ERROR&&pf.error(`Auth (${ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,...e){throw P0(t,...e)}function Ps(t,...e){return P0(t,...e)}function V0(t,e,n){const i={...KV(),[e]:n};return new Mu("auth","Firebase",i).create(e,{appName:t.name})}function Qa(t){return V0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QV(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&gi(t,"argument-error"),V0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function P0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return OA.create(t,...e)}function Ie(t,e,...n){if(!t)throw P0(e,...n)}function Hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $d(e),new Error(e)}function Zi(t,e){t||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function XV(){return A1()==="http:"||A1()==="https:"}function A1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XV()||ZD()||"connection"in navigator)?navigator.onLine:!0}function JV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zi(n>e,"Short delay should be less than long delay!"),this.isMobile=XD()||eO()}get(){return WV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e){Zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t4=new Bu(3e4,6e4);function U0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Pl(t,e,n,i,a={}){return kA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ku({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return JD()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&io(t.emulatorConfig.host)&&(p.credentials="include"),MA.fetch()(await jA(t,t.config.apiHost,n,d),p)})}async function kA(t,e,n){t._canInitEmulator=!1;const i={...ZV,...e};try{const a=new s4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Rd(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rd(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Rd(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Rd(t,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw V0(t,v,p);gi(t,v)}}catch(a){if(a instanceof xi)throw a;gi(t,"network-request-failed",{message:String(a)})}}async function n4(t,e,n,i,a={}){const l=await Pl(t,e,n,i,a);return"mfaPendingCredential"in l&&gi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function jA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?L0(t.config,a):`${t.config.apiScheme}://${a}`;return e4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class s4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ps(this.auth,"network-request-failed")),t4.get())})}}function Rd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ps(t,e,i);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e){return Pl(t,"POST","/v1/accounts:delete",e)}async function gf(t,e){return Pl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r4(t,e=!1){const n=Wt(t),i=await n.getIdToken(e),a=z0(i);Ie(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:cu(bg(a.auth_time)),issuedAtTime:cu(bg(a.iat)),expirationTime:cu(bg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function bg(t){return Number(t)*1e3}function z0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return $d("JWT malformed, contained fewer than 3 sections"),null;try{const a=HE(n);return a?JSON.parse(a):($d("Failed to decode base64 JWT payload"),null)}catch(a){return $d("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function C1(t){const e=z0(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof xi&&a4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function a4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t){var b;const e=t.auth,n=await t.getIdToken(),i=await Eu(t,gf(e,{idToken:n}));Ie(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=(b=a.providerUserInfo)!=null&&b.length?VA(a.providerUserInfo):[],c=c4(t.providerData,l),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=d?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new my(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function l4(t){const e=Wt(t);await yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c4(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function VA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e){const n=await kA(t,{},async()=>{const i=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await jA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:i};return t.emulatorConfig&&io(t.emulatorConfig.host)&&(f.credentials="include"),MA.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h4(t,e){return Pl(t,"POST","/v2/accounts:revokeToken",U0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=C1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await u4(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new ml;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ms{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new o4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new my(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r4(this,e)}reload(){return l4(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await yf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ms(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Eu(this,i4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:_,isAnonymous:S,providerData:k,stsTokenManager:V}=n;Ie(b&&V,e,"internal-error");const j=ml.fromJSON(this.name,V);Ie(typeof b=="string",e,"internal-error"),jr(i,e.name),jr(a,e.name),Ie(typeof _=="boolean",e,"internal-error"),Ie(typeof S=="boolean",e,"internal-error"),jr(l,e.name),jr(c,e.name),jr(d,e.name),jr(f,e.name),jr(p,e.name),jr(v,e.name);const z=new Ms({uid:b,auth:e,email:a,emailVerified:_,displayName:i,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:p,lastLoginAt:v});return k&&Array.isArray(k)&&(z.providerData=k.map(q=>({...q}))),f&&(z._redirectEventId=f),z}static async _fromIdTokenResponse(e,n,i=!1){const a=new ml;a.updateFromServerResponse(n);const l=new Ms({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await yf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?VA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new ml;d.updateFromIdToken(i);const f=new Ms({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new my(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Map;function Gi(t){Zi(t instanceof Function,"Expected a class definition");let e=R1.get(t);return e?(Zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PA.type="NONE";const N1=PA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,e,n){return`firebase:${t}:${e}:${n}`}class pl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Kd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Kd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gf(this.auth,{idToken:e}).catch(()=>{});return n?Ms._fromGetAccountInfoResponse(this.auth,n,e):null}return Ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new pl(Gi(N1),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Gi(N1);const c=Kd(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const _=await gf(e,{idToken:v}).catch(()=>{});if(!_)break;b=await Ms._fromGetAccountInfoResponse(e,_,v)}else b=Ms._fromJSON(e,v);p!==l&&(d=b),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new pl(l,e,i):(l=f[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new pl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qA(e))return"Blackberry";if(HA(e))return"Webos";if(UA(e))return"Safari";if((e.includes("chrome/")||zA(e))&&!e.includes("edge/"))return"Chrome";if(FA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function LA(t=_n()){return/firefox\//i.test(t)}function UA(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zA(t=_n()){return/crios\//i.test(t)}function BA(t=_n()){return/iemobile/i.test(t)}function FA(t=_n()){return/android/i.test(t)}function qA(t=_n()){return/blackberry/i.test(t)}function HA(t=_n()){return/webos/i.test(t)}function B0(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d4(t=_n()){var e;return B0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function f4(){return tO()&&document.documentMode===10}function GA(t=_n()){return B0(t)||FA(t)||HA(t)||qA(t)||/windows phone/i.test(t)||BA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e=[]){let n;switch(t){case"Browser":n=I1(_n());break;case"Worker":n=`${I1(_n())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const f=e(l);c(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e={}){return Pl(t,"GET","/v2/passwordPolicy",U0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=6;class y4{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??g4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D1(this),this.idTokenSubscription=new D1(this),this.beforeStateQueue=new m4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gf(this,{idToken:e}),i=await Ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ms(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ms(this.app))return Promise.reject(Qa(this));const n=e?Wt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ms(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ms(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p4(this),n=new y4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await h4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&YV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xf(t){return Wt(t)}class D1{constructor(e){this.auth=e,this.observer=null,this.addObserver=cO(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b4(t){F0=t}function x4(t){return F0.loadJS(t)}function _4(){return F0.gapiScript}function T4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t,e){const n=jf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ja(l,e??{}))return a;gi(a,"already-initialized")}return n.initialize({options:e})}function E4(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function S4(t,e,n){const i=Xf(t);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=KA(e),{host:c,port:d}=A4(e),f=d===null?"":`:${d}`,p={url:`${l}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(Ja(p,i.config.emulator)&&Ja(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,io(c)?(Qy(`${l}//${c}${f}`),Xy("Auth",!0)):C4()}function KA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function A4(t){const e=KA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:O1(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:O1(c)}}}function O1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function C4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e){return n4(t,"POST","/v1/accounts:signInWithIdp",U0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="http://localhost";class no extends YA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const c=new no(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return gl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,gl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gl(e,n)}buildRequest(){const e={requestUri:R4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Fu{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qi.credential(n,i)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Fu{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Fu{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Br.credential(n,i)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ms._fromIdTokenResponse(e,i,a),c=M1(i);return new Al({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=M1(i);return new Al({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function M1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends xi{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,vf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new vf(e,n,i,a)}}function QA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vf._fromErrorAndOperation(t,l,e,i):l})}async function N4(t,e,n=!1){const i=await Eu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Al._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e,n=!1){const{auth:i}=t;if(ms(i.app))return Promise.reject(Qa(i));const a="reauthenticate";try{const l=await Eu(t,QA(i,a,e,t),n);Ie(l.idToken,i,"internal-error");const c=z0(l.idToken);Ie(c,i,"internal-error");const{sub:d}=c;return Ie(t.uid===d,i,"user-mismatch"),Al._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&gi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e,n=!1){if(ms(t.app))return Promise.reject(Qa(t));const i="signIn",a=await QA(t,i,e),l=await Al._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}function O4(t,e,n,i){return Wt(t).onIdTokenChanged(e,n,i)}function M4(t,e,n){return Wt(t).beforeAuthStateChanged(e,n)}function k4(t,e,n,i){return Wt(t).onAuthStateChanged(e,n,i)}function k1(t){return Wt(t).signOut()}const bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=1e3,V4=10;class WA extends XA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);f4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,V4):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},j4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WA.type="LOCAL";const P4=WA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends XA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JA.type="SESSION";const ZA=JA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Wf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),f=await L4(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,f)=>{const p=H0("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(_.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function z4(t){fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function B4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function q4(){return e2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebaseLocalStorageDb",H4=1,xf="firebaseLocalStorage",n2="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(t,e){return t.transaction([xf],e?"readwrite":"readonly").objectStore(xf)}function G4(){const t=indexedDB.deleteDatabase(t2);return new qu(t).toPromise()}function py(){const t=indexedDB.open(t2,H4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(xf,{keyPath:n2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(xf)?e(i):(i.close(),await G4(),e(await py()))})})}async function j1(t,e,n){const i=Jf(t,!0).put({[n2]:e,value:n});return new qu(i).toPromise()}async function $4(t,e){const n=Jf(t,!1).get(e),i=await new qu(n).toPromise();return i===void 0?null:i.value}function V1(t,e){const n=Jf(t,!0).delete(e);return new qu(n).toPromise()}const K4=800,Y4=3;class s2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Y4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(q4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await B4(),!this.activeServiceWorker)return;this.sender=new U4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await py();return await j1(e,bf,"1"),await V1(e,bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>j1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$4(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Jf(a,!1).getAll();return new qu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s2.type="LOCAL";const Q4=s2;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e){return e?Gi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends YA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X4(t){return D4(t.auth,new G0(t),t.bypassAuthState)}function W4(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),I4(n,new G0(t),t.bypassAuthState)}async function J4(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),N4(n,new G0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X4;case"linkViaPopup":case"linkViaRedirect":return J4;case"reauthViaPopup":case"reauthViaRedirect":return W4;default:gi(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new Bu(2e3,1e4);async function eP(t,e,n){if(ms(t.app))return Promise.reject(Ps(t,"operation-not-supported-in-this-environment"));const i=Xf(t);QV(t,e,q0);const a=i2(i,n);return new Ha(i,"signInViaPopup",e,a).executeNotNull()}class Ha extends r2{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=H0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z4.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="pendingRedirect",Yd=new Map;class nP extends r2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Yd.get(this.auth._key());if(!e){try{const i=await sP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Yd.set(this.auth._key(),e)}return this.bypassAuthState||Yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sP(t,e){const n=aP(e),i=rP(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function iP(t,e){Yd.set(t._key(),e)}function rP(t){return Gi(t._redirectPersistence)}function aP(t){return Kd(tP,t.config.apiKey,t.name)}async function oP(t,e,n=!1){if(ms(t.app))return Promise.reject(Qa(t));const i=Xf(t),a=i2(i,e),c=await new nP(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=600*1e3;class cP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!a2(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ps(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lP&&this.cachedEventUids.clear(),this.cachedEventUids.has(P1(e))}saveEventToCache(e){this.cachedEventUids.add(P1(e)),this.lastProcessedEventTime=Date.now()}}function P1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e={}){return Pl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fP=/^https?/;async function mP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hP(t);for(const n of e)try{if(pP(n))return}catch{}gi(t,"unauthorized-domain")}function pP(t){const e=fy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!fP.test(n))return!1;if(dP.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Bu(3e4,6e4);function L1(){const t=fi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yP(t){return new Promise((e,n)=>{var a,l,c;function i(){L1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L1(),n(Ps(t,"network-request-failed"))},timeout:gP.get()})}if((l=(a=fi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=fi().gapi)!=null&&c.load)i();else{const d=T4("iframefcb");return fi()[d]=()=>{gapi.load?i():n(Ps(t,"network-request-failed"))},x4(`${_4()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function vP(t){return Qd=Qd||yP(t),Qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Bu(5e3,15e3),xP="__/auth/iframe",_P="emulator/auth/iframe",TP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EP(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?L0(e,_P):`https://${t.config.authDomain}/${xP}`,i={apiKey:e.apiKey,appName:t.name,v:ro},a=wP.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${ku(i).slice(1)}`}async function SP(t){const e=await vP(t),n=fi().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:EP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ps(t,"network-request-failed"),d=fi().setTimeout(()=>{l(c)},bP.get());function f(){fi().clearTimeout(d),a(i)}i.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CP=500,RP=600,NP="_blank",IP="http://localhost";class U1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DP(t,e,n,i=CP,a=RP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f={...AP,width:i.toString(),height:a.toString(),top:l,left:c},p=_n().toLowerCase();n&&(d=zA(p)?NP:n),LA(p)&&(e=e||IP,f.scrollbars="yes");const v=Object.entries(f).reduce((_,[S,k])=>`${_}${S}=${k},`,"");if(d4(p)&&d!=="_self")return OP(e||"",d),new U1(null);const b=window.open(e||"",d,v);Ie(b,t,"popup-blocked");try{b.focus()}catch{}return new U1(b)}function OP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="__/auth/handler",kP="emulator/auth/handler",jP=encodeURIComponent("fac");async function z1(t,e,n,i,a,l){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ro,eventId:a};if(e instanceof q0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",lO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Fu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await t._getAppCheckToken(),p=f?`#${jP}=${encodeURIComponent(f)}`:"";return`${VP(t)}?${ku(d).slice(1)}${p}`}function VP({config:t}){return t.emulator?L0(t,kP):`https://${t.authDomain}/${MP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="webStorageSupport";class PP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZA,this._completeRedirectFn=oP,this._overrideRedirectResult=iP}async _openPopup(e,n,i,a){var c;Zi((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await z1(e,n,i,fy(),a);return DP(e,l,H0())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await z1(e,n,i,fy(),a);return z4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Zi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await SP(e),i=new cP(e);return n.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xg,{type:xg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[xg];l!==void 0&&n(!!l),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GA()||UA()||B0()}}const LP=PP;var B1="@firebase/auth",F1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BP(t){Za(new Qr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$A(t)},p=new v4(i,a,l,f);return E4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Za(new Qr("auth-internal",e=>{const n=Xf(e.getProvider("auth").getImmediate());return(i=>new UP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(B1,F1,zP(t)),ci(B1,F1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=300,qP=YE("authIdTokenMaxAge")||FP;let q1=null;const HP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qP)return;const a=n==null?void 0:n.token;q1!==a&&(q1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function GP(t=Zy()){const e=jf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w4(t,{popupRedirectResolver:LP,persistence:[Q4,P4,ZA]}),i=YE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=HP(l.toString());M4(n,c,()=>c(n.currentUser)),O4(n,d=>c(d))}}const a=GE("auth");return a&&S4(n,`http://${a}`),n}function $P(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}b4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ps("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",$P().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BP("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="firebasestorage.googleapis.com",KP="storageBucket",YP=120*1e3,QP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends xi{constructor(e,n,i=0){super(_g(e),`Firebase Storage: ${n} (${_g(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_i.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yi||(yi={}));function _g(t){return"storage/"+t}function XP(){const t="An unknown error occurred, please check the error payload for server response.";return new _i(yi.UNKNOWN,t)}function WP(){return new _i(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JP(){return new _i(yi.CANCELED,"User canceled the upload/download.")}function ZP(t){return new _i(yi.INVALID_URL,"Invalid URL '"+t+"'.")}function e3(t){return new _i(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function H1(t){return new _i(yi.INVALID_ARGUMENT,t)}function l2(){return new _i(yi.APP_DELETED,"The Firebase app was deleted.")}function t3(t){return new _i(yi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=ks.makeFromUrl(e,n)}catch{return new ks(e,"")}if(i.path==="")return i;throw e3(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${a}/o${_}`,"i"),k={bucket:1,path:3},V=n===o2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",z=new RegExp(`^https?://${V}/${a}/${j}`,"i"),L=[{regex:d,indices:f,postModify:l},{regex:S,indices:k,postModify:p},{regex:z,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<L.length;$++){const Q=L[$],oe=Q.regex.exec(e);if(oe){const D=oe[Q.indices.bucket];let E=oe[Q.indices.path];E||(E=""),i=new ks(D,E),Q.postModify(i);break}}if(i==null)throw ZP(e);return i}}class n3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e,n){let i=1,a=null,l=null,c=!1,d=0;function f(){return d===2}let p=!1;function v(...j){p||(p=!0,e.apply(null,j))}function b(j){a=setTimeout(()=>{a=null,t(S,f())},j)}function _(){l&&clearTimeout(l)}function S(j,...z){if(p){_();return}if(j){_(),v.call(null,j,...z);return}if(f()||c){_(),v.call(null,j,...z);return}i<64&&(i*=2);let L;d===1?(d=2,L=0):L=(i+Math.random())*1e3,b(L)}let k=!1;function V(j){k||(k=!0,_(),!p&&(a!==null?(j||(d=2),clearTimeout(a),b(0)):j||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,V(!0)},n),V}function i3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){return t!==void 0}function G1(t,e,n,i){if(i<e)throw H1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw H1(`Invalid value for '${t}'. Expected ${n} or less.`)}function a3(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var _f;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_f||(_f={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,i,a,l,c,d,f,p,v,b,_=!0,S=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,V)=>{this.resolve_=k,this.reject_=V,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Nd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const f=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===_f.NO_ERROR,f=l.getStatus();if(!d||o3(f,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===_f.ABORT;i(!1,new Nd(!1,null,v));return}const p=this.successCodes_.indexOf(f)!==-1;i(!0,new Nd(p,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());r3(f)?l(f):l()}catch(f){c(f)}else if(d!==null){const f=XP();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(a.canceled){const f=this.appDelete_?l2():JP();c(f)}else{const f=WP();c(f)}};this.canceled_?n(!1,new Nd(!1,null,!0)):this.backoffId_=s3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function c3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function u3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function h3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function f3(t,e,n,i,a,l,c=!0,d=!1){const f=a3(t.urlParams),p=t.url+f,v=Object.assign({},t.headers);return h3(v,e),c3(v,n),u3(v,l),d3(v,i),new l3(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function p3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this._service=e,n instanceof ks?this._location=n:this._location=ks.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Tf(e,n)}get root(){const e=new ks(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return p3(this._location.path)}get storage(){return this._service}get parent(){const e=m3(this._location.path);if(e===null)return null;const n=new ks(this._location.bucket,e);return new Tf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw t3(e)}}function $1(t,e){const n=e==null?void 0:e[KP];return n==null?null:ks.makeFromBucketSpec(n,t)}function g3(t,e,n,i={}){t.host=`${e}:${n}`;const a=io(e);a&&(Qy(`https://${t.host}/b`),Xy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:QE(l,t.app.options.projectId))}class y3{constructor(e,n,i,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=o2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YP,this._maxUploadRetryTime=QP,this._requests=new Set,a!=null?this._bucket=ks.makeFromBucketSpec(a,this._host):this._bucket=$1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ks.makeFromBucketSpec(this._url,e):this._bucket=$1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){G1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tf(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new n3(l2());{const c=f3(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const K1="@firebase/storage",Y1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="storage";function v3(t=Zy(),e){t=Wt(t);const i=jf(t,c2).getImmediate({identifier:e}),a=$E("storage");return a&&b3(i,...a),i}function b3(t,e,n,i={}){g3(t,e,n,i)}function x3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new y3(n,i,a,e,ro)}function _3(){Za(new Qr(c2,x3,"PUBLIC").setMultipleInstances(!0)),ci(K1,Y1,""),ci(K1,Y1,"esm2020")}_3();const T3={apiKey:"AIzaSyCOtVFEKK7fr6acQ6wnGSPbJZVwWm2xyyM",authDomain:"ankit-yummy-fi.firebaseapp.com",projectId:"ankit-yummy-fi",storageBucket:"ankit-yummy-fi.firebasestorage.app",messagingSenderId:"915590299815",appId:"1:915590299815:web:bbc4c94bac15f3d5901b82"},$0=JE(T3),Id=GP($0),w3=new qi,Vr=CV($0);v3($0);const u2=M.createContext(void 0),E3=({children:t})=>{const[e,n]=M.useState([]),i=M.useCallback(v=>{n(b=>b.filter(_=>_.id!==v))},[]),a=M.useCallback(v=>{const b=`toast-${Date.now()}-${Math.random()}`,_={id:b,duration:4e3,...v};n([_]),v.type!=="confirm"&&_.duration&&setTimeout(()=>{i(b)},_.duration)},[i]),l=M.useCallback((v,b)=>{a({type:"success",message:v,title:b})},[a]),c=M.useCallback((v,b)=>{a({type:"error",message:v,title:b,duration:5e3})},[a]),d=M.useCallback((v,b)=>{a({type:"warning",message:v,title:b})},[a]),f=M.useCallback((v,b)=>{a({type:"info",message:v,title:b})},[a]),p=M.useCallback((v,b,_,S="Confirm",k="Cancel",V)=>{a({type:"confirm",message:v,title:V,onConfirm:b,onCancel:_,confirmText:S,cancelText:k})},[a]);return g.jsx(u2.Provider,{value:{toasts:e,showToast:a,showSuccess:l,showError:c,showWarning:d,showInfo:f,showConfirm:p,hideToast:i},children:t})},co=()=>{const t=M.useContext(u2);if(!t)throw new Error("useToast must be used within ToastProvider");return t},h2=M.createContext(void 0),S3=({children:t})=>{const[e,n]=M.useState(LD),[i,a]=M.useState(!0),[l,c]=M.useState([]),[d,f]=M.useState([]),[p,v]=M.useState(!0),[b,_]=M.useState(localStorage.getItem("tableNumber")),[S,k]=M.useState(null),{showSuccess:V}=co();M.useEffect(()=>{const I=Cd(Vr,"products"),N=S1(I,P=>{if(P.empty){n([]),a(!1);return}const O=P.docs.map(Ee=>({...Ee.data(),id:Ee.id}));n(O),a(!1)},P=>{console.error(" Error loading products from Firestore:",P),console.error("Error code:",P.code),console.error("Error message:",P.message),n([]),a(!1)});return()=>N()},[]),M.useEffect(()=>{const I=Cd(Vr,"orders"),N=zV(I,BV("createdAt","desc")),P=S1(N,O=>{const Ee=O.docs.map(Me=>({...Me.data(),id:Me.id}));f(Ee),v(!1)},O=>{console.error(" Error loading orders from Firestore:",O),f([]),v(!1)});return()=>P()},[]),M.useEffect(()=>{b&&localStorage.setItem("tableNumber",b),S&&localStorage.setItem("customerName",S)},[b,S]);const j=(I,N)=>{_(I),k(N)},z=I=>{c(N=>N.find(O=>O.id===I.id)?N.map(O=>O.id===I.id?{...O,quantity:O.quantity+1}:O):[...N,{...I,quantity:1}]),V(`${I.name} added to cart!`," Added to Cart")},q=I=>{c(N=>N.filter(P=>P.id!==I))},L=(I,N)=>{c(P=>P.map(O=>{if(O.id===I){const Ee=O.quantity+N;return Ee>0?{...O,quantity:Ee}:O}return O}))},$=async(I,N,P)=>{const O=I||b,Ee=N||S;if(!O||l.length===0)return null;const Me={tableNumber:O,customerName:Ee||"Guest",customerEmail:P||void 0,items:[...l],totalAmount:l.reduce((le,ee)=>le+ee.price*ee.quantity,0),status:"pending",createdAt:new Date().toISOString()},W=await E1(Cd(Vr,"orders"),Me);return c([]),localStorage.setItem("lastOrderId",W.id),W.id},Q=async I=>{await E1(Cd(Vr,"products"),{name:I.name,price:I.price,offerPrice:I.offerPrice,description:I.description,category:I.category,imageUrl:I.imageUrl,isVeg:I.isVeg})},oe=async I=>{await w1(eu(Vr,"products",I))},D=async(I,N)=>{const P={status:N};N==="confirmed"&&(P.confirmedAt=new Date().toISOString()),N==="ready"&&(P.readyAt=new Date().toISOString()),await T1(eu(Vr,"orders",I),P)},E=async I=>{try{await w1(eu(Vr,"orders",I)),console.log(` Order ${I} deleted successfully`)}catch(N){throw console.error(` Error deleting order ${I}:`,N),N}},C=async(I,N)=>{try{await T1(eu(Vr,"orders",I),{status:"cancelled",cancelledAt:new Date().toISOString(),cancelledBy:N}),console.log(` Order ${I} cancelled by ${N}`)}catch(P){throw console.error(` Error cancelling order ${I}:`,P),P}};return g.jsx(h2.Provider,{value:{products:e,productsLoading:i,cart:l,orders:d,ordersLoading:p,tableNumber:b,customerName:S,setTableInfo:j,addToCart:z,removeFromCart:q,updateQuantity:L,placeOrder:$,addProduct:Q,deleteProduct:oe,updateOrderStatus:D,deleteOrder:E,cancelOrder:C},children:t})},Ll=()=>{const t=M.useContext(h2);if(!t)throw new Error("useApp must be used within AppProvider");return t},K0=M.createContext({});function Y0(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const d2=typeof window<"u",f2=d2?M.useLayoutEffect:M.useEffect,Zf=M.createContext(null);function Q0(t,e){t.indexOf(e)===-1&&t.push(e)}function X0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vi=(t,e,n)=>n>e?e:n<t?t:n;let W0=()=>{};const er={},m2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function p2(t){return typeof t=="object"&&t!==null}const g2=t=>/^0[^.\s]+$/u.test(t);function J0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ys=t=>t,A3=(t,e)=>n=>e(t(n)),Hu=(...t)=>t.reduce(A3),Su=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Z0{constructor(){this.subscriptions=[]}add(e){return Q0(this.subscriptions,e),()=>X0(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ki=t=>t*1e3,gs=t=>t/1e3;function y2(t,e){return e?t*(1e3/e):0}const v2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C3=1e-7,R3=12;function N3(t,e,n,i,a){let l,c,d=0;do c=e+(n-e)/2,l=v2(c,i,a)-t,l>0?n=c:e=c;while(Math.abs(l)>C3&&++d<R3);return c}function Gu(t,e,n,i){if(t===e&&n===i)return ys;const a=l=>N3(l,0,1,t,n);return l=>l===0||l===1?l:v2(a(l),e,i)}const b2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,x2=t=>e=>1-t(1-e),_2=Gu(.33,1.53,.69,.99),ev=x2(_2),T2=b2(ev),w2=t=>(t*=2)<1?.5*ev(t):.5*(2-Math.pow(2,-10*(t-1))),tv=t=>1-Math.sin(Math.acos(t)),E2=x2(tv),S2=b2(tv),I3=Gu(.42,0,1,1),D3=Gu(0,0,.58,1),A2=Gu(.42,0,.58,1),O3=t=>Array.isArray(t)&&typeof t[0]!="number",C2=t=>Array.isArray(t)&&typeof t[0]=="number",M3={linear:ys,easeIn:I3,easeInOut:A2,easeOut:D3,circIn:tv,circInOut:S2,circOut:E2,backIn:ev,backInOut:T2,backOut:_2,anticipate:w2},k3=t=>typeof t=="string",Q1=t=>{if(C2(t)){W0(t.length===4);const[e,n,i,a]=t;return Gu(e,n,i,a)}else if(k3(t))return M3[t];return t},Dd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function j3(t,e){let n=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(v){c.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,b=!1,_=!1)=>{const k=_&&a?n:i;return b&&c.add(v),k.has(v)||k.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const V3=40;function R2(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Dd.reduce((L,$)=>(L[$]=j3(l),L),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:v,update:b,preRender:_,render:S,postRender:k}=c,V=()=>{const L=er.useManualTiming?a.timestamp:performance.now();n=!1,er.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(L-a.timestamp,V3),1)),a.timestamp=L,a.isProcessing=!0,d.process(a),f.process(a),p.process(a),v.process(a),b.process(a),_.process(a),S.process(a),k.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(V))},j=()=>{n=!0,i=!0,a.isProcessing||t(V)};return{schedule:Dd.reduce((L,$)=>{const Q=c[$];return L[$]=(oe,D=!1,E=!1)=>(n||j(),Q.schedule(oe,D,E)),L},{}),cancel:L=>{for(let $=0;$<Dd.length;$++)c[Dd[$]].cancel(L)},state:a,steps:c}}const{schedule:vt,cancel:na,state:un,steps:Tg}=R2(typeof requestAnimationFrame<"u"?requestAnimationFrame:ys,!0);let Xd;function P3(){Xd=void 0}const En={now:()=>(Xd===void 0&&En.set(un.isProcessing||er.useManualTiming?un.timestamp:performance.now()),Xd),set:t=>{Xd=t,queueMicrotask(P3)}},N2=t=>e=>typeof e=="string"&&e.startsWith(t),I2=N2("--"),L3=N2("var(--"),nv=t=>L3(t)?U3.test(t.split("/*")[0].trim()):!1,U3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function X1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Ul={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Au={...Ul,transform:t=>vi(0,1,t)},Od={...Ul,default:1},uu=t=>Math.round(t*1e5)/1e5,sv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z3(t){return t==null}const B3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iv=(t,e)=>n=>!!(typeof n=="string"&&B3.test(n)&&n.startsWith(t)||e&&!z3(n)&&Object.prototype.hasOwnProperty.call(n,e)),D2=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,c,d]=i.match(sv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},F3=t=>vi(0,255,t),wg={...Ul,transform:t=>Math.round(F3(t))},Ga={test:iv("rgb","red"),parse:D2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+wg.transform(t)+", "+wg.transform(e)+", "+wg.transform(n)+", "+uu(Au.transform(i))+")"};function q3(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const gy={test:iv("#"),parse:q3,transform:Ga.transform},$u=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Lr=$u("deg"),mi=$u("%"),ve=$u("px"),H3=$u("vh"),G3=$u("vw"),W1={...mi,parse:t=>mi.parse(t)/100,transform:t=>mi.transform(t*100)},ol={test:iv("hsl","hue"),parse:D2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+mi.transform(uu(e))+", "+mi.transform(uu(n))+", "+uu(Au.transform(i))+")"},qt={test:t=>Ga.test(t)||gy.test(t)||ol.test(t),parse:t=>Ga.test(t)?Ga.parse(t):ol.test(t)?ol.parse(t):gy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ga.transform(t):ol.transform(t),getAnimatableNone:t=>{const e=qt.parse(t);return e.alpha=0,qt.transform(e)}},$3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K3(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sv))==null?void 0:e.length)||0)+(((n=t.match($3))==null?void 0:n.length)||0)>0}const O2="number",M2="color",Y3="var",Q3="var(",J1="${}",X3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(X3,f=>(qt.test(f)?(i.color.push(l),a.push(M2),n.push(qt.parse(f))):f.startsWith(Q3)?(i.var.push(l),a.push(Y3),n.push(f)):(i.number.push(l),a.push(O2),n.push(parseFloat(f))),++l,J1)).split(J1);return{values:n,split:d,indexes:i,types:a}}function k2(t){return Cu(t).values}function j2(t){const{split:e,types:n}=Cu(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===O2?l+=uu(a[c]):d===M2?l+=qt.transform(a[c]):l+=a[c]}return l}}const W3=t=>typeof t=="number"?0:qt.test(t)?qt.getAnimatableNone(t):t;function J3(t){const e=k2(t);return j2(t)(e.map(W3))}const sa={test:K3,parse:k2,createTransformer:j2,getAnimatableNone:J3};function Eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Z3({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=Eg(f,d,t+1/3),l=Eg(f,d,t),c=Eg(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function wf(t,e){return n=>n>0?e:t}const wt=(t,e,n)=>t+(e-t)*n,Sg=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},e6=[gy,Ga,ol],t6=t=>e6.find(e=>e.test(t));function Z1(t){const e=t6(t);if(!e)return!1;let n=e.parse(t);return e===ol&&(n=Z3(n)),n}const ew=(t,e)=>{const n=Z1(t),i=Z1(e);if(!n||!i)return wf(t,e);const a={...n};return l=>(a.red=Sg(n.red,i.red,l),a.green=Sg(n.green,i.green,l),a.blue=Sg(n.blue,i.blue,l),a.alpha=wt(n.alpha,i.alpha,l),Ga.transform(a))},yy=new Set(["none","hidden"]);function n6(t,e){return yy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function s6(t,e){return n=>wt(t,e,n)}function rv(t){return typeof t=="number"?s6:typeof t=="string"?nv(t)?wf:qt.test(t)?ew:a6:Array.isArray(t)?V2:typeof t=="object"?qt.test(t)?ew:i6:wf}function V2(t,e){const n=[...t],i=n.length,a=t.map((l,c)=>rv(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)n[c]=a[c](l);return n}}function i6(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=rv(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function r6(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],d=t.values[c]??0;n[a]=d,i[l]++}return n}const a6=(t,e)=>{const n=sa.createTransformer(e),i=Cu(t),a=Cu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?yy.has(t)&&!a.values.length||yy.has(e)&&!i.values.length?n6(t,e):Hu(V2(r6(i,a),a.values),n):wf(t,e)};function P2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wt(t,e,n):rv(t)(t,e)}const o6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>vt.update(e,n),stop:()=>na(e),now:()=>un.isProcessing?un.timestamp:En.now()}},L2=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ef=2e4;function av(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ef;)e+=n,i=t.next(e);return e>=Ef?1/0:e}function l6(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(av(i),Ef);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:gs(a)}}const c6=5;function U2(t,e,n){const i=Math.max(e-c6,0);return y2(n-t(i),e-i)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ag=.001;function u6({duration:t=Ct.duration,bounce:e=Ct.bounce,velocity:n=Ct.velocity,mass:i=Ct.mass}){let a,l,c=1-e;c=vi(Ct.minDamping,Ct.maxDamping,c),t=vi(Ct.minDuration,Ct.maxDuration,gs(t)),c<1?(a=p=>{const v=p*c,b=v*t,_=v-n,S=vy(p,c),k=Math.exp(-b);return Ag-_/S*k},l=p=>{const b=p*c*t,_=b*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,k=Math.exp(-b),V=vy(Math.pow(p,2),c);return(-a(p)+Ag>0?-1:1)*((_-S)*k)/V}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-Ag+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const d=5/t,f=d6(a,l,d);if(t=Ki(t),isNaN(f))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:t}}}const h6=12;function d6(t,e,n){let i=n;for(let a=1;a<h6;a++)i=i-t(i)/e(i);return i}function vy(t,e){return t*Math.sqrt(1-e*e)}const f6=["duration","bounce"],m6=["stiffness","damping","mass"];function tw(t,e){return e.some(n=>t[n]!==void 0)}function p6(t){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...t};if(!tw(t,m6)&&tw(t,f6))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*vi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Ct.mass,stiffness:a,damping:l}}else{const n=u6(t);e={...e,...n,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function Sf(t=Ct.visualDuration,e=Ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:v,duration:b,velocity:_,isResolvedFromDuration:S}=p6({...n,velocity:-gs(n.velocity||0)}),k=_||0,V=p/(2*Math.sqrt(f*v)),j=c-l,z=gs(Math.sqrt(f/v)),q=Math.abs(j)<5;i||(i=q?Ct.restSpeed.granular:Ct.restSpeed.default),a||(a=q?Ct.restDelta.granular:Ct.restDelta.default);let L;if(V<1){const Q=vy(z,V);L=oe=>{const D=Math.exp(-V*z*oe);return c-D*((k+V*z*j)/Q*Math.sin(Q*oe)+j*Math.cos(Q*oe))}}else if(V===1)L=Q=>c-Math.exp(-z*Q)*(j+(k+z*j)*Q);else{const Q=z*Math.sqrt(V*V-1);L=oe=>{const D=Math.exp(-V*z*oe),E=Math.min(Q*oe,300);return c-D*((k+V*z*j)*Math.sinh(E)+Q*j*Math.cosh(E))/Q}}const $={calculatedDuration:S&&b||null,next:Q=>{const oe=L(Q);if(S)d.done=Q>=b;else{let D=Q===0?k:0;V<1&&(D=Q===0?Ki(k):U2(L,Q,oe));const E=Math.abs(D)<=i,C=Math.abs(c-oe)<=a;d.done=E&&C}return d.value=d.done?c:oe,d},toString:()=>{const Q=Math.min(av($),Ef),oe=L2(D=>$.next(Q*D).value,Q,30);return Q+"ms "+oe},toTransition:()=>{}};return $}Sf.applyToOptions=t=>{const e=l6(t,100,Sf);return t.ease=e.ease,t.duration=Ki(e.duration),t.type="keyframes",t};function by({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:v}){const b=t[0],_={done:!1,value:b},S=E=>d!==void 0&&E<d||f!==void 0&&E>f,k=E=>d===void 0?f:f===void 0||Math.abs(d-E)<Math.abs(f-E)?d:f;let V=n*e;const j=b+V,z=c===void 0?j:c(j);z!==j&&(V=z-b);const q=E=>-V*Math.exp(-E/i),L=E=>z+q(E),$=E=>{const C=q(E),I=L(E);_.done=Math.abs(C)<=p,_.value=_.done?z:I};let Q,oe;const D=E=>{S(_.value)&&(Q=E,oe=Sf({keyframes:[_.value,k(_.value)],velocity:U2(L,E,_.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return D(0),{calculatedDuration:null,next:E=>{let C=!1;return!oe&&Q===void 0&&(C=!0,$(E),D(E)),Q!==void 0&&E>=Q?oe.next(E-Q):(!C&&$(E),_)}}}function g6(t,e,n){const i=[],a=n||er.mix||P2,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||ys:e;d=Hu(f,d)}i.push(d)}return i}function y6(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(W0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=g6(e,i,a),f=d.length,p=v=>{if(c&&v<t[0])return e[0];let b=0;if(f>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const _=Su(t[b],t[b+1],v);return d[b](_)};return n?v=>p(vi(t[0],t[l-1],v)):p}function v6(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Su(0,e,i);t.push(wt(n,1,a))}}function b6(t){const e=[0];return v6(e,t.length-1),e}function x6(t,e){return t.map(n=>n*e)}function _6(t,e){return t.map(()=>e||A2).splice(0,t.length-1)}function hu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=O3(i)?i.map(Q1):Q1(i),l={done:!1,value:e[0]},c=x6(n&&n.length===e.length?n:b6(e),t),d=y6(c,e,{ease:Array.isArray(a)?a:_6(e,a)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const T6=t=>t!==null;function ov(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(T6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const w6={decay:by,inertia:by,tween:hu,keyframes:hu,spring:Sf};function z2(t){typeof t.type=="string"&&(t.type=w6[t.type])}class lv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const E6=t=>t/100;class cv extends lv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;z2(e);const{type:n=hu,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const f=n||hu;f!==hu&&typeof d[0]!="number"&&(this.mixKeyframes=Hu(E6,P2(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=av(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:_,repeatDelay:S,type:k,onUpdate:V,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let L=this.currentTime,$=i;if(b){const E=Math.min(this.currentTime,a)/d;let C=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&C--,C=Math.min(C,b+1),!!(C%2)&&(_==="reverse"?(I=1-I,S&&(I-=S/d)):_==="mirror"&&($=c)),L=vi(0,1,I)*d}const Q=q?{done:!1,value:v[0]}:$.next(L);l&&(Q.value=l(Q.value));let{done:oe}=Q;!q&&f!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return D&&k!==by&&(Q.value=ov(v,this.options,j,this.speed)),V&&V(Q.value),D&&this.finish(),Q}then(e,n){return this.finished.then(e,n)}get duration(){return gs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gs(e)}get time(){return gs(this.currentTime)}set time(e){var n;e=Ki(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(En.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gs(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=o6,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function S6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,xy=t=>{const e=$a(Math.atan2(t[1],t[0]));return _y(e)},A6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:xy,rotateZ:xy,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_y=t=>(t=t%360,t<0&&(t+=360),t),nw=xy,sw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),iw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),C6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sw,scaleY:iw,scale:t=>(sw(t)+iw(t))/2,rotateX:t=>_y($a(Math.atan2(t[6],t[5]))),rotateY:t=>_y($a(Math.atan2(-t[2],t[0]))),rotateZ:nw,rotate:nw,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ty(t){return t.includes("scale")?1:0}function wy(t,e){if(!t||t==="none")return Ty(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=C6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=A6,a=d}if(!a)return Ty(e);const l=i[e],c=a[1].split(",").map(N6);return typeof l=="function"?l(c):c[l]}const R6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return wy(n,e)};function N6(t){return parseFloat(t.trim())}const zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set(zl),rw=t=>t===Ul||t===ve,I6=new Set(["x","y","z"]),D6=zl.filter(t=>!I6.has(t));function O6(t){const e=[];return D6.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const qr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wy(e,"x"),y:(t,{transform:e})=>wy(e,"y")};qr.translateX=qr.x;qr.translateY=qr.y;const Xa=new Set;let Ey=!1,Sy=!1,Ay=!1;function B2(){if(Sy){const t=Array.from(Xa).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=O6(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,c])=>{var d;(d=i.getValue(l))==null||d.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Sy=!1,Ey=!1,Xa.forEach(t=>t.complete(Ay)),Xa.clear()}function F2(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Sy=!0)})}function M6(){Ay=!0,F2(),B2(),Ay=!1}class uv{constructor(e,n,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),Ey||(Ey=!0,vt.read(F2),vt.resolveKeyframes(B2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}S6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const k6=t=>t.startsWith("--");function j6(t,e,n){k6(e)?t.style.setProperty(e,n):t.style[e]=n}const V6=J0(()=>window.ScrollTimeline!==void 0),P6={};function L6(t,e){const n=J0(t);return()=>P6[e]??n()}const q2=L6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,aw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nu([0,.65,.55,1]),circOut:nu([.55,0,1,.45]),backIn:nu([.31,.01,.66,-.59]),backOut:nu([.33,1.53,.69,.99])};function H2(t,e){if(t)return typeof t=="function"?q2()?L2(t,e):"ease-out":C2(t)?nu(t):Array.isArray(t)?t.map(n=>H2(n,e)||aw.easeOut):aw[t]}function U6(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},p=void 0){const v={[e]:n};f&&(v.offset=f);const b=H2(d,a);Array.isArray(b)&&(v.easing=b);const _={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(v,_)}function G2(t){return typeof t=="function"&&"applyToOptions"in t}function z6({type:t,...e}){return G2(t)&&q2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class B6 extends lv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,W0(typeof e.type!="string");const p=z6(e);this.animation=U6(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=ov(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):j6(n,i,v),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return gs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+gs(e)}get time(){return gs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ki(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&V6()?(this.animation.timeline=e,ys):n(this)}}const $2={anticipate:w2,backInOut:T2,circInOut:S2};function F6(t){return t in $2}function q6(t){typeof t.ease=="string"&&F6(t.ease)&&(t.ease=$2[t.ease])}const Cg=10;class H6 extends B6{constructor(e){q6(e),z2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new cv({...c,autoplay:!1}),f=Math.max(Cg,En.now()-this.startTime),p=vi(0,Cg,f-Cg);n.setWithVelocity(d.sample(Math.max(0,f-p)).value,d.sample(f).value,p),d.stop()}}const ow=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(sa.test(t)||t==="0")&&!t.startsWith("url("));function G6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $6(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=ow(a,e),d=ow(l,e);return!c||!d?!1:G6(t)||(n==="spring"||G2(n))&&i}function Cy(t){t.duration=0,t.type="keyframes"}const K6=new Set(["opacity","clipPath","filter","transform"]),Y6=J0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Q6(t){var v;const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return Y6()&&n&&K6.has(n)&&(n!=="transform"||!p)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const X6=40;class W6 extends lv{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:p,element:v,...b}){var k;super(),this.stop=()=>{var V,j;this._animation&&(this._animation.stop(),(V=this.stopTimeline)==null||V.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=En.now();const _={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:v,...b},S=(v==null?void 0:v.KeyframeResolver)||uv;this.keyframeResolver=new S(d,(V,j,z)=>this.onKeyframesResolved(V,j,_,!z),f,p,v),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(e,n,i,a){var j,z;this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:p,onUpdate:v}=i;this.resolvedAt=En.now(),$6(e,l,c,d)||((er.instantAnimations||!f)&&(v==null||v(ov(e,i,n))),e[0]=e[e.length-1],Cy(i),i.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>X6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!p&&Q6(_),k=(z=(j=_.motionValue)==null?void 0:j.owner)==null?void 0:z.current,V=S?new H6({..._,element:k}):new cv(_);V.finished.then(()=>{this.notifyFinished()}).catch(ys),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),M6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function K2(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*i;return typeof n=="function"?n(l,c):a===1?l*i:d-l*i}const J6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Z6(t){const e=J6.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function Y2(t,e,n=1){const[i,a]=Z6(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return m2(c)?parseFloat(c):c}return nv(a)?Y2(a,e,n+1):a}const eL={type:"spring",stiffness:500,damping:25,restSpeed:10},tL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nL={type:"keyframes",duration:.8},sL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iL=(t,{keyframes:e})=>e.length>2?nL:Bl.has(t)?t.startsWith("scale")?tL(e[1]):eL:sL,rL=t=>t!==null;function aL(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(rL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function hv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function oL({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const dv=(t,e,n,i={},a,l)=>c=>{const d=hv(i,t)||{},f=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ki(f);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};oL(d)||Object.assign(v,iL(t,v)),v.duration&&(v.duration=Ki(v.duration)),v.repeatDelay&&(v.repeatDelay=Ki(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Cy(v),v.delay===0&&(b=!0)),(er.instantAnimations||er.skipAnimations)&&(b=!0,Cy(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const _=aL(v.keyframes,d);if(_!==void 0){vt.update(()=>{v.onUpdate(_),v.onComplete()});return}}return d.isSync?new cv(v):new W6(v)};function lw(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function fv(t,e,n,i){if(typeof e=="function"){const[a,l]=lw(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=lw(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function yl(t,e,n){const i=t.getProps();return fv(i,e,n!==void 0?n:i.custom,t)}const Q2=new Set(["width","height","top","left","right","bottom",...zl]),cw=30,lL=t=>!isNaN(parseFloat(t));class cL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=En.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=En.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z0);const i=this.events[e].add(n);return e==="change"?()=>{i(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cw);return y2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cl(t,e){return new cL(t,e)}const Ry=t=>Array.isArray(t);function uL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cl(n))}function hL(t){return Ry(t)?t[t.length-1]||0:t}function dL(t,e){const n=yl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const c in l){const d=hL(l[c]);uL(t,c,d)}}const xn=t=>!!(t&&t.getVelocity);function fL(t){return!!(xn(t)&&t.add)}function Ny(t,e){const n=t.getValue("willChange");if(fL(n))return n.add(e);if(!n&&er.WillChange){const i=new er.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function mv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const mL="framerAppearId",X2="data-"+mv(mL);function W2(t){return t.props[X2]}function pL({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function J2(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const b=t.getValue(v,t.latestValues[v]??null),_=d[v];if(_===void 0||p&&pL(p,v))continue;const S={delay:n,...hv(l||{},v)},k=b.get();if(k!==void 0&&!b.isAnimating&&!Array.isArray(_)&&_===k&&!S.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const z=W2(t);if(z){const q=window.MotionHandoffAnimation(z,v,vt);q!==null&&(S.startTime=q,V=!0)}}Ny(t,v),b.start(dv(v,b,_,t.shouldReduceMotion&&Q2.has(v)?{type:!1}:S,t,V));const j=b.animation;j&&f.push(j)}return c&&Promise.all(f).then(()=>{vt.update(()=>{c&&dL(t,c)})}),f}function Iy(t,e,n={}){var f;const i=yl(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(J2(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:_}=a;return gL(t,e,p,v,b,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,v]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function gL(t,e,n=0,i=0,a=0,l=1,c){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(Iy(f,e,{...c,delay:n+(typeof i=="function"?0:i)+K2(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function yL(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Iy(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Iy(t,e,n);else{const a=typeof e=="function"?yl(t,e,n.custom):e;i=Promise.all(J2(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const vL={test:t=>t==="auto",parse:t=>t},Z2=t=>e=>e.test(t),eC=[Ul,ve,mi,Lr,G3,H3,vL],uw=t=>eC.find(Z2(t));function bL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||g2(t):!0}const xL=new Set(["brightness","contrast","saturate","opacity"]);function _L(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(sv)||[];if(!i)return t;const a=n.replace(i,"");let l=xL.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const TL=/\b([a-z-]*)\(.*?\)/gu,Dy={...sa,getAnimatableNone:t=>{const e=t.match(TL);return e?e.map(_L).join(" "):t}},hw={...Ul,transform:Math.round},wL={rotate:Lr,rotateX:Lr,rotateY:Lr,rotateZ:Lr,scale:Od,scaleX:Od,scaleY:Od,scaleZ:Od,skew:Lr,skewX:Lr,skewY:Lr,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:Au,originX:W1,originY:W1,originZ:ve},pv={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,inset:ve,insetBlock:ve,insetBlockStart:ve,insetBlockEnd:ve,insetInline:ve,insetInlineStart:ve,insetInlineEnd:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,paddingBlock:ve,paddingBlockStart:ve,paddingBlockEnd:ve,paddingInline:ve,paddingInlineStart:ve,paddingInlineEnd:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,marginBlock:ve,marginBlockStart:ve,marginBlockEnd:ve,marginInline:ve,marginInlineStart:ve,marginInlineEnd:ve,fontSize:ve,backgroundPositionX:ve,backgroundPositionY:ve,...wL,zIndex:hw,fillOpacity:Au,strokeOpacity:Au,numOctaves:hw},EL={...pv,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Dy,WebkitFilter:Dy},tC=t=>EL[t];function nC(t,e){let n=tC(t);return n!==Dy&&(n=sa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SL=new Set(["auto","none","0"]);function AL(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!SL.has(l)&&Cu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=nC(n,a)}class CL extends uv{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),nv(b))){const _=Y2(b,n.current);_!==void 0&&(e[v]=_),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!Q2.has(i)||e.length!==2)return;const[a,l]=e,c=uw(a),d=uw(l),f=X1(a),p=X1(l);if(f!==p&&qr[i]){this.needsMeasurement=!0;return}if(c!==d)if(rw(c)&&rw(d))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else qr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||bL(e[a]))&&i.push(a);i.length&&AL(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=qr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function RL(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const sC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Oy(t){return p2(t)&&"offsetHeight"in t}const{schedule:gv}=R2(queueMicrotask,!1),Os={x:!1,y:!1};function iC(){return Os.x||Os.y}function NL(t){return t==="x"||t==="y"?Os[t]?null:(Os[t]=!0,()=>{Os[t]=!1}):Os.x||Os.y?null:(Os.x=Os.y=!0,()=>{Os.x=Os.y=!1})}function rC(t,e){const n=RL(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function dw(t){return!(t.pointerType==="touch"||iC())}function IL(t,e,n={}){const[i,a,l]=rC(t,n),c=d=>{if(!dw(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const v=b=>{dw(b)&&(p(b),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,a)};return i.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const aC=(t,e)=>e?t===e?!0:aC(t,e.parentElement):!1,yv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,DL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oC(t){return DL.has(t.tagName)||t.isContentEditable===!0}const Wd=new WeakSet;function fw(t){return e=>{e.key==="Enter"&&t(e)}}function Rg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OL=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=fw(()=>{if(Wd.has(n))return;Rg(n,"down");const a=fw(()=>{Rg(n,"up")}),l=()=>Rg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function mw(t){return yv(t)&&!iC()}function ML(t,e,n={}){const[i,a,l]=rC(t,n),c=d=>{const f=d.currentTarget;if(!mw(d))return;Wd.add(f);const p=e(f,d),v=(S,k)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",_),Wd.has(f)&&Wd.delete(f),mw(S)&&typeof p=="function"&&p(S,{success:k})},b=S=>{v(S,f===window||f===document||n.useGlobalTarget||aC(f,S.target))},_=S=>{v(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",_,a)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Oy(d)&&(d.addEventListener("focus",p=>OL(p,a)),!oC(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function lC(t){return p2(t)&&"ownerSVGElement"in t}function kL(t){return lC(t)&&t.tagName==="svg"}const jL=[...eC,qt,sa],VL=t=>jL.find(Z2(t)),pw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:pw(),y:pw()}),gw=()=>({min:0,max:0}),Qt=()=>({x:gw(),y:gw()}),My={current:null},cC={current:!1},PL=typeof window<"u";function LL(){if(cC.current=!0,!!PL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>My.current=t.matches;t.addEventListener("change",e),e()}else My.current=!1}const UL=new WeakMap;function em(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ru(t){return typeof t=="string"||Array.isArray(t)}const vv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bv=["initial",...vv];function tm(t){return em(t.animate)||bv.some(e=>Ru(t[e]))}function uC(t){return!!(tm(t)||t.variants)}function zL(t,e,n){for(const i in e){const a=e[i],l=n[i];if(xn(a))t.addValue(i,a);else if(xn(l))t.addValue(i,Cl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Cl(c!==void 0?c:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const yw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Af={};function hC(t){Af=t}function BL(){return Af}class FL{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=En.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,vt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=tm(n),this.isVariantNode=uC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in b){const S=b[_];f[_]!==void 0&&xn(S)&&S.set(f[_])}}mount(e){var n;this.current=e,UL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(cC.current||LL(),this.shouldReduceMotion=My.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),na(this.notifyUpdate),na(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Bl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&vt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Af){const n=Af[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<yw.length;i++){const a=yw[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=zL(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Cl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(m2(i)||g2(i))?i=parseFloat(i):!VL(i)&&sa.test(n)&&(i=nC(e,n)),this.setBaseTarget(e,xn(i)?i.get():i)),xn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=fv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){gv.render(this.render)}}class dC extends FL{constructor(){super(...arguments),this.KeyframeResolver=CL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function fC({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function qL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function HL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ng(t){return t===void 0||t===1}function ky({scale:t,scaleX:e,scaleY:n}){return!Ng(t)||!Ng(e)||!Ng(n)}function Fa(t){return ky(t)||mC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mC(t){return vw(t.x)||vw(t.y)}function vw(t){return t&&t!=="0%"}function Cf(t,e,n){const i=t-n,a=e*i;return n+a}function bw(t,e,n,i,a){return a!==void 0&&(t=Cf(t,a,i)),Cf(t,n,i)+e}function jy(t,e=0,n=1,i,a){t.min=bw(t.min,e,n,i,a),t.max=bw(t.max,e,n,i,a)}function pC(t,{x:e,y:n}){jy(t.x,e.translate,e.scale,e.originPoint),jy(t.y,n.translate,n.scale,n.originPoint)}const xw=.999999999999,_w=1.0000000000001;function GL(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ul(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,pC(t,c)),i&&Fa(l.latestValues)&&ul(t,l.latestValues))}e.x<_w&&e.x>xw&&(e.x=1),e.y<_w&&e.y>xw&&(e.y=1)}function cl(t,e){t.min=t.min+e,t.max=t.max+e}function Tw(t,e,n,i,a=.5){const l=wt(t.min,t.max,a);jy(t,e,n,l,i)}function ul(t,e){Tw(t.x,e.x,e.scaleX,e.scale,e.originX),Tw(t.y,e.y,e.scaleY,e.scale,e.originY)}function gC(t,e){return fC(HL(t.getBoundingClientRect(),e))}function $L(t,e,n){const i=gC(t,n),{scroll:a}=e;return a&&(cl(i.x,a.offset.x),cl(i.y,a.offset.y)),i}const KL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YL=zl.length;function QL(t,e,n){let i="",a=!0;for(let l=0;l<YL;l++){const c=zl[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number")f=d===(c.startsWith("scale")?1:0);else{const p=parseFloat(d);f=c.startsWith("scale")?p===1:p===0}if(!f||n){const p=sC(d,pv[c]);if(!f){a=!1;const v=KL[c]||c;i+=`${v}(${p}) `}n&&(e[c]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function xv(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Bl.has(f)){c=!0;continue}else if(I2(f)){a[f]=p;continue}else{const v=sC(p,pv[f]);f.startsWith("origin")?(d=!0,l[f]=v):i[f]=v}}if(e.transform||(c||n?i.transform=QL(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:v=0}=l;i.transformOrigin=`${f} ${p} ${v}`}}function yC(t,{style:e,vars:n},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,i);for(c in n)l.setProperty(c,n[c])}function ww(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=ww(t,e.target.x),i=ww(t,e.target.y);return`${n}% ${i}%`}},XL={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=sa.parse(t);if(a.length>5)return i;const l=sa.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const p=wt(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Vy={borderRadius:{...Kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kc,borderTopRightRadius:Kc,borderBottomLeftRadius:Kc,borderBottomRightRadius:Kc,boxShadow:XL};function vC(t,{layout:e,layoutId:n}){return Bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vy[t]||t==="opacity")}function _v(t,e,n){var c;const i=t.style,a=e==null?void 0:e.style,l={};if(!i)return l;for(const d in i)(xn(i[d])||a&&xn(a[d])||vC(d,t)||((c=n==null?void 0:n.getValue(d))==null?void 0:c.liveStyle)!==void 0)&&(l[d]=i[d]);return l}function WL(t){return window.getComputedStyle(t)}class JL extends dC{constructor(){super(...arguments),this.type="html",this.renderInstance=yC}readValueFromInstance(e,n){var i;if(Bl.has(n))return(i=this.projection)!=null&&i.isProjecting?Ty(n):R6(e,n);{const a=WL(e),l=(I2(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gC(e,n)}build(e,n,i){xv(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return _v(e,n,i)}}const ZL={offset:"stroke-dashoffset",array:"stroke-dasharray"},e5={offset:"strokeDashoffset",array:"strokeDasharray"};function t5(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?ZL:e5;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const n5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function bC(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,p,v){if(xv(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:_}=t;b.transform&&(_.transform=b.transform,delete b.transform),(_.transform||b.transformOrigin)&&(_.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),_.transform&&(_.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox);for(const S of n5)b[S]!==void 0&&(_[S]=b[S],delete b[S]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&t5(b,a,l,c,!1)}const xC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),_C=t=>typeof t=="string"&&t.toLowerCase()==="svg";function s5(t,e,n,i){yC(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(xC.has(a)?a:mv(a),e.attrs[a])}function TC(t,e,n){const i=_v(t,e,n);for(const a in t)if(xn(t[a])||xn(e[a])){const l=zl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class i5 extends dC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bl.has(n)){const i=tC(n);return i&&i.default||0}return n=xC.has(n)?n:mv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return TC(e,n,i)}build(e,n,i){bC(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){s5(e,n,i,a)}mount(e){this.isSVGTag=_C(e.tagName),super.mount(e)}}const r5=bv.length;function wC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<r5;n++){const i=bv[n],a=t.props[i];(Ru(a)||a===!1)&&(e[i]=a)}return e}function EC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const a5=[...vv].reverse(),o5=vv.length;function l5(t){return e=>Promise.all(e.map(({animation:n,options:i})=>yL(t,n,i)))}function c5(t){let e=l5(t),n=Ew(),i=!0;const a=f=>(p,v)=>{var _;const b=yl(t,v,f==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(b){const{transition:S,transitionEnd:k,...V}=b;p={...p,...V,...k}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,v=wC(t.parent)||{},b=[],_=new Set;let S={},k=1/0;for(let j=0;j<o5;j++){const z=a5[j],q=n[z],L=p[z]!==void 0?p[z]:v[z],$=Ru(L),Q=z===f?q.isActive:null;Q===!1&&(k=j);let oe=L===v[z]&&L!==p[z]&&$;if(oe&&i&&t.manuallyAnimateOnMount&&(oe=!1),q.protectedKeys={...S},!q.isActive&&Q===null||!L&&!q.prevProp||em(L)||typeof L=="boolean")continue;const D=u5(q.prevProp,L);let E=D||z===f&&q.isActive&&!oe&&$||j>k&&$,C=!1;const I=Array.isArray(L)?L:[L];let N=I.reduce(a(z),{});Q===!1&&(N={});const{prevResolvedValues:P={}}=q,O={...P,...N},Ee=le=>{E=!0,_.has(le)&&(C=!0,_.delete(le)),q.needsAnimating[le]=!0;const ee=t.getValue(le);ee&&(ee.liveStyle=!1)};for(const le in O){const ee=N[le],Ne=P[le];if(S.hasOwnProperty(le))continue;let Ue=!1;Ry(ee)&&Ry(Ne)?Ue=!EC(ee,Ne):Ue=ee!==Ne,Ue?ee!=null?Ee(le):_.add(le):ee!==void 0&&_.has(le)?Ee(le):q.protectedKeys[le]=!0}q.prevProp=L,q.prevResolvedValues=N,q.isActive&&(S={...S,...N}),i&&t.blockInitialAnimation&&(E=!1);const Me=oe&&D;E&&(!Me||C)&&b.push(...I.map(le=>{const ee={type:z};if(typeof le=="string"&&i&&!Me&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ne}=t,Ue=yl(Ne,le);if(Ne.enteringChildren&&Ue){const{delayChildren:B}=Ue.transition||{};ee.delay=K2(Ne.enteringChildren,t,B)}}return{animation:le,options:ee}}))}if(_.size){const j={};if(typeof p.initial!="boolean"){const z=yl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(j.transition=z.transition)}_.forEach(z=>{const q=t.getBaseTarget(z),L=t.getValue(z);L&&(L.liveStyle=!0),j[z]=q??null}),b.push({animation:j})}let V=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),i=!1,V?e(b):Promise.resolve()}function d(f,p){var b;if(n[f].isActive===p)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(_=>{var S;return(S=_.animationState)==null?void 0:S.setActive(f,p)}),n[f].isActive=p;const v=c(f);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Ew()}}}function u5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EC(e,t):!1}function Ua(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ew(){return{animate:Ua(!0),whileInView:Ua(),whileHover:Ua(),whileTap:Ua(),whileDrag:Ua(),whileFocus:Ua(),exit:Ua()}}function Sw(t,e){t.min=e.min,t.max=e.max}function Ds(t,e){Sw(t.x,e.x),Sw(t.y,e.y)}function Aw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const SC=1e-4,h5=1-SC,d5=1+SC,AC=.01,f5=0-AC,m5=0+AC;function Sn(t){return t.max-t.min}function p5(t,e,n){return Math.abs(t-e)<=n}function Cw(t,e,n,i=.5){t.origin=i,t.originPoint=wt(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=h5&&t.scale<=d5||isNaN(t.scale))&&(t.scale=1),(t.translate>=f5&&t.translate<=m5||isNaN(t.translate))&&(t.translate=0)}function du(t,e,n,i){Cw(t.x,e.x,n.x,i?i.originX:void 0),Cw(t.y,e.y,n.y,i?i.originY:void 0)}function Rw(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function g5(t,e,n){Rw(t.x,e.x,n.x),Rw(t.y,e.y,n.y)}function Nw(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function Rf(t,e,n){Nw(t.x,e.x,n.x),Nw(t.y,e.y,n.y)}function Iw(t,e,n,i,a){return t-=e,t=Cf(t,1/n,i),a!==void 0&&(t=Cf(t,1/a,i)),t}function y5(t,e=0,n=1,i=.5,a,l=t,c=t){if(mi.test(e)&&(e=parseFloat(e),e=wt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=wt(l.min,l.max,i);t===l&&(d-=e),t.min=Iw(t.min,e,n,d,a),t.max=Iw(t.max,e,n,d,a)}function Dw(t,e,[n,i,a],l,c){y5(t,e[n],e[i],e[a],e.scale,l,c)}const v5=["x","scaleX","originX"],b5=["y","scaleY","originY"];function Ow(t,e,n,i){Dw(t.x,e,v5,n?n.x:void 0,i?i.x:void 0),Dw(t.y,e,b5,n?n.y:void 0,i?i.y:void 0)}function Mw(t){return t.translate===0&&t.scale===1}function CC(t){return Mw(t.x)&&Mw(t.y)}function kw(t,e){return t.min===e.min&&t.max===e.max}function x5(t,e){return kw(t.x,e.x)&&kw(t.y,e.y)}function jw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RC(t,e){return jw(t.x,e.x)&&jw(t.y,e.y)}function Vw(t){return Sn(t.x)/Sn(t.y)}function Pw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function fs(t){return[t("x"),t("y")]}function _5(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:_,skewX:S,skewY:k}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),b&&(i+=`rotateX(${b}deg) `),_&&(i+=`rotateY(${_}deg) `),S&&(i+=`skewX(${S}deg) `),k&&(i+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const NC=["TopLeft","TopRight","BottomLeft","BottomRight"],T5=NC.length,Lw=t=>typeof t=="string"?parseFloat(t):t,Uw=t=>typeof t=="number"||ve.test(t);function w5(t,e,n,i,a,l){a?(t.opacity=wt(0,n.opacity??1,E5(i)),t.opacityExit=wt(e.opacity??1,0,S5(i))):l&&(t.opacity=wt(e.opacity??1,n.opacity??1,i));for(let c=0;c<T5;c++){const d=`border${NC[c]}Radius`;let f=zw(e,d),p=zw(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Uw(f)===Uw(p)?(t[d]=Math.max(wt(Lw(f),Lw(p),i),0),(mi.test(p)||mi.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,i))}function zw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const E5=IC(0,.5,E2),S5=IC(.5,.95,ys);function IC(t,e,n){return i=>i<t?0:i>e?1:n(Su(t,e,i))}function A5(t,e,n){const i=xn(t)?t:Cl(t);return i.start(dv("",i,e,n)),i.animation}function Nu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const C5=(t,e)=>t.depth-e.depth;class R5{constructor(){this.children=[],this.isDirty=!1}add(e){Q0(this.children,e),this.isDirty=!0}remove(e){X0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(C5),this.isDirty=!1,this.children.forEach(e)}}function N5(t,e){const n=En.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(na(i),t(l-e))};return vt.setup(i,!0),()=>na(i)}function Jd(t){return xn(t)?t.get():t}class I5{constructor(){this.members=[]}add(e){Q0(this.members,e),e.scheduleRender()}remove(e){if(X0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:d}=e.options;d===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Zd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ig=["","X","Y","Z"],D5=1e3;let O5=0;function Dg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function DC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=W2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&DC(i)}function OC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=O5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j5),this.nodes.forEach(U5),this.nodes.forEach(z5),this.nodes.forEach(V5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new R5)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Z0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=lC(c)&&!kL(c),this.instance=c;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let v,b=0;const _=()=>this.root.updateBlockedByResize=!1;vt.read(()=>{b=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,v&&v(),v=N5(_,250),Zd.hasAnimatedSinceResize&&(Zd.hasAnimatedSinceResize=!1,this.nodes.forEach(qw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||G5,{onLayoutAnimationStart:V,onLayoutAnimationComplete:j}=p.getProps(),z=!this.targetLayout||!RC(this.targetLayout,S),q=!b&&_;if(this.options.layoutRoot||this.resumeFrom||q||b&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...hv(k,"layout"),onPlay:V,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(v,q)}else b||qw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),na(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B5),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(L5),this.nodes.forEach(M5),this.nodes.forEach(k5)):this.nodes.forEach(Fw),this.clearAllSnapshots();const d=En.now();un.delta=vi(0,1e3/60,d-un.timestamp),un.timestamp=d,un.isProcessing=!0,Tg.update.process(un),Tg.preRender.process(un),Tg.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P5),this.sharedNodes.forEach(F5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!CC(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Fa(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),$5(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Qt();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(K5))){const{scroll:v}=this.root;v&&(cl(d.x,v.offset.x),cl(d.y,v.offset.y))}return d}removeElementScroll(c){var f;const d=Qt();if(Ds(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:b,options:_}=v;v!==this.root&&b&&_.layoutScroll&&(b.wasRoot&&Ds(d,c),cl(d.x,b.offset.x),cl(d.y,b.offset.y))}return d}applyTransform(c,d=!1){const f=Qt();Ds(f,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ul(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Fa(v.latestValues)&&ul(f,v.latestValues)}return Fa(this.latestValues)&&ul(f,this.latestValues),f}removeTransform(c){const d=Qt();Ds(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Fa(p.latestValues))continue;ky(p.latestValues)&&p.updateSnapshot();const v=Qt(),b=p.measurePageBox();Ds(v,b),Ow(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Fa(this.latestValues)&&Ow(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=un.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),g5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ds(this.target,this.layout.layoutBox),pC(this.target,this.targetDelta)):Ds(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ky(this.parent.latestValues)||mC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Rf(this.relativeTargetOrigin,d,f),Ds(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var k;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===un.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Ds(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,_=this.treeScale.y;GL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Qt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Aw(this.prevProjectionDelta.x,this.projectionDelta.x),Aw(this.prevProjectionDelta.y,this.projectionDelta.y)),du(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==_||!Pw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},b=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Qt(),S=f?f.source:void 0,k=this.layout?this.layout.source:void 0,V=S!==k,j=this.getStack(),z=!j||j.members.length<=1,q=!!(V&&!z&&this.options.crossfade===!0&&!this.path.some(H5));this.animationProgress=0;let L;this.mixTargetDelta=$=>{const Q=$/1e3;Hw(b.x,c.x,Q),Hw(b.y,c.y,Q),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rf(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q5(this.relativeTarget,this.relativeTargetOrigin,_,Q),L&&x5(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Qt()),Ds(L,this.relativeTarget)),V&&(this.animationValues=v,w5(v,p,this.latestValues,Q,q,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(na(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{Zd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cl(0)),this.currentAnimation=A5(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:v}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&MC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Qt();const b=Sn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+b;const _=Sn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+_}Ds(d,f),ul(d,v),du(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new I5),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Dg("z",c,p,this.animationValues);for(let v=0;v<Ig.length;v++)Dg(`rotate${Ig[v]}`,c,p,this.animationValues),Dg(`skew${Ig[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Jd(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Jd(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Fa(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=_5(this.projectionDeltaWithTransform,this.treeScale,v);f&&(b=f(v,b)),c.transform=b;const{x:_,y:S}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const k in Vy){if(v[k]===void 0)continue;const{correct:V,applyTo:j,isCSSVariable:z}=Vy[k],q=b==="none"?v[k]:V(v[k],p);if(j){const L=j.length;for(let $=0;$<L;$++)c[j[$]]=q}else z?this.options.visualElement.renderState.vars[k]=q:c[k]=q}this.options.layoutId&&(c.pointerEvents=p===this?Jd(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Bw),this.root.sharedNodes.clear()}}}function M5(t){t.updateLayout()}function k5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?fs(b=>{const _=c?e.measuredBox[b]:e.layoutBox[b],S=Sn(_);_.min=i[b].min,_.max=_.min+S}):MC(l,e.layoutBox,i)&&fs(b=>{const _=c?e.measuredBox[b]:e.layoutBox[b],S=Sn(i[b]);_.max=_.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+S)});const d=ll();du(d,i,e.layoutBox);const f=ll();c?du(f,t.applyTransform(a,!0),e.measuredBox):du(f,i,e.layoutBox);const p=!CC(d);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:_,layout:S}=b;if(_&&S){const k=Qt();Rf(k,e.layoutBox,_.layoutBox);const V=Qt();Rf(V,i,S.layoutBox),RC(k,V)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=k,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function j5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function V5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function P5(t){t.clearSnapshot()}function Bw(t){t.clearMeasurements()}function Fw(t){t.isLayoutDirty=!1}function L5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function U5(t){t.resolveTargetDelta()}function z5(t){t.calcProjection()}function B5(t){t.resetSkewAndRotation()}function F5(t){t.removeLeadSnapshot()}function Hw(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Gw(t,e,n,i){t.min=wt(e.min,n.min,i),t.max=wt(e.max,n.max,i)}function q5(t,e,n,i){Gw(t.x,e.x,n.x,i),Gw(t.y,e.y,n.y,i)}function H5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G5={duration:.45,ease:[.4,0,.1,1]},$w=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Kw=$w("applewebkit/")&&!$w("chrome/")?Math.round:ys;function Yw(t){t.min=Kw(t.min),t.max=Kw(t.max)}function $5(t){Yw(t.x),Yw(t.y)}function MC(t,e,n){return t==="position"||t==="preserve-aspect"&&!p5(Vw(e),Vw(n),.2)}function K5(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Y5=OC({attachResizeListener:(t,e)=>Nu(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Og={current:void 0},kC=OC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Og.current){const t=new Y5({});t.mount(window),t.setOptions({layoutScroll:!0}),Og.current=t}return Og.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tv=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Qw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Q5(...t){return e=>{let n=!1;const i=t.map(a=>{const l=Qw(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Qw(t[a],null)}}}}function X5(...t){return M.useCallback(Q5(...t),t)}class W5 extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=Oy(i)&&i.offsetWidth||0,l=Oy(i)&&i.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function J5({children:t,isPresent:e,anchorX:n,anchorY:i,root:a}){var b;const l=M.useId(),c=M.useRef(null),d=M.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=M.useContext(Tv),p=((b=t.props)==null?void 0:b.ref)??(t==null?void 0:t.ref),v=X5(c,p);return M.useInsertionEffect(()=>{const{width:_,height:S,top:k,left:V,right:j,bottom:z}=d.current;if(e||!c.current||!_||!S)return;const q=n==="left"?`left: ${V}`:`right: ${j}`,L=i==="bottom"?`bottom: ${z}`:`top: ${k}`;c.current.dataset.motionPopId=l;const $=document.createElement("style");f&&($.nonce=f);const Q=a??document.head;return Q.appendChild($),$.sheet&&$.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${S}px !important;
            ${q}px !important;
            ${L}px !important;
          }
        `),()=>{Q.contains($)&&Q.removeChild($)}},[e]),g.jsx(W5,{isPresent:e,childRef:c,sizeRef:d,children:M.cloneElement(t,{ref:v})})}const Z5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:f,root:p})=>{const v=Y0(eU),b=M.useId();let _=!0,S=M.useMemo(()=>(_=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:k=>{v.set(k,!0);for(const V of v.values())if(!V)return;i&&i()},register:k=>(v.set(k,!1),()=>v.delete(k))}),[n,v,i]);return l&&_&&(S={...S}),M.useMemo(()=>{v.forEach((k,V)=>v.set(V,!1))},[n]),M.useEffect(()=>{!n&&!v.size&&i&&i()},[n]),c==="popLayout"&&(t=g.jsx(J5,{isPresent:n,anchorX:d,anchorY:f,root:p,children:t})),g.jsx(Zf.Provider,{value:S,children:t})};function eU(){return new Map}function jC(t=!0){const e=M.useContext(Zf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const c=M.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,c]:[!0]}const Md=t=>t.key||"";function Xw(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const Yi=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:f="top",root:p})=>{const[v,b]=jC(c),_=M.useMemo(()=>Xw(t),[t]),S=c&&!v?[]:_.map(Md),k=M.useRef(!0),V=M.useRef(_),j=Y0(()=>new Map),z=M.useRef(new Set),[q,L]=M.useState(_),[$,Q]=M.useState(_);f2(()=>{k.current=!1,V.current=_;for(let E=0;E<$.length;E++){const C=Md($[E]);S.includes(C)?(j.delete(C),z.current.delete(C)):j.get(C)!==!0&&j.set(C,!1)}},[$,S.length,S.join("-")]);const oe=[];if(_!==q){let E=[..._];for(let C=0;C<$.length;C++){const I=$[C],N=Md(I);S.includes(N)||(E.splice(C,0,I),oe.push(I))}return l==="wait"&&oe.length&&(E=oe),Q(Xw(E)),L(_),null}const{forceRender:D}=M.useContext(K0);return g.jsx(g.Fragment,{children:$.map(E=>{const C=Md(E),I=c&&!v?!1:_===$||S.includes(C),N=()=>{if(z.current.has(C))return;if(z.current.add(C),j.has(C))j.set(C,!0);else return;let P=!0;j.forEach(O=>{O||(P=!1)}),P&&(D==null||D(),Q(V.current),c&&(b==null||b()),i&&i())};return g.jsx(Z5,{isPresent:I,initial:!k.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:I?void 0:N,anchorX:d,anchorY:f,children:E},C)})})},VC=M.createContext({strict:!1}),Ww={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Jw=!1;function tU(){if(Jw)return;const t={};for(const e in Ww)t[e]={isEnabled:n=>Ww[e].some(i=>!!n[i])};hC(t),Jw=!0}function PC(){return tU(),BL()}function nU(t){const e=PC();for(const n in t)e[n]={...e[n],...t[n]};hC(e)}const sU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sU.has(t)}let LC=t=>!Nf(t);function iU(t){typeof t=="function"&&(LC=e=>e.startsWith("on")?!Nf(e):t(e))}try{iU(require("@emotion/is-prop-valid").default)}catch{}function rU(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(LC(a)||n===!0&&Nf(a)||!e&&!Nf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const nm=M.createContext({});function aU(t,e){if(tm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ru(n)?n:void 0,animate:Ru(i)?i:void 0}}return t.inherit!==!1?e:{}}function oU(t){const{initial:e,animate:n}=aU(t,M.useContext(nm));return M.useMemo(()=>({initial:e,animate:n}),[Zw(e),Zw(n)])}function Zw(t){return Array.isArray(t)?t.join(" "):t}const wv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UC(t,e,n){for(const i in e)!xn(e[i])&&!vC(i,n)&&(t[i]=e[i])}function lU({transformTemplate:t},e){return M.useMemo(()=>{const n=wv();return xv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cU(t,e){const n=t.style||{},i={};return UC(i,n,t),Object.assign(i,lU(t,e)),i}function uU(t,e){const n={},i=cU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const zC=()=>({...wv(),attrs:{}});function hU(t,e,n,i){const a=M.useMemo(()=>{const l=zC();return bC(l,e,_C(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};UC(l,t.style,t),a.style={...l,...a.style}}return a}const dU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ev(t){return typeof t!="string"||t.includes("-")?!1:!!(dU.indexOf(t)>-1||/[A-Z]/u.test(t))}function fU(t,e,n,{latestValues:i},a,l=!1,c){const f=(c??Ev(t)?hU:uU)(e,i,a,t),p=rU(e,typeof t=="string",l),v=t!==M.Fragment?{...p,...f,ref:n}:{},{children:b}=e,_=M.useMemo(()=>xn(b)?b.get():b,[b]);return M.createElement(t,{...v,children:_})}function mU({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:pU(n,i,a,t),renderState:e()}}function pU(t,e,n,i){const a={},l=i(t,{});for(const _ in l)a[_]=Jd(l[_]);let{initial:c,animate:d}=t;const f=tm(t),p=uC(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?d:c;if(b&&typeof b!="boolean"&&!em(b)){const _=Array.isArray(b)?b:[b];for(let S=0;S<_.length;S++){const k=fv(t,_[S]);if(k){const{transitionEnd:V,transition:j,...z}=k;for(const q in z){let L=z[q];if(Array.isArray(L)){const $=v?L.length-1:0;L=L[$]}L!==null&&(a[q]=L)}for(const q in V)a[q]=V[q]}}}return a}const BC=t=>(e,n)=>{const i=M.useContext(nm),a=M.useContext(Zf),l=()=>mU(t,e,i,a);return n?l():Y0(l)},gU=BC({scrapeMotionValuesFromProps:_v,createRenderState:wv}),yU=BC({scrapeMotionValuesFromProps:TC,createRenderState:zC}),vU=Symbol.for("motionComponentSymbol");function bU(t,e,n){const i=M.useRef(n);M.useInsertionEffect(()=>{i.current=n});const a=M.useRef(null);return M.useCallback(l=>{var d;l&&((d=t.onMount)==null||d.call(t,l)),e&&(l?e.mount(l):e.unmount());const c=i.current;if(typeof c=="function")if(l){const f=c(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const FC=M.createContext({});function su(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xU(t,e,n,i,a,l){var z,q;const{visualElement:c}=M.useContext(nm),d=M.useContext(VC),f=M.useContext(Zf),p=M.useContext(Tv).reducedMotion,v=M.useRef(null),b=M.useRef(!1);i=i||d.renderer,!v.current&&i&&(v.current=i(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p,isSVG:l}),b.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const _=v.current,S=M.useContext(FC);_&&!_.projection&&a&&(_.type==="html"||_.type==="svg")&&_U(v.current,n,a,S);const k=M.useRef(!1);M.useInsertionEffect(()=>{_&&k.current&&_.update(n,f)});const V=n[X2],j=M.useRef(!!V&&!((z=window.MotionHandoffIsComplete)!=null&&z.call(window,V))&&((q=window.MotionHasOptimisedAnimation)==null?void 0:q.call(window,V)));return f2(()=>{b.current=!0,_&&(k.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),j.current&&_.animationState&&_.animationState.animateChanges())}),M.useEffect(()=>{_&&(!j.current&&_.animationState&&_.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,V)}),j.current=!1),_.enteringChildren=void 0)}),_}function _U(t,e,n,i){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:qC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&su(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:v,layoutScroll:f,layoutRoot:p})}function qC(t){if(t)return t.options.allowProjection!==!1?t.projection:qC(t.parent)}function Mg(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&nU(i);const l=n?n==="svg":Ev(t),c=l?yU:gU;function d(p,v){let b;const _={...M.useContext(Tv),...p,layoutId:TU(p)},{isStatic:S}=_,k=oU(p),V=c(p,S);if(!S&&d2){wU();const j=EU(_);b=j.MeasureLayout,k.visualElement=xU(t,V,_,a,j.ProjectionNode,l)}return g.jsxs(nm.Provider,{value:k,children:[b&&k.visualElement?g.jsx(b,{visualElement:k.visualElement,..._}):null,fU(t,p,bU(V,k.visualElement,v),V,S,e,l)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=M.forwardRef(d);return f[vU]=t,f}function TU({layoutId:t}){const e=M.useContext(K0).id;return e&&t!==void 0?e+"-"+t:t}function wU(t,e){M.useContext(VC).strict}function EU(t){const e=PC(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n!=null&&n.isEnabled(t)||i!=null&&i.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function SU(t,e){if(typeof Proxy>"u")return Mg;const n=new Map,i=(l,c)=>Mg(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(n.has(c)||n.set(c,Mg(c,void 0,t,e)),n.get(c))})}const AU=(t,e)=>e.isSVG??Ev(t)?new i5(e):new JL(e,{allowProjection:t!==M.Fragment});class CU extends oa{constructor(e){super(e),e.animationState||(e.animationState=c5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();em(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let RU=0;class NU extends oa{constructor(){super(...arguments),this.id=RU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const IU={animation:{Feature:CU},exit:{Feature:NU}};function Ku(t){return{point:{x:t.pageX,y:t.pageY}}}const DU=t=>e=>yv(e)&&t(e,Ku(e));function fu(t,e,n,i){return Nu(t,e,DU(n),i)}const HC=({current:t})=>t?t.ownerDocument.defaultView:null,eE=(t,e)=>Math.abs(t-e);function OU(t,e){const n=eE(t.x,e.x),i=eE(t.y,e.y);return Math.sqrt(n**2+i**2)}const tE=new Set(["auto","scroll"]);class GC{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=jg(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,V=OU(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!V)return;const{point:j}=S,{timestamp:z}=un;this.history.push({...j,timestamp:z});const{onStart:q,onMove:L}=this.handlers;k||(q&&q(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,S)},this.handlePointerMove=(S,k)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=kg(k,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(S,k)=>{this.end();const{onEnd:V,onSessionEnd:j,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=jg(S.type==="pointercancel"?this.lastMoveEventInfo:kg(k,this.transformPagePoint),this.history);this.startEvent&&V&&V(S,q),j&&j(S,q)},!yv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const f=Ku(e),p=kg(f,this.transformPagePoint),{point:v}=p,{timestamp:b}=un;this.history=[{...v,timestamp:b}];const{onSessionStart:_}=n;_&&_(e,jg(p,this.history)),this.removeListeners=Hu(fu(this.contextWindow,"pointermove",this.handlePointerMove),fu(this.contextWindow,"pointerup",this.handlePointerUp),fu(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(tE.has(i.overflowX)||tE.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),vt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),na(this.updatePoint)}}function kg(t,e){return e?{point:e(t.point)}:t}function nE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jg({point:t},e){return{point:t,delta:nE(t,$C(e)),offset:nE(t,MU(e)),velocity:kU(e,.1)}}function MU(t){return t[0]}function $C(t){return t[t.length-1]}function kU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=$C(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Ki(e)));)n--;if(!i)return{x:0,y:0};const l=gs(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function jU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?wt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?wt(n,t,i.max):Math.min(t,n)),t}function sE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VU(t,{top:e,left:n,bottom:i,right:a}){return{x:sE(t.x,n,a),y:sE(t.y,e,i)}}function iE(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function PU(t,e){return{x:iE(t.x,e.x),y:iE(t.y,e.y)}}function LU(t,e){let n=.5;const i=Sn(t),a=Sn(e);return a>i?n=Su(e.min,e.max-i,t.min):i>a&&(n=Su(t.min,t.max-a,e.min)),vi(0,1,n)}function UU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Py=.35;function zU(t=Py){return t===!1?t=0:t===!0&&(t=Py),{x:rE(t,"left","right"),y:rE(t,"top","bottom")}}function rE(t,e,n){return{min:aE(t,e),max:aE(t,n)}}function aE(t,e){return typeof t=="number"?t:t[e]||0}const BU=new WeakMap;class FU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(Ku(b).point)):this.pauseAnimation()},c=(b,_)=>{this.stopAnimation();const{drag:S,dragPropagation:k,onDragStart:V}=this.getProps();if(S&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NL(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fs(z=>{let q=this.getAxisMotionValue(z).get()||0;if(mi.test(q)){const{projection:L}=this.visualElement;if(L&&L.layout){const $=L.layout.layoutBox[z];$&&(q=Sn($)*(parseFloat(q)/100))}}this.originPoint[z]=q}),V&&vt.postRender(()=>V(b,_)),Ny(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:k,onDirectionLock:V,onDrag:j}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:z}=_;if(k&&this.currentDirection===null){this.currentDirection=qU(z),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",_.point,z),this.updateAxis("y",_.point,z),this.visualElement.render(),j&&j(b,_)},f=(b,_)=>{this.latestPointerEvent=b,this.latestPanInfo=_,this.stop(b,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>fs(b=>{var _;return this.getAnimationState(b)==="paused"&&((_=this.getAxisMotionValue(b).animation)==null?void 0:_.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new GC(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:i,contextWindow:HC(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&vt.postRender(()=>d(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!kd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=jU(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&su(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=VU(i.layoutBox,e):this.constraints=!1,this.elastic=zU(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fs(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=UU(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!su(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=$L(i,a.root,this.visualElement.getTransformPagePoint());let c=PU(a.layout.layoutBox,l);if(n){const d=n(qL(c));this.hasMutatedConstraints=!!d,d&&(c=fC(d))}return c}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=fs(v=>{if(!kd(v,n,this.currentDirection))return;let b=f&&f[v]||{};c&&(b={min:0,max:0});const _=a?200:1e6,S=a?40:1e7,k={type:"inertia",velocity:i?e[v]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,k)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Ny(this.visualElement,e),i.start(dv(e,i,0,n,this.visualElement,!1))}stopAnimation(){fs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){fs(n=>{const{drag:i}=this.getProps();if(!kd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],f=l.get()||0;l.set(e[n]-wt(c,d,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!su(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fs(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=LU({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fs(c=>{if(!kd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(wt(f,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;BU.set(this.visualElement,this);const e=this.visualElement.current,n=fu(e,"pointerdown",f=>{const{drag:p,dragListener:v=!0}=this.getProps(),b=f.target,_=b!==e&&oC(b);p&&v&&!_&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();su(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),vt.read(i);const c=Nu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(fs(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=f[v].translate,b.set(b.get()+f[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Py,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class HU extends oa{constructor(e){super(e),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new FU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const oE=t=>(e,n)=>{t&&vt.postRender(()=>t(e,n))};class GU extends oa{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(e){this.session=new GC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:oE(e),onStart:oE(n),onMove:i,onEnd:(l,c)=>{delete this.session,a&&vt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vg=!1;class $U extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),Vg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Zd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Vg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||vt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;Vg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KC(t){const[e,n]=jC(),i=M.useContext(K0);return g.jsx($U,{...t,layoutGroup:i,switchLayoutGroup:M.useContext(FC),isPresent:e,safeToRemove:n})}const KU={pan:{Feature:GU},drag:{Feature:HU,ProjectionNode:kC,MeasureLayout:KC}};function lE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&vt.postRender(()=>l(e,Ku(e)))}class YU extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=IL(e,(n,i)=>(lE(this.node,i,"Start"),a=>lE(this.node,a,"End"))))}unmount(){}}class QU extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Nu(this.node.current,"focus",()=>this.onFocus()),Nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&vt.postRender(()=>l(e,Ku(e)))}class XU extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=ML(e,(n,i)=>(cE(this.node,i,"Start"),(a,{success:l})=>cE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ly=new WeakMap,Pg=new WeakMap,WU=t=>{const e=Ly.get(t.target);e&&e(t)},JU=t=>{t.forEach(WU)};function ZU({root:t,...e}){const n=t||document;Pg.has(n)||Pg.set(n,{});const i=Pg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(JU,{root:t,...e})),i[a]}function e9(t,e,n){const i=ZU(e);return Ly.set(t,n),i.observe(t),()=>{Ly.delete(t),i.unobserve(t)}}const t9={some:0,all:1};class n9 extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:t9[a]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),_=p?v:b;_&&_(f)};return e9(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(s9(e,n))&&this.startObserver()}unmount(){}}function s9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const i9={inView:{Feature:n9},tap:{Feature:XU},focus:{Feature:QU},hover:{Feature:YU}},r9={layout:{ProjectionNode:kC,MeasureLayout:KC}},a9={...IU,...i9,...KU,...r9},Oe=SU(a9,AU);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),uE=t=>{const e=l9(t);return e.charAt(0).toUpperCase()+e.slice(1)},YC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),c9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},f)=>M.createElement("svg",{ref:f,...u9,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:YC("lucide",a),...!l&&!c9(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,v])=>M.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=M.forwardRef(({className:i,...a},l)=>M.createElement(h9,{ref:l,iconNode:e,className:YC(`lucide-${o9(uE(t))}`,`lucide-${t}`,i),...a}));return n.displayName=uE(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],f9=Re("arrow-left",d9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],p9=Re("banknote",m9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hE=Re("bell",g9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],v9=Re("calendar",y9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lg=Re("check",b9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],dE=Re("chef-hat",x9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sv=Re("chevron-down",_9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],w9=Re("chevron-right",T9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],QC=Re("chevron-up",E9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],If=Re("circle-alert",S9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fn=Re("circle-check-big",A9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Wa=Re("circle-x",C9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ug=Re("clipboard-list",R9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],so=Re("clock",N9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],D9=Re("copy",I9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],M9=Re("credit-card",O9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],j9=Re("database",k9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],XC=Re("dollar-sign",V9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],WC=Re("download",P9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],U9=Re("external-link",L9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],B9=Re("eye",z9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],q9=Re("file-spreadsheet",F9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Av=Re("flame",H9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$9=Re("image",G9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Y9=Re("info",K9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],X9=Re("layout-dashboard",Q9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]],J9=Re("list-filter",W9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ez=Re("loader-circle",Z9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nz=Re("lock",tz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Uy=Re("log-out",sz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],JC=Re("map-pin",iz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],az=Re("menu",rz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M5 12h14",key:"1ays0h"}]],lz=Re("minus",oz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],fE=Re("package",cz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ZC=Re("plus",uz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],eR=Re("printer",hz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fz=Re("refresh-cw",dz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pz=Re("settings",mz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Iu=Re("shopping-bag",gz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],mu=Re("shopping-cart",yz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],bz=Re("smartphone",vz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tR=Re("trash-2",xz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nR=Re("trending-up",_z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wz=Re("triangle-alert",Tz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sR=Re("user",Ez);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Az=Re("utensils-crossed",Sz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ia=Re("x",Cz);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nz=Re("zap",Rz);function iR(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=iR(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Iz(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=iR(t))&&(i&&(i+=" "),i+=e);return i}const Dz=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},Oz=(t,e)=>({classGroupId:t,validator:e}),rR=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Df="-",mE=[],Mz="arbitrary..",kz=t=>{const e=Vz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return jz(c);const d=c.split(Df),f=d[0]===""&&d.length>1?1:0;return aR(d,f,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=i[c],p=n[c];return f?p?Dz(p,f):f:p||mE}return n[c]||mE}}},aR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const p=aR(t,e+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=e===0?t.join(Df):t.slice(e).join(Df),f=c.length;for(let p=0;p<f;p++){const v=c[p];if(v.validator(d))return v.classGroupId}},jz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?Mz+i:void 0})(),Vz=t=>{const{theme:e,classGroups:n}=t;return Pz(n,e)},Pz=(t,e)=>{const n=rR();for(const i in t){const a=t[i];Cv(a,n,i,e)}return n},Cv=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];Lz(c,e,n,i)}},Lz=(t,e,n,i)=>{if(typeof t=="string"){Uz(t,e,n);return}if(typeof t=="function"){zz(t,e,n,i);return}Bz(t,e,n,i)},Uz=(t,e,n)=>{const i=t===""?e:oR(e,t);i.classGroupId=n},zz=(t,e,n,i)=>{if(Fz(t)){Cv(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(Oz(n,t))},Bz=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[d,f]=a[c];Cv(f,oR(e,d),n,i)}},oR=(t,e)=>{let n=t;const i=e.split(Df),a=i.length;for(let l=0;l<a;l++){const c=i[l];let d=n.nextPart.get(c);d||(d=rR(),n.nextPart.set(c,d)),n=d}return n},Fz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,qz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},zy="!",pE=":",Hz=[],gE=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),Gz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,d=0,f=0,p;const v=a.length;for(let V=0;V<v;V++){const j=a[V];if(c===0&&d===0){if(j===pE){l.push(a.slice(f,V)),f=V+1;continue}if(j==="/"){p=V;continue}}j==="["?c++:j==="]"?c--:j==="("?d++:j===")"&&d--}const b=l.length===0?a:a.slice(f);let _=b,S=!1;b.endsWith(zy)?(_=b.slice(0,-1),S=!0):b.startsWith(zy)&&(_=b.slice(1),S=!0);const k=p&&p>f?p-f:void 0;return gE(l,S,_,k)};if(e){const a=e+pE,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):gE(Hz,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},$z=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",f=e.has(c);d||f?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},Kz=t=>({cache:qz(t.cacheSize),parseClassName:Gz(t),sortModifiers:$z(t),...kz(t)}),Yz=/\s+/,Qz=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=t.trim().split(Yz);let f="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:b,modifiers:_,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:V}=n(v);if(b){f=v+(f.length>0?" "+f:f);continue}let j=!!V,z=i(j?k.substring(0,V):k);if(!z){if(!j){f=v+(f.length>0?" "+f:f);continue}if(z=i(k),!z){f=v+(f.length>0?" "+f:f);continue}j=!1}const q=_.length===0?"":_.length===1?_[0]:l(_).join(":"),L=S?q+zy:q,$=L+z;if(c.indexOf($)>-1)continue;c.push($);const Q=a(z,j);for(let oe=0;oe<Q.length;++oe){const D=Q[oe];c.push(L+D)}f=v+(f.length>0?" "+f:f)}return f},Xz=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=lR(n))&&(a&&(a+=" "),a+=i);return a},lR=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=lR(t[i]))&&(n&&(n+=" "),n+=e);return n},Wz=(t,...e)=>{let n,i,a,l;const c=f=>{const p=e.reduce((v,b)=>b(v),t());return n=Kz(p),i=n.cache.get,a=n.cache.set,l=d,d(f)},d=f=>{const p=i(f);if(p)return p;const v=Qz(f,n);return a(f,v),v};return l=c,(...f)=>l(Xz(...f))},Jz=[],Yt=t=>{const e=n=>n[t]||Jz;return e.isThemeGetter=!0,e},cR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,uR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Zz=/^\d+\/\d+$/,e8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,s8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=t=>Zz.test(t),Be=t=>!!t&&!Number.isNaN(Number(t)),Pr=t=>!!t&&Number.isInteger(Number(t)),zg=t=>t.endsWith("%")&&Be(t.slice(0,-1)),Fi=t=>e8.test(t),r8=()=>!0,a8=t=>t8.test(t)&&!n8.test(t),hR=()=>!1,o8=t=>s8.test(t),l8=t=>i8.test(t),c8=t=>!ge(t)&&!ye(t),u8=t=>Fl(t,mR,hR),ge=t=>cR.test(t),za=t=>Fl(t,pR,a8),Bg=t=>Fl(t,p8,Be),yE=t=>Fl(t,dR,hR),h8=t=>Fl(t,fR,l8),jd=t=>Fl(t,gR,o8),ye=t=>uR.test(t),Yc=t=>ql(t,pR),d8=t=>ql(t,g8),vE=t=>ql(t,dR),f8=t=>ql(t,mR),m8=t=>ql(t,fR),Vd=t=>ql(t,gR,!0),Fl=(t,e,n)=>{const i=cR.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},ql=(t,e,n=!1)=>{const i=uR.exec(t);return i?i[1]?e(i[1]):n:!1},dR=t=>t==="position"||t==="percentage",fR=t=>t==="image"||t==="url",mR=t=>t==="length"||t==="size"||t==="bg-size",pR=t=>t==="length",p8=t=>t==="number",g8=t=>t==="family-name",gR=t=>t==="shadow",y8=()=>{const t=Yt("color"),e=Yt("font"),n=Yt("text"),i=Yt("font-weight"),a=Yt("tracking"),l=Yt("leading"),c=Yt("breakpoint"),d=Yt("container"),f=Yt("spacing"),p=Yt("radius"),v=Yt("shadow"),b=Yt("inset-shadow"),_=Yt("text-shadow"),S=Yt("drop-shadow"),k=Yt("blur"),V=Yt("perspective"),j=Yt("aspect"),z=Yt("ease"),q=Yt("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Q=()=>[...$(),ye,ge],oe=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],E=()=>[ye,ge,f],C=()=>[el,"full","auto",...E()],I=()=>[Pr,"none","subgrid",ye,ge],N=()=>["auto",{span:["full",Pr,ye,ge]},Pr,ye,ge],P=()=>[Pr,"auto",ye,ge],O=()=>["auto","min","max","fr",ye,ge],Ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Me=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...E()],le=()=>[el,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],ee=()=>[t,ye,ge],Ne=()=>[...$(),vE,yE,{position:[ye,ge]}],Ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",f8,u8,{size:[ye,ge]}],ne=()=>[zg,Yc,za],ce=()=>["","none","full",p,ye,ge],ue=()=>["",Be,Yc,za],we=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Be,zg,vE,yE],bt=()=>["","none",k,ye,ge],tt=()=>["none",Be,ye,ge],An=()=>["none",Be,ye,ge],Jn=()=>[Be,ye,ge],Ln=()=>[el,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fi],breakpoint:[Fi],color:[r8],container:[Fi],"drop-shadow":[Fi],ease:["in","out","in-out"],font:[c8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fi],shadow:[Fi],spacing:["px",Be],text:[Fi],"text-shadow":[Fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",el,ge,ye,j]}],container:["container"],columns:[{columns:[Be,ge,ye,d]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Q()}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Pr,"auto",ye,ge]}],basis:[{basis:[el,"full","auto",d,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,el,"auto","initial","none",ge]}],grow:[{grow:["",Be,ye,ge]}],shrink:[{shrink:["",Be,ye,ge]}],order:[{order:[Pr,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...Ee(),"normal"]}],"justify-items":[{"justify-items":[...Me(),"normal"]}],"justify-self":[{"justify-self":["auto",...Me()]}],"align-content":[{content:["normal",...Ee()]}],"align-items":[{items:[...Me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Me(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ee()}],"place-items":[{"place-items":[...Me(),"baseline"]}],"place-self":[{"place-self":["auto",...Me()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[d,"screen",...le()]}],"min-w":[{"min-w":[d,"screen","none",...le()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",n,Yc,za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ye,Bg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zg,ge]}],"font-family":[{font:[d8,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ye,ge]}],"line-clamp":[{"line-clamp":[Be,"none",ye,Bg]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",ye,za]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Be,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ne()}],"bg-repeat":[{bg:Ue()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pr,ye,ge],radial:["",ye,ge],conic:[Pr,ye,ge]},m8,h8]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,ye,ge]}],"outline-w":[{outline:["",Be,Yc,za]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",v,Vd,jd]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",b,Vd,jd]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Be,za]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",_,Vd,jd]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Be,ye,ge]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ne()}],"mask-repeat":[{mask:Ue()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:bt()}],brightness:[{brightness:[Be,ye,ge]}],contrast:[{contrast:[Be,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",S,Vd,jd]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Be,ye,ge]}],"hue-rotate":[{"hue-rotate":[Be,ye,ge]}],invert:[{invert:["",Be,ye,ge]}],saturate:[{saturate:[Be,ye,ge]}],sepia:[{sepia:["",Be,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":bt()}],"backdrop-brightness":[{"backdrop-brightness":[Be,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Be,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",Be,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Be,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Be,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",ye,ge]}],ease:[{ease:["linear","initial",z,ye,ge]}],delay:[{delay:[Be,ye,ge]}],animate:[{animate:["none",q,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[V,ye,ge]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:tt()}],"rotate-x":[{"rotate-x":tt()}],"rotate-y":[{"rotate-y":tt()}],"rotate-z":[{"rotate-z":tt()}],scale:[{scale:An()}],"scale-x":[{"scale-x":An()}],"scale-y":[{"scale-y":An()}],"scale-z":[{"scale-z":An()}],"scale-3d":["scale-3d"],skew:[{skew:Jn()}],"skew-x":[{"skew-x":Jn()}],"skew-y":[{"skew-y":Jn()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ln()}],"translate-x":[{"translate-x":Ln()}],"translate-y":[{"translate-y":Ln()}],"translate-z":[{"translate-z":Ln()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Be,Yc,za,Bg]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},v8=Wz(y8);function Je(...t){return v8(Iz(t))}const mn=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),b8=t=>new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(i.result),i.onerror=a=>n(a)}),x8={success:{icon:fn,bg:"bg-white",borderColor:"border-green-500",iconBg:"bg-green-50",iconColor:"text-green-600",titleColor:"text-brand-maroon",messageColor:"text-gray-700",progressBg:"bg-green-500",confirmBtnBg:"bg-green-600 hover:bg-green-700"},error:{icon:Wa,bg:"bg-white",borderColor:"border-red-500",iconBg:"bg-red-50",iconColor:"text-red-600",titleColor:"text-brand-maroon",messageColor:"text-gray-700",progressBg:"bg-red-500",confirmBtnBg:"bg-red-600 hover:bg-red-700"},warning:{icon:wz,bg:"bg-brand-yellow",borderColor:"border-brand-maroon",iconBg:"bg-white",iconColor:"text-brand-maroon",titleColor:"text-brand-maroon",messageColor:"text-gray-800",progressBg:"bg-brand-maroon",confirmBtnBg:"bg-brand-maroon hover:bg-brand-burgundy"},info:{icon:Y9,bg:"bg-brand-cream",borderColor:"border-brand-maroon",iconBg:"bg-white",iconColor:"text-brand-maroon",titleColor:"text-brand-maroon",messageColor:"text-gray-700",progressBg:"bg-brand-maroon",confirmBtnBg:"bg-brand-maroon hover:bg-brand-burgundy"},confirm:{icon:If,bg:"bg-white",borderColor:"border-brand-maroon",iconBg:"bg-brand-cream",iconColor:"text-brand-maroon",titleColor:"text-brand-maroon",messageColor:"text-gray-700",progressBg:"bg-brand-maroon",confirmBtnBg:"bg-brand-maroon hover:bg-brand-burgundy"}},_8=({toast:t})=>{const{hideToast:e}=co(),n=x8[t.type],i=n.icon,a=()=>{var c;(c=t.onConfirm)==null||c.call(t),e(t.id)},l=()=>{var c;(c=t.onCancel)==null||c.call(t),e(t.id)};return M.useEffect(()=>{if(t.type!=="confirm"&&t.duration){const c=setTimeout(()=>{e(t.id)},t.duration);return()=>clearTimeout(c)}},[t,e]),g.jsx(Oe.div,{initial:{opacity:0,y:-30,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.95},transition:{type:"spring",stiffness:500,damping:30},className:"w-full",children:g.jsxs("div",{className:Je("relative shadow-lg rounded-xl overflow-hidden border-2",n.bg,n.borderColor),children:[t.type!=="confirm"&&t.duration&&g.jsx(Oe.div,{initial:{width:"100%"},animate:{width:"0%"},transition:{duration:t.duration/1e3,ease:"linear"},className:Je("absolute top-0 left-0 h-1 z-10",n.progressBg)}),g.jsx("div",{className:"p-3 sm:p-4",children:g.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[g.jsx(Oe.div,{initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{delay:.1,type:"spring",stiffness:400},className:Je("flex-shrink-0 rounded-lg p-1.5 sm:p-2",n.iconBg),children:g.jsx(i,{className:Je("w-4 h-4 sm:w-5 sm:h-5",n.iconColor),strokeWidth:2.5})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[t.title&&g.jsx("h4",{className:Je("font-bold text-xs sm:text-sm mb-0.5 leading-tight",n.titleColor),children:t.title}),g.jsx("p",{className:Je("text-xs sm:text-sm leading-snug",n.messageColor),children:t.message}),t.type==="confirm"&&g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx(Oe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:Je("flex-1 text-white font-bold px-3 py-2 rounded-lg transition-colors text-xs sm:text-sm shadow-sm",n.confirmBtnBg),children:t.confirmText||"OK"}),g.jsx(Oe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,className:"flex-1 bg-white hover:bg-gray-50 text-gray-700 font-bold px-3 py-2 rounded-lg transition-colors border-2 border-gray-200 text-xs sm:text-sm",children:t.cancelText||"Cancel"})]})]}),t.type!=="confirm"&&g.jsx(Oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(t.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:g.jsx(ia,{size:16,strokeWidth:2.5,className:"sm:w-5 sm:h-5"})})]})})]})})},T8=()=>{const{toasts:t}=co();return g.jsx("div",{className:"fixed top-16 sm:top-20 right-2 sm:right-4 left-2 sm:left-auto z-[100] flex flex-col gap-2 sm:gap-3 pointer-events-none sm:max-w-sm",children:g.jsx(Yi,{mode:"popLayout",children:t.map(e=>g.jsx("div",{className:"pointer-events-auto",children:g.jsx(_8,{toast:e})},e.id))})})},w8=["11sciirfans@gmail.com","piyushthawale7@gmail.com","yummyfi.official@gmail.com"].filter(Boolean),bE=t=>t?w8.includes(t):!1,yR=M.createContext(void 0),E8=({children:t})=>{const[e,n]=M.useState(null),[i,a]=M.useState(!0);M.useEffect(()=>{const f=k4(Id,p=>{n(p),a(!1),p&&(localStorage.setItem("userEmail",p.email||""),localStorage.setItem("userName",p.displayName||""))});return()=>f()},[]);const l=async(f=!1)=>{try{const v=(await eP(Id,w3)).user??null;if(f&&v){const b=v.email??null;if(!bE(b))throw await k1(Id),new Error("NOT_ADMIN");localStorage.setItem("isAdminSession","true")}else localStorage.setItem("isAdminSession","false");return n(v),v}catch(p){throw console.error("Sign-in error:",p),p}},c=async(f=!1)=>{const p=localStorage.getItem("isAdminSession")==="true";if(f&&!p){console.log("Not signing out - not an admin session");return}await k1(Id),localStorage.removeItem("isAdminSession"),(!f||p)&&(localStorage.removeItem("userEmail"),localStorage.removeItem("userName"))},d={user:e,loading:i,isAdmin:bE((e==null?void 0:e.email)??null),isAuthenticatedUser:!!e,signInWithGoogle:l,signOut:c};return g.jsx(yR.Provider,{value:d,children:t})},uo=()=>{const t=M.useContext(yR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},S8=()=>{var L,$,Q,oe,D,E;const{cart:t,tableNumber:e}=Ll(),{user:n,isAdmin:i,signOut:a}=uo(),{showConfirm:l,showError:c}=co(),d=tr(),f=Dl(),p=d.pathname.startsWith("/admin"),[v,b]=M.useState(!1),[_,S]=M.useState(!1),[k,V]=M.useState(!1),j=EE.useRef(t.length),z=M.useRef(null);M.useEffect(()=>{t.length>j.current&&(b(!0),setTimeout(()=>b(!1),500)),j.current=t.length},[t.length]),M.useEffect(()=>{S(!1),V(!1)},[d.pathname]),M.useEffect(()=>{const C=I=>{z.current&&!z.current.contains(I.target)&&V(!1)};if(k)return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[k]);const q=async()=>{const C=localStorage.getItem("isAdminSession")==="true";l(C?"Are you sure you want to sign out from admin session?":"Are you sure you want to sign out? Your cart will be cleared.",async()=>{try{await a(!1),V(!1),C?f("/admin"):window.location.reload()}catch(N){console.error("Sign-out failed:",N),c("Sign-out failed. Please try again.")}},void 0,"Sign Out","Cancel"," Sign Out Confirmation")};return p&&d.pathname.includes("dashboard")?null:g.jsxs(g.Fragment,{children:[g.jsx("nav",{className:Je("sticky top-0 z-50 shadow-sm px-4 sm:px-6 py-4 transition-colors bg-brand-yellow"),children:g.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[g.jsxs(jn,{to:p?"/admin":"/",className:"flex items-center gap-3 group",children:[g.jsx("img",{src:"/542169443-ff628a00-4675-44b8-9fb4-6c3b6630590b.png",alt:"Yummy-Fi Logo",className:"w-12 h-12 object-contain drop-shadow-sm group-hover:scale-105 transition-transform duration-300 rounded-full"}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl sm:text-2xl font-bold leading-none text-brand-maroon font-serif",children:"Yummy-Fi"}),g.jsx("p",{className:"text-[10px] sm:text-xs text-brand-maroon/70 font-sans font-medium tracking-wide",children:p?"Admin Panel":"Restaurant System"})]})]}),!p&&g.jsxs("div",{className:"hidden sm:flex items-center gap-8",children:[g.jsx(jn,{to:"/",className:"text-brand-maroon font-bold hover:text-brand-burgundy transition-colors",children:"Menu"}),g.jsx(jn,{to:"/track-order",className:"text-gray-600 font-medium hover:text-brand-maroon transition-colors",children:"Track Order"})]}),g.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[!p&&e&&d.pathname!=="/"&&g.jsxs("span",{className:"hidden lg:block text-sm font-bold text-brand-maroon bg-white px-4 py-1.5 rounded-full shadow-sm border border-brand-maroon/10",children:["Table ",e]}),!p&&g.jsxs(jn,{to:"/cart",className:"relative p-2 text-gray-800 hover:text-brand-maroon transition-colors hidden sm:block",children:[g.jsx(Oe.div,{animate:v?{scale:[1,1.3,.9,1.1,1],rotate:[0,-10,10,-5,0]}:{},transition:{duration:.5},children:g.jsx(mu,{size:26,strokeWidth:2})}),t.length>0&&g.jsx(Oe.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-brand-maroon text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-brand-cream",children:t.length})]}),!p&&g.jsxs("div",{className:"flex items-center gap-4 sm:hidden",children:[g.jsxs(jn,{to:"/cart",className:"relative text-gray-800",children:[g.jsx(mu,{size:24,strokeWidth:2}),t.length>0&&g.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-brand-maroon text-white text-[9px] font-bold w-4 h-4 flex items-center justify-center rounded-full border border-white",children:t.length})]}),g.jsx("button",{onClick:()=>S(!0),className:"text-gray-800 hover:text-brand-maroon",children:g.jsx(az,{size:28})})]}),!p&&n&&g.jsxs("div",{ref:z,className:"relative hidden sm:block",children:[g.jsxs("button",{onClick:()=>V(!k),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-white transition-colors border border-transparent hover:border-brand-maroon/20",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-maroon text-white flex items-center justify-center text-sm font-bold",children:((L=n.displayName)==null?void 0:L.charAt(0))||(($=n.email)==null?void 0:$.charAt(0))||"U"}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"text-xs font-bold text-black leading-none",children:n.displayName||"User"}),g.jsx("p",{className:"text-[10px] text-black leading-none mt-0.5",children:i?"Admin":"Customer"})]}),g.jsx(Sv,{size:16,className:Je("text-black transition-transform",k&&"rotate-180")})]}),g.jsx(Yi,{children:k&&g.jsxs(Oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden z-50",children:[g.jsxs("div",{className:"p-4 bg-brand-cream border-b border-gray-100",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-brand-maroon text-white flex items-center justify-center text-sm font-bold",children:((Q=n.displayName)==null?void 0:Q.charAt(0))||((oe=n.email)==null?void 0:oe.charAt(0))||"U"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-bold text-gray-700 truncate",children:n.displayName||"User"}),g.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]})]}),i&&g.jsx("div",{className:"mt-2 px-2 py-1 bg-brand-maroon/10 rounded text-xs font-bold text-brand-maroon text-center",children:"Admin Account"})]}),g.jsx("div",{className:"p-2",children:g.jsxs("button",{onClick:q,className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-700 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",children:[g.jsx(Uy,{size:18}),g.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})})]})]})]})}),g.jsx(Yi,{children:_&&g.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed inset-0 z-[60] bg-white md:hidden flex flex-col",children:[g.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-b border-gray-100 shadow-sm bg-white",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:"/542169443-ff628a00-4675-44b8-9fb4-6c3b6630590b.png",alt:"Yummy-Fi Logo",className:"w-10 h-10 object-contain rounded-full"}),g.jsx("span",{className:"text-xl font-bold text-brand-maroon font-serif leading-none",children:"Yummy-Fi"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs(jn,{to:"/cart",className:"relative text-gray-800",onClick:()=>S(!1),children:[g.jsx(mu,{size:24,strokeWidth:2}),t.length>0&&g.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-brand-maroon text-white text-[9px] font-bold w-4 h-4 flex items-center justify-center rounded-full border border-white",children:t.length})]}),g.jsx("button",{onClick:()=>S(!1),className:"w-10 h-10 rounded-full border-2 border-brand-yellow flex items-center justify-center text-gray-800 hover:bg-gray-50 transition-colors",children:g.jsx(ia,{size:20})})]})]}),g.jsxs("div",{className:"p-8 flex flex-col gap-6",children:[g.jsx(jn,{to:"/",className:"text-lg font-bold text-gray-800 hover:text-brand-maroon transition-colors py-2 border-b border-gray-50 flex justify-between items-center",children:"Menu"}),g.jsx(jn,{to:"/track-order",className:"text-lg font-bold text-gray-800 hover:text-brand-maroon transition-colors py-2 border-b border-gray-50 flex justify-between items-center",children:"Track Order"})]}),g.jsxs("div",{className:"mt-auto p-8 bg-brand-offWhite",children:[n&&g.jsxs("div",{className:"mb-6 p-4 bg-white rounded-xl shadow-sm border border-gray-100",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-maroon text-white flex items-center justify-center text-lg font-bold",children:((D=n.displayName)==null?void 0:D.charAt(0))||((E=n.email)==null?void 0:E.charAt(0))||"U"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-bold text-gray-700 truncate",children:n.displayName||"User"}),g.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email}),i&&g.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-brand-maroon/10 rounded text-[10px] font-bold text-brand-maroon",children:"Admin"})]})]}),g.jsxs("button",{onClick:q,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition-colors font-medium text-sm",children:[g.jsx(Uy,{size:18}),g.jsx("span",{children:"Sign Out"})]})]}),g.jsx("p",{className:"text-center text-xs text-gray-400 font-medium",children:"Yummy-Fi Restaurant System"})]})]})})]})},A8=({product:t})=>{const{addToCart:e}=Ll(),{user:n,signInWithGoogle:i}=uo(),{showConfirm:a,showError:l}=co(),[c,d]=EE.useState(!1),f=async()=>{if(!n){a("Please sign in with your Google account to add items to cart. This helps us track your delivery later.",async()=>{try{await i(!1),d(!0),e(t),setTimeout(()=>d(!1),600)}catch(S){console.error("Sign-in failed:",S),l("Sign-in failed. Please try again.")}},void 0,"Sign In","Cancel"," Authentication Required");return}d(!0),e(t),setTimeout(()=>d(!1),600)},p=t.price,v=t.offerPrice||0,b=p+v,_=v>0?Math.round(v/b*100):0;return g.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden group flex flex-col h-full border border-transparent hover:border-brand-goldGlow/30",children:[g.jsxs("div",{className:"relative h-44 sm:h-48 md:h-56 overflow-hidden p-2 sm:p-3 pb-0",children:[g.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover rounded-2xl group-hover:scale-105 transition-transform duration-500 shadow-inner",style:{objectPosition:`center ${t.imageFocus||50}%`}}),g.jsx("div",{className:Je("absolute top-3 sm:top-4 left-3 sm:left-4 w-5 h-5 sm:w-6 sm:h-6 border-2 flex items-center justify-center z-10 rounded-sm  bg-white shadow-sm",t.isVeg?"border-green-600":"border-red-600"),children:g.jsx("div",{className:Je("w-2 sm:w-2.5 h-2 sm:h-2.5 rounded-full",t.isVeg?"bg-green-600":"bg-red-600")})}),_>0&&g.jsxs("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 bg-brand-yellow text-brand-maroon text-[9px] sm:text-xs font-bold px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-md shadow-md z-10",children:[_,"% OFF"]}),g.jsx("div",{className:"absolute bottom-2 left-6 bg-black/30 backdrop-blur-md text-white text-[10px] px-2 py-1 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.category})]}),g.jsxs("div",{className:"p-3 sm:p-5 pt-2 sm:pt-4 flex flex-col flex-grow",children:[g.jsx("div",{className:"flex-grow",children:g.jsx("h3",{className:"text-sm sm:text-xl font-bold text-brand-maroon font-serif mb-1 sm:mb-2 leading-tight line-clamp-2",children:t.name})}),g.jsxs("div",{className:"mt-2 sm:mt-4 space-y-2 sm:space-y-4",children:[g.jsx("div",{className:"flex items-center gap-2",children:v>0?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-lg sm:text-2xl font-bold text-brand-maroon",children:mn(p)}),g.jsx("span",{className:"text-xs sm:text-sm text-gray-400 line-through decoration-gray-400",children:mn(b)})]}):g.jsx("span",{className:"text-lg sm:text-2xl font-bold text-brand-maroon",children:mn(p)})}),g.jsxs(Oe.button,{onClick:f,disabled:c,animate:c?{scale:[1,.95,1.05,1]}:{},transition:{duration:.4},className:Je("w-full bg-brand-yellow hover:bg-brand-mustard text-brand-maroon font-bold py-2 sm:py-3.5 rounded-xl flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-base transition-all active:scale-[0.98] shadow-sm hover:shadow-md",c&&"bg-green-500 text-white"),children:[g.jsx(Oe.div,{animate:c?{rotate:[0,-10,10,0],scale:[1,1.2,1]}:{},transition:{duration:.4},children:g.jsx(mu,{size:18,strokeWidth:2.5})}),c?"Added!":"Add to Cart"]})]})]})]})},C8=()=>{const{products:t,productsLoading:e}=Ll();return g.jsx("div",{className:"min-h-screen pb-24 bg-brand-offWhite",children:g.jsx("div",{className:"max-w-7xl mx-auto px-3 py-4 sm:px-4 sm:py-8",children:e?g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-8",children:Array.from({length:8}).map((n,i)=>g.jsx("div",{className:"bg-white rounded-3xl shadow-sm animate-pulse h-48 sm:h-64"},i))}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-8",children:t.map(n=>g.jsx(A8,{product:n},n.id))}),t.length===0&&g.jsxs("div",{className:"text-center py-20",children:[g.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl",children:""}),g.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"No products available"}),g.jsx("p",{className:"text-gray-500 mb-4",children:"Products haven't been added yet."}),g.jsxs("p",{className:"text-sm text-gray-400",children:["Admin can add products from the ",g.jsx("a",{href:"/admin",className:"text-brand-maroon underline",children:"Admin Dashboard"})]})]})]})})})},R8=()=>{const{cart:t,updateQuantity:e,removeFromCart:n,placeOrder:i,tableNumber:a,setTableInfo:l}=Ll(),{user:c,signInWithGoogle:d}=uo(),f=Dl(),[p,v]=M.useState(!1),[b,_]=M.useState(!1),[S,k]=M.useState(""),[V,j]=M.useState(a||""),[z,q]=M.useState(!1),L=t.reduce((E,C)=>E+C.price*C.quantity,0),$=()=>{j(a||""),v(!0)},Q=E=>E.split("@")[0].replace(/\d/g,"").split(/[._-]/).filter(O=>O.length>0).map(O=>O.charAt(0).toUpperCase()+O.slice(1).toLowerCase()).join(" ")||"Customer",oe=async E=>{if(E.preventDefault(),V.trim()&&c){q(!0);try{let C="Guest";c.displayName?C=c.displayName:c.email&&(C=Q(c.email)),l(V,C),await i(V,C,c.email||void 0)&&f("/track-order")}finally{q(!1)}}},D=async()=>{try{k(""),_(!0),await d()}catch(E){console.error(E),k("Failed to sign in with Google. Please try again.")}finally{_(!1)}};return t.length===0?g.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center p-4 text-center",children:[g.jsx("div",{className:"w-24 h-24 bg-brand-cream rounded-full flex items-center justify-center mb-6",children:g.jsx(mu,{size:40,className:"text-brand-maroon/40"})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Your cart is empty"}),g.jsx("p",{className:"text-gray-500 mb-8",children:"Looks like you haven't added anything yet."}),g.jsx(jn,{to:"/",className:"bg-brand-maroon text-white px-8 py-3 rounded-xl font-bold hover:bg-brand-burgundy transition-colors",children:"Browse Menu"})]}):g.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8 relative",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx(jn,{to:"/",className:"p-2 hover:bg-gray-100 rounded-full",children:g.jsx(f9,{size:24})}),g.jsx("h1",{className:"text-2xl font-bold text-brand-maroon",children:"Your Order"})]}),g.jsx("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden mb-6",children:t.map(E=>g.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-100 last:border-0 flex gap-3 sm:gap-4",children:[g.jsx("img",{src:E.imageUrl,alt:E.name,className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg bg-gray-100"}),g.jsxs("div",{className:"flex-grow flex flex-col justify-between",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-800 font-serif text-sm sm:text-base",children:E.name}),g.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:E.category})]}),g.jsx("button",{onClick:()=>n(E.id),className:"text-gray-400 hover:text-red-500",children:g.jsx(tR,{size:16,className:"sm:w-[18px] sm:h-[18px]"})})]}),g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("div",{className:"font-bold text-brand-maroon text-sm sm:text-base",children:mn(E.price*E.quantity)}),g.jsxs("div",{className:"flex items-center gap-3 bg-brand-offWhite rounded-lg p-1",children:[g.jsx("button",{onClick:()=>e(E.id,-1),className:"w-7 h-7 flex items-center justify-center bg-white rounded shadow-sm text-brand-maroon hover:bg-gray-50",children:g.jsx(lz,{size:14})}),g.jsx("span",{className:"text-sm font-bold w-4 text-center",children:E.quantity}),g.jsx("button",{onClick:()=>e(E.id,1),className:"w-7 h-7 flex items-center justify-center bg-white rounded shadow-sm text-brand-maroon hover:bg-gray-50",children:g.jsx(ZC,{size:14})})]})]})]})]},E.id))}),g.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-24",children:[g.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Bill Details"}),g.jsx("div",{className:"space-y-2 text-sm",children:g.jsxs("div",{className:"border-t border-dashed border-gray-200 pt-4 flex justify-between font-bold text-lg text-brand-maroon",children:[g.jsx("span",{children:"Total Amount"}),g.jsx("span",{children:mn(L)})]})})]}),g.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-4 shadow-lg z-40",children:g.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Total Amount"}),g.jsx("span",{className:"text-xl font-bold text-brand-maroon",children:mn(L)})]}),g.jsxs("button",{onClick:$,className:"flex-grow bg-brand-yellow text-brand-maroon font-bold py-3 px-6 rounded-xl hover:bg-brand-mustard transition-colors flex items-center justify-center gap-2",children:["Place Order ",g.jsx(fn,{size:20})]})]})}),p&&g.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-sm w-full shadow-2xl relative",children:[g.jsx("button",{onClick:()=>v(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:g.jsx(ia,{size:24})}),g.jsx("div",{className:"w-16 h-16 bg-brand-cream rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(JC,{size:32,className:"text-brand-maroon"})}),g.jsx("h2",{className:"text-2xl font-bold text-brand-maroon mb-2 font-serif text-center",children:"Final Step"}),g.jsx("p",{className:"text-gray-500 mb-6 text-center",children:"Sign in with Google and confirm your table details"}),!c&&g.jsxs("div",{className:"mb-6 space-y-2",children:[g.jsx("button",{type:"button",onClick:D,disabled:b,className:"w-full bg-white border border-gray-200 text-gray-800 font-bold py-3 rounded-xl hover:bg-gray-50 disabled:opacity-60 flex items-center justify-center gap-2 shadow-sm",children:b?"Connecting to Google":"Continue with Google to place order"}),S&&g.jsx("p",{className:"text-xs text-red-500 text-center",children:S})]}),c&&g.jsxs("p",{className:"mb-4 text-xs text-center text-green-700 font-medium",children:["Signed in as ",c.email]}),g.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1 ml-1",children:"Table Number"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:g.jsx("span",{className:"text-gray-400 font-bold",children:"#"})}),g.jsx("input",{type:"text",placeholder:"e.g. 5",className:"w-full pl-10 pr-4 text-center text-xl font-bold border-2 border-gray-200 rounded-xl focus:border-brand-maroon outline-none py-3 bg-gray-50 placeholder:text-gray-400",value:V,onChange:E=>j(E.target.value),autoFocus:!0,required:!0})]})]}),g.jsx("button",{type:"submit",disabled:!V||!c||z,className:"w-full bg-brand-maroon text-white font-bold py-3.5 rounded-xl hover:bg-brand-burgundy disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-brand-maroon/20 mt-4 flex items-center justify-center gap-2",children:z?g.jsx(g.Fragment,{children:g.jsx("span",{className:"animate-pulse",children:"Sending..."})}):c?g.jsxs(g.Fragment,{children:["Confirm & Place Order ",g.jsx(fn,{size:20})]}):"Sign in to place order"})]})]})})]})},N8=()=>{const{orders:t,ordersLoading:e,cancelOrder:n}=Ll(),{user:i}=uo(),{showConfirm:a,showSuccess:l,showError:c}=co(),d=Dl(),[f,p]=M.useState(null),[v,b]=M.useState(1200);M.useEffect(()=>{i||(c("Please Order to track them"),d("/"))},[i,d,c]),M.useEffect(()=>{if(e||!i)return;const L=localStorage.getItem("lastOrderId");if(L){const $=t.find(oe=>oe.id===L);if($&&($.customerEmail===i.email||$.customerName===i.displayName))if(p($),$.status==="confirmed"&&$.confirmedAt){const oe=new Date($.confirmedAt).getTime(),D=new Date().getTime(),E=Math.floor((D-oe)/1e3),C=Math.max(0,1200-E);b(C)}else if($.status==="ready"&&$.confirmedAt&&$.readyAt){const oe=new Date($.confirmedAt).getTime(),D=new Date($.readyAt).getTime(),E=Math.floor((D-oe)/1e3),C=Math.max(0,1200-E);b(C)}else $.status==="completed"&&b(0);else $&&(localStorage.removeItem("lastOrderId"),p(null))}},[t,e,i]),M.useEffect(()=>{if(!f||f.status!=="confirmed"||v<=0)return;const L=setInterval(()=>{b($=>Math.max(0,$-1))},1e3);return()=>clearInterval(L)},[f,v]);const _=L=>{const $=Math.floor(L/60),Q=L%60;return`${$.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`},S=()=>{f&&a("Are you sure you want to cancel this order? This action cannot be undone.",async()=>{try{await n(f.id,"user"),l("Order cancelled successfully"," Cancelled"),localStorage.removeItem("lastOrderId"),d("/")}catch(L){console.error("Error cancelling order:",L),c("Failed to cancel order. Please try again.")}})},V=v/1200,j=()=>{switch(f==null?void 0:f.status){case"pending":return 0;case"confirmed":return 1;case"ready":return 2;case"completed":return 3;default:return 0}},z=[{label:"Order Placed",icon:Iu,description:"Order received"},{label:"Preparing",icon:dE,description:"Kitchen is cooking"},{label:"Ready",icon:hE,description:"Ready for pickup"},{label:"Completed",icon:fn,description:"Enjoy your meal!"}];if(!i)return null;if(e)return g.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center p-4 text-center bg-gradient-to-br from-brand-offWhite via-white to-brand-cream",children:[g.jsx(Oe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"w-28 h-28 bg-gradient-to-br from-brand-maroon to-brand-burgundy rounded-full flex items-center justify-center mb-6 shadow-2xl",children:g.jsx(ez,{size:48,className:"text-white animate-spin"})}),g.jsx("h2",{className:"text-2xl font-bold text-brand-maroon mb-2 font-serif",children:"Loading your order"}),g.jsx("p",{className:"text-gray-500",children:"Fetching your latest order details..."})]});if(!f)return g.jsxs("div",{className:"min-h-[80vh] flex flex-col items-center justify-center p-4 text-center bg-gradient-to-br from-brand-offWhite via-white to-brand-cream",children:[g.jsx(Oe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"w-28 h-28 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mb-6 shadow-xl",children:g.jsx(Iu,{size:48,className:"text-gray-500"})}),g.jsx("h2",{className:"text-2xl font-bold text-brand-maroon mb-2 font-serif",children:"No Active Orders"}),g.jsx("p",{className:"text-gray-500 mb-8",children:"You haven't placed any orders yet."}),g.jsx(jn,{to:"/",className:"bg-gradient-to-r from-brand-maroon to-brand-burgundy text-white px-8 py-3 rounded-xl font-bold hover:shadow-lg transition-all transform hover:scale-105",children:"Browse Menu"})]});const q=j();return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-brand-offWhite via-white to-brand-cream/50 pb-24",children:[g.jsxs("div",{className:"bg-gradient-to-br from-brand-maroon via-brand-burgundy to-brand-maroon pt-8 pb-20 px-4 text-center relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 opacity-10",children:[g.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-brand-yellow rounded-full blur-3xl"})]}),g.jsxs(Oe.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"relative z-10",children:[g.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-white font-serif mb-2 drop-shadow-lg",children:"Track Your Order"}),g.jsx("p",{className:"text-white/80 text-sm sm:text-lg",children:f.status==="pending"?" Waiting for confirmation...":f.status==="ready"?" Your order is ready!":f.status==="completed"?" Order completed":f.status==="cancelled"?" Order cancelled":" Your meal is being prepared"})]})]}),g.jsxs("div",{className:"max-w-3xl mx-auto px-4 -mt-12 relative z-10",children:[g.jsxs(Oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-3xl shadow-xl p-6 sm:p-8 mb-6 border border-gray-100",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h3",{className:"text-lg font-bold text-brand-maroon font-serif",children:"Order Status"}),g.jsxs("span",{className:"text-xs font-mono text-gray-400 bg-gray-100 px-3 py-1 rounded-full",children:["#",f.id.slice(-6).toUpperCase()]})]}),g.jsx("div",{className:"relative",children:g.jsx("div",{className:"flex justify-between items-start",children:z.map((L,$)=>{const Q=L.icon,oe=$<=q,D=$===q;return g.jsxs("div",{className:"flex flex-col items-center flex-1 relative",children:[$<z.length-1&&g.jsx("div",{className:`absolute top-5 left-1/2 w-full h-1 transition-all duration-500 ${$<q?"bg-gradient-to-r from-green-500 to-green-400":"bg-gray-200"}`,style:{zIndex:0}}),g.jsx(Oe.div,{initial:!1,animate:{scale:D?1.1:1,backgroundColor:oe?$===q&&f.status!=="completed"?"#7A0C0C":"#22c55e":"#e5e7eb"},className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center relative z-10 transition-all duration-300 ${D?"ring-4 ring-opacity-30 shadow-lg":""} ${D&&f.status!=="completed"?"ring-brand-maroon/30":"ring-green-500/30"}`,children:g.jsx(Q,{size:18,className:`${oe?"text-white":"text-gray-400"}`})}),g.jsx("span",{className:`text-[10px] sm:text-xs font-bold mt-2 text-center transition-colors ${oe?"text-brand-maroon":"text-gray-400"}`,children:L.label}),g.jsx("span",{className:`text-[8px] sm:text-[10px] text-center hidden sm:block ${oe?"text-gray-600":"text-gray-300"}`,children:L.description})]},$)})})})]}),f.status==="confirmed"&&g.jsxs(Oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-xl p-8 sm:p-10 mb-6 border border-gray-100 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-bl from-brand-yellow/10 to-transparent rounded-full blur-2xl"}),g.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[g.jsxs("div",{className:"relative w-56 h-56 sm:w-72 sm:h-72 flex items-center justify-center mb-6",children:[g.jsx(Oe.div,{animate:{scale:[1,1.1,1],opacity:[.3,.1,.3]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 border-4 border-brand-maroon/20 rounded-full"}),g.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[g.jsx("circle",{cx:"50%",cy:"50%",r:"45%",stroke:"#FFF3E8",strokeWidth:"12",fill:"none"}),g.jsx("circle",{cx:"50%",cy:"50%",r:"45%",stroke:"url(#gradient)",strokeWidth:"12",fill:"none",strokeLinecap:"round",style:{strokeDasharray:100,strokeDashoffset:100*(1-V),transition:"stroke-dashoffset 1s linear"},pathLength:"100"}),g.jsx("defs",{children:g.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[g.jsx("stop",{offset:"0%",stopColor:"#7A0C0C"}),g.jsx("stop",{offset:"100%",stopColor:"#B91C1C"})]})})]}),g.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[g.jsx(Oe.div,{animate:{scale:[1,1.02,1]},transition:{duration:1,repeat:1/0},children:g.jsx(Av,{size:28,className:"text-brand-yellow mb-2"})}),g.jsx("span",{className:"text-5xl sm:text-7xl font-bold text-brand-maroon font-serif tabular-nums tracking-tight",children:_(v)}),g.jsx("span",{className:"text-sm sm:text-base text-brand-maroon/60 font-medium mt-1 uppercase tracking-widest",children:"minutes left"})]})]}),g.jsxs(Oe.div,{animate:{y:[0,-3,0]},transition:{duration:1.5,repeat:1/0},className:"px-8 py-3 bg-gradient-to-r from-brand-cream to-brand-yellow/30 rounded-full flex items-center gap-3 font-bold text-brand-maroon shadow-lg",children:[g.jsx(dE,{size:22,className:"text-brand-maroon"}),g.jsx("span",{children:"Chef is cooking your order"})]})]})]}),f.status==="ready"&&g.jsxs(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-3xl shadow-xl p-8 sm:p-10 mb-6 border-2 border-green-200 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(6)].map((L,$)=>g.jsx(Oe.div,{initial:{y:-20,opacity:0},animate:{y:100,opacity:[0,1,0]},transition:{duration:2,delay:$*.3,repeat:1/0},className:"absolute text-2xl",style:{left:`${15+$*15}%`},children:["","","","","",""][$]},$))}),g.jsxs("div",{className:"relative flex flex-col items-center justify-center text-center",children:[g.jsx(Oe.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:.5,repeat:1/0,repeatDelay:2},className:"w-24 h-24 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mb-6 shadow-2xl",children:g.jsx(hE,{size:48,className:"text-white"})}),g.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-green-700 font-serif mb-2",children:"Order Ready!"}),g.jsx("p",{className:"text-green-600 text-lg mb-4",children:"Please Wait for your order to be served"}),g.jsxs("div",{className:"flex items-center gap-2 bg-white px-6 py-3 rounded-xl shadow-md",children:[g.jsx(JC,{size:20,className:"text-green-600"}),g.jsxs("span",{className:"font-bold text-green-700",children:["Table ",f.tableNumber]})]})]})]}),f.status==="pending"&&g.jsxs(Oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-3xl shadow-xl p-10 mb-6 flex flex-col items-center justify-center text-center border border-gray-100",children:[g.jsx(Oe.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"w-20 h-20 bg-gradient-to-br from-brand-yellow to-amber-400 rounded-full flex items-center justify-center mb-4 shadow-lg",children:g.jsx(so,{size:40,className:"text-white"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800 font-serif mb-2",children:"Sending to Kitchen..."}),g.jsx("p",{className:"text-gray-500 max-w-xs",children:"Please wait while the restaurant confirms your order."}),g.jsx("div",{className:"flex gap-1 mt-4",children:[0,1,2].map(L=>g.jsx(Oe.div,{animate:{y:[0,-8,0]},transition:{duration:.6,delay:L*.15,repeat:1/0},className:"w-2 h-2 bg-brand-maroon rounded-full"},L))})]}),f.status==="cancelled"&&g.jsxs(Oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-3xl shadow-xl p-10 mb-6 flex flex-col items-center justify-center text-center border-2 border-red-200",children:[g.jsx(Oe.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:g.jsx(Wa,{size:40,className:"text-white"})}),g.jsx("h3",{className:"text-2xl font-bold text-red-700 font-serif mb-2",children:"Order Cancelled"}),g.jsxs("p",{className:"text-red-600 max-w-md mb-4",children:["This order was cancelled ",f.cancelledBy==="admin"?"by the restaurant":"by you"," on"," ",f.cancelledAt&&new Date(f.cancelledAt).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})]}),g.jsx(jn,{to:"/",className:"mt-4 bg-brand-maroon text-white font-bold py-3 px-8 rounded-xl hover:bg-brand-burgundy transition-all shadow-lg",children:"Back to Menu"})]}),g.jsxs(Oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-3xl shadow-xl p-6 sm:p-8 mb-8 border border-gray-100",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 pb-4 border-b border-gray-100",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-brand-maroon font-serif mb-1",children:"Order Summary"}),g.jsxs("p",{className:"text-gray-500 text-sm",children:[f.customerName&&g.jsx("span",{className:"font-medium text-brand-maroon",children:f.customerName}),f.customerName&&"  ","Table ",f.tableNumber]})]}),g.jsxs("div",{className:"flex items-center gap-2 text-brand-maroon font-bold bg-gradient-to-r from-brand-cream to-brand-yellow/20 px-4 py-2 rounded-xl text-sm shadow-sm",children:[g.jsx(Az,{size:16}),g.jsxs("span",{children:[f.items.length," Items"]})]})]}),g.jsx("div",{className:"space-y-4 mb-6",children:f.items.map((L,$)=>g.jsxs(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+$*.1},className:"flex justify-between items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"w-10 h-10 bg-brand-cream rounded-lg flex items-center justify-center font-bold text-brand-maroon",children:[L.quantity,"x"]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-800 font-medium block",children:L.name}),g.jsx("span",{className:"text-xs text-gray-400",children:L.category})]})]}),g.jsx("span",{className:"font-bold text-brand-maroon",children:mn(L.price*L.quantity)})]},$))}),g.jsx("div",{className:"border-t-2 border-dashed border-gray-200 pt-4 mb-6",children:g.jsxs("div",{className:"flex justify-between text-xl sm:text-2xl font-bold text-brand-maroon font-serif",children:[g.jsx("span",{children:"Total"}),g.jsx("span",{className:"text-2xl sm:text-3xl",children:mn(f.totalAmount)})]})}),f.status!=="completed"&&f.status!=="cancelled"&&g.jsx(Oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-6",children:g.jsxs("button",{onClick:S,className:"w-full bg-red-50 hover:bg-red-100 text-red-700 border-2 border-red-300 hover:border-red-400 font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:[g.jsx(Wa,{size:20}),"Cancel Order"]})}),g.jsxs(Oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-2xl p-4 flex items-start gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-400 to-yellow-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:g.jsx("span",{className:"text-2xl",children:""})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-amber-800 mb-1 text-lg sm:text-base",children:"Payment at Counter"}),g.jsxs("p",{className:"text-amber-700 text-base sm:text-sm leading-relaxed",children:["Pay at the counter after you finish your meal. We accept ",g.jsx("span",{className:"font-semibold",children:"Cash"}),", ",g.jsx("span",{className:"font-semibold",children:"UPI"}),", and ",g.jsx("span",{className:"font-semibold",children:"Cards"}),"."]})]})]})]})]})]})},I8=()=>{const[t,e]=M.useState(!1),[n,i]=M.useState(""),[a,l]=M.useState(!1),{signInWithGoogle:c}=uo(),d=Dl(),f=async()=>{try{l(!0),await c(!0),d("/admin/dashboard")}catch(p){console.error("Admin login error:",p),p.message==="NOT_ADMIN"?i("This Google account is not authorized for admin access."):i("Failed to sign in with Google. Please try again."),e(!0),setTimeout(()=>e(!1),3e3)}finally{l(!1)}};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-brand-offWhite p-4",children:[g.jsx(Yi,{children:t&&g.jsx(Oe.div,{initial:{opacity:0,y:-100,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:-100,x:"-50%"},className:"fixed top-24 left-1/2 z-[60] max-w-md w-full mx-4",children:g.jsxs(Oe.div,{animate:{scale:[1,1.02,1],rotate:[0,-1,1,-1,0]},transition:{duration:.5,repeat:2},className:"bg-white rounded-2xl shadow-2xl border-2 border-red-500 p-4 flex items-center gap-4",children:[g.jsx("div",{className:"bg-red-100 rounded-full p-2 flex-shrink-0",children:g.jsx(If,{className:"text-red-600",size:24})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("p",{className:"font-bold text-red-600 text-sm",children:"Access Denied"}),g.jsx("p",{className:"text-gray-600 text-xs mt-0.5",children:n||"Please check your credentials and try again."})]}),g.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0",children:g.jsx(ia,{size:20})})]})})}),g.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border-t-4 border-brand-maroon",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-16 h-16 bg-brand-maroon/10 rounded-full flex items-center justify-center mx-auto mb-4 text-brand-maroon",children:g.jsx(nz,{size:32})}),g.jsx("h2",{className:"text-2xl font-bold text-brand-maroon",children:"Staff Login"}),g.jsx("p",{className:"text-gray-500",children:"Secure access for restaurant staff only"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("button",{type:"button",onClick:f,disabled:a,className:"w-full bg-brand-maroon text-white font-bold py-3 rounded-lg hover:bg-brand-burgundy transition-colors shadow-lg shadow-brand-maroon/20 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?g.jsx("span",{children:"Signing in..."}):g.jsx(g.Fragment,{children:g.jsx("span",{children:"Continue with Google"})})}),g.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Only authorized staff Google accounts can access the admin dashboard."})]})]})]})},D8="modulepreload",O8=function(t){return"/"+t},xE={},M8=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(n.map(p=>{if(p=O8(p),p in xE)return;xE[p]=!0;const v=p.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":D8,v||(_.as="script"),_.crossOrigin="",_.href=p,f&&_.setAttribute("nonce",f),document.head.appendChild(_),v)return new Promise((S,k)=>{_.addEventListener("load",S),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},k8=["All","Main Course","Rice & Biryani","Starters","Breads","Desserts"],Qc=t=>`Rs.${t.toFixed(2)}`,Xc=t=>`${t.toFixed(0)}`,j8=({order:t,isOpen:e,onClose:n})=>{const[i,a]=M.useState("Cash"),[l,c]=M.useState(""),[d,f]=M.useState(!1),p=M.useRef(null),v=`ORD-${t.id.slice(-6).toUpperCase()}`,b=new Date(t.createdAt).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),_=()=>{const k="-".repeat(38),V="=".repeat(38),j={item:14,qty:3,rate:9,amount:10},z=(E,C=38)=>{const I=Math.max(0,Math.floor((C-E.length)/2));return" ".repeat(I)+E},q=(E,C,I=38)=>{const N=Math.max(1,I-E.length-C.length);return E+" ".repeat(N)+C},L=(E,C)=>{const I=E.split(" "),N=[];let P="";for(const O of I){const Ee=(P+" "+O).trim();Ee.length<=C?P=Ee:(P&&N.push(P),P=O)}return P&&N.push(P),N.length?N:[E.slice(0,C)]},$=(E,C,I,N)=>{const P=E.padEnd(j.item),O=C.padStart(j.qty),Ee=I.padStart(j.rate),Me=N.padStart(j.amount);return`${P}${O} ${Ee} ${Me}`},Q=[];Q.push(z("YUMMY-FI PVT.LTD.")),Q.push(z("FOOD LIKE HOME STYLE")),Q.push(k),Q.push(z("DINE-IN BILL")),Q.push(k),Q.push(q("BILL NO:",v)),Q.push(q("TABLE:",`T${t.tableNumber}`)),Q.push(q("DATE:",b)),Q.push(q("CUSTOMER:",t.customerName||"-")),Q.push(q("PHONE:",l||"-")),Q.push(k),Q.push($("ITEM","QTY","RATE","AMOUNT")),Q.push(k),t.items.forEach(E=>{const C=E.price,I=C*E.quantity,N=E.name+(E.isVeg===!1?" [N]":""),P=String(E.quantity),O=Qc(C),Ee=Qc(I),Me=L(N,j.item);Q.push($(Me[0],P,O,Ee));for(let W=1;W<Me.length;W++)Q.push(Me[W])}),Q.push(k),Q.push(q("SUBTOTAL:",Qc(t.totalAmount))),Q.push(V),Q.push(q("GRAND TOTAL:",Qc(t.totalAmount))),Q.push(V),Q.push(z("PAYMENT DETAILS")),Q.push(k),Q.push(q("METHOD:",i)),Q.push(q("PAID:",Qc(t.totalAmount))),Q.push(k),Q.push(z("* THANK YOU FOR DINING WITH US! *")),Q.push(z("PLEASE VISIT AGAIN"));for(let E=0;E<16;E++)Q.push(" ");const oe=Q.join(`
`),D=window.open("","_blank");D&&(D.document.write(`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Bill - ${v}</title>
  <style>
    @page { margin: 0; }

    html, body {
      margin: 0;
      padding: 0;
      background: #fff;
    }

    body {
      margin: 0;
      padding: 0;
    }

    /*  BEST FIX FOR YOUR PRINTER:
       Instead of "left: mm", we push content using padding-left.
       This fixes hardware-left-margin printers. */
    .receipt {
      width: 72mm;
      margin: 0;

      /*  MAIN CENTER FIX */
      padding-left: 6mm;
      padding-right: 0mm;
    }

    pre {
      margin: 0;
      font-family: monospace;
      font-size: 12px;
      font-weight: 700; /* little bolder like sample */
      line-height: 1.25;
      white-space: pre;
    }
  </style>
</head>
<body>
  <div class="receipt">
    <pre>${oe}</pre>
  </div>

  <script>
    window.onload = function () {
      window.focus();
      window.print();
      setTimeout(function () {
        window.close();
      }, 1300);
    };
  <\/script>
</body>
</html>
    `),D.document.close())};return g.jsx(Yi,{children:e&&g.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/70 flex items-center justify-center p-4 backdrop-blur-sm",onClick:n,children:g.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-hidden shadow-2xl",onClick:S=>S.stopPropagation(),children:[g.jsxs("div",{className:"bg-brand-maroon text-white p-4 flex justify-between items-center",children:[g.jsx("h2",{className:"text-lg font-bold font-serif",children:"Print Bill Receipt"}),g.jsx("button",{onClick:n,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:g.jsx(ia,{size:20})})]}),g.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[g.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3",children:"Select Payment Method:"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:()=>a("UPI"),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all ${i==="UPI"?"border-brand-maroon bg-brand-cream text-brand-maroon":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[g.jsx(bz,{size:24}),g.jsx("span",{className:"font-bold text-sm",children:"UPI"})]}),g.jsxs("button",{onClick:()=>a("Cash"),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all ${i==="Cash"?"border-brand-maroon bg-brand-cream text-brand-maroon":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[g.jsx(p9,{size:24}),g.jsx("span",{className:"font-bold text-sm",children:"Cash"})]}),g.jsxs("button",{onClick:()=>a("Card"),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all ${i==="Card"?"border-brand-maroon bg-brand-cream text-brand-maroon":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[g.jsx(M9,{size:24}),g.jsx("span",{className:"font-bold text-sm",children:"Card"})]})]})]}),g.jsx("div",{className:"p-4 overflow-y-auto max-h-[50vh] bg-gray-100",children:g.jsxs("div",{ref:p,className:"receipt bg-white p-6 rounded-lg shadow-sm font-mono text-sm",children:[g.jsxs("div",{className:"header text-center mb-4",children:[g.jsx("div",{className:"text-2xl font-bold tracking-wider mb-1",children:"YUMMYFI PVT. LTD."}),g.jsx("div",{className:"tagline text-xs text-gray-500",children:"FOOD LIKE HOME STYLE"}),g.jsx("div",{className:"bill-type text-sm font-bold mt-3 border-t border-b border-dashed border-gray-400 py-2",children:"DINE-IN BILL"})]}),g.jsxs("div",{className:"space-y-1 mb-4",children:[g.jsxs("div",{className:"info-row flex justify-between py-1 border-b border-dotted border-gray-300",children:[g.jsx("span",{className:"info-label font-bold",children:"BILL NO:"}),g.jsx("span",{children:v})]}),g.jsxs("div",{className:"info-row flex justify-between py-1 border-b border-dotted border-gray-300",children:[g.jsx("span",{className:"info-label font-bold",children:"TABLE:"}),g.jsxs("span",{children:["T",t.tableNumber]})]}),g.jsxs("div",{className:"info-row flex justify-between py-1 border-b border-dotted border-gray-300",children:[g.jsx("span",{className:"info-label font-bold",children:"DATE:"}),g.jsx("span",{children:b})]}),g.jsxs("div",{className:"info-row flex justify-between py-1 border-b border-dotted border-gray-300",children:[g.jsx("span",{className:"info-label font-bold",children:"CUSTOMER:"}),g.jsx("span",{children:t.customerName||"-"})]}),g.jsxs("div",{className:"info-row flex justify-between items-center py-1 border-b border-dotted border-gray-300",children:[g.jsx("span",{className:"info-label font-bold",children:"PHONE:"}),d?g.jsx("input",{type:"tel",value:l,onChange:S=>c(S.target.value),onBlur:()=>f(!1),onKeyDown:S=>S.key==="Enter"&&f(!1),placeholder:"Enter phone...",autoFocus:!0,className:"w-32 text-right text-sm border border-brand-maroon/30 rounded px-2 py-0.5 focus:outline-none focus:ring-1 focus:ring-brand-maroon"}):g.jsx("span",{onClick:()=>f(!0),className:"cursor-pointer hover:text-brand-maroon hover:underline transition-colors",title:"Click to add phone number",children:l||"- (click to add)"})]})]}),g.jsxs("div",{className:"items-header flex font-bold text-xs py-2 border-b-2 border-gray-800",children:[g.jsx("span",{style:{width:"40%"},children:"ITEM"}),g.jsx("span",{style:{width:"15%",textAlign:"center"},children:"QTY"}),g.jsx("span",{style:{width:"20%",textAlign:"right"},children:"RATE"}),g.jsx("span",{style:{width:"25%",textAlign:"right"},children:"AMOUNT"})]}),g.jsx("div",{className:"mb-3",children:t.items.map((S,k)=>{const V=S.price,j=V*S.quantity;return g.jsxs("div",{className:"item-row flex text-xs py-2 border-b border-dotted border-gray-300",children:[g.jsxs("span",{style:{width:"40%"},children:[S.name," ",S.isVeg===!1?"[N]":""]}),g.jsx("span",{style:{width:"15%",textAlign:"center"},children:S.quantity}),g.jsx("span",{style:{width:"20%",textAlign:"right"},children:Xc(V)}),g.jsx("span",{style:{width:"25%",textAlign:"right"},children:Xc(j)})]},k)})}),g.jsxs("div",{className:"subtotal-row flex justify-between py-2 text-sm",children:[g.jsx("span",{className:"font-bold",children:"SUBTOTAL:"}),g.jsx("span",{children:Xc(t.totalAmount)})]}),g.jsxs("div",{className:"grand-total flex justify-between py-3 text-lg font-bold border-t-2 border-b-2 border-gray-800",children:[g.jsx("span",{children:"GRAND TOTAL:"}),g.jsx("span",{children:Xc(t.totalAmount)})]}),g.jsxs("div",{className:"payment-section mt-4 pt-3 text-center",children:[g.jsx("div",{className:"payment-title font-bold text-xs border-b border-gray-800 pb-2 mb-3",children:"PAYMENT DETAILS"}),g.jsxs("div",{className:"payment-row flex justify-between py-1 text-sm",children:[g.jsx("span",{className:"font-bold",children:"METHOD:"}),g.jsx("span",{children:i})]}),g.jsxs("div",{className:"payment-row flex justify-between py-1 text-sm",children:[g.jsx("span",{className:"font-bold",children:"PAID:"}),g.jsx("span",{children:Xc(t.totalAmount)})]})]}),g.jsxs("div",{className:"footer mt-6 text-center",children:[g.jsx("div",{className:"thank-you font-bold text-sm",children:" THANK YOU FOR DINING WITH US! "}),g.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"PLEASE VISIT AGAIN"})]})]})}),g.jsx("div",{className:"p-4 bg-white border-t",children:g.jsxs("button",{onClick:_,className:"w-full bg-brand-maroon text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-brand-burgundy transition-colors shadow-lg",children:[g.jsx(eR,{size:20}),"Print Receipt"]})})]})})})},_E=4,Yu=()=>{const t=new Date,e=t.getHours(),n=new Date(t);e<_E&&n.setDate(n.getDate()-1),n.setHours(_E,0,0,0);const i=new Date(n);return i.setDate(i.getDate()+1),{start:n,end:i}},sm=t=>{const{start:e,end:n}=Yu();return t.filter(i=>{const a=new Date(i.createdAt);return a>=e&&a<n})},vR=t=>{const n=[["Order ID","Customer Name","Table Number","Items","Item Details","Total Amount ()","Status","Order Time","Confirmed Time","Ready Time"]];return t.forEach(i=>{const a=i.items.map(d=>`${d.name} (x${d.quantity})`).join(", "),l=i.items.map(d=>`${d.name}: ${d.offerPrice||d.price} x ${d.quantity} = ${(d.offerPrice||d.price)*d.quantity}`).join(" | "),c=d=>d?new Date(d).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"-";n.push([i.id,i.customerName||"Guest",i.tableNumber,a,l,i.totalAmount.toFixed(2),i.status.charAt(0).toUpperCase()+i.status.slice(1),c(i.createdAt),c(i.confirmedAt),c(i.readyAt)])}),n},V8=t=>vR(t).map(n=>n.map(i=>{const a=i.replace(/"/g,'""');return/[,\n"]/.test(i)?`"${a}"`:a}).join(",")).join(`
`),P8=t=>{const e=sm(t),n=V8(e),{start:i}=Yu(),a=i.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-"),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(l),c.download=`YummyFi_Orders_${a}.csv`,c.click(),URL.revokeObjectURL(c.href)},L8=t=>{const e=sm(t),n=e.length,i=e.filter(v=>v.status==="pending").length,a=e.filter(v=>v.status==="confirmed").length,l=e.filter(v=>v.status==="ready").length,c=e.filter(v=>v.status==="completed").length,d=e.filter(v=>v.status==="completed").reduce((v,b)=>v+b.totalAmount,0),{start:f,end:p}=Yu();return{totalOrders:n,pendingOrders:i,confirmedOrders:a,readyOrders:l,completedOrders:c,totalRevenue:d,cycleStart:f,cycleEnd:p,orders:e}},U8=async t=>{const e=localStorage.getItem("googleSheetWebAppUrl");if(!e)return{success:!1,message:"Google Sheets Web App URL not configured. Please set it up first."};try{const n=sm(t),i=vR(n),{start:a}=Yu(),l=`Orders_${a.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")}`;return await fetch(e,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"writeOrders",sheetName:l,data:i,clearPrevious:!0})}),{success:!0,message:"Data sent to Google Sheets successfully! Check your sheet for updates.",sheetUrl:localStorage.getItem("googleSheetUrl")||void 0}}catch(n){return console.error("Error exporting to Google Sheets:",n),{success:!1,message:`Failed to export: ${n instanceof Error?n.message:"Unknown error"}`}}},z8=(t,e)=>{localStorage.setItem("googleSheetWebAppUrl",t),localStorage.setItem("googleSheetUrl",e)},B8=()=>({webAppUrl:localStorage.getItem("googleSheetWebAppUrl")||"",sheetUrl:localStorage.getItem("googleSheetUrl")||""}),TE=()=>!!localStorage.getItem("googleSheetWebAppUrl"),wE=`// Google Apps Script Code - Deploy as Web App

function doPost(e) {
  try {
    const data = JSON.parse(e.postData.contents);
    const ss = SpreadsheetApp.getActiveSpreadsheet();
    
    if (data.action === 'writeOrders') {
      let sheet = ss.getSheetByName(data.sheetName);
      
      // Create sheet if doesn't exist
      if (!sheet) {
        sheet = ss.insertSheet(data.sheetName);
      }
      
      // Clear previous data if requested
      if (data.clearPrevious) {
        sheet.clear();
      }
      
      // Write data
      if (data.data && data.data.length > 0) {
        sheet.getRange(1, 1, data.data.length, data.data[0].length)
          .setValues(data.data);
        
        // Format header row
        sheet.getRange(1, 1, 1, data.data[0].length)
          .setBackground('#7f1d1d')
          .setFontColor('white')
          .setFontWeight('bold');
        
        // Auto-resize columns
        sheet.autoResizeColumns(1, data.data[0].length);
      }
      
      return ContentService.createTextOutput(JSON.stringify({
        success: true,
        message: 'Data written successfully'
      })).setMimeType(ContentService.MimeType.JSON);
    }
    
    if (data.action === 'clearSheet') {
      let sheet = ss.getSheetByName(data.sheetName);
      if (sheet) {
        sheet.clear();
      }
      return ContentService.createTextOutput(JSON.stringify({
        success: true,
        message: 'Sheet cleared'
      })).setMimeType(ContentService.MimeType.JSON);
    }
    
    return ContentService.createTextOutput(JSON.stringify({
      success: false,
      message: 'Unknown action'
    })).setMimeType(ContentService.MimeType.JSON);
    
  } catch (error) {
    return ContentService.createTextOutput(JSON.stringify({
      success: false,
      message: error.toString()
    })).setMimeType(ContentService.MimeType.JSON);
  }
}

function doGet(e) {
  return ContentService.createTextOutput(JSON.stringify({
    status: 'OK',
    message: 'YummyFi Google Sheets Integration Ready'
  })).setMimeType(ContentService.MimeType.JSON);
}`,F8=({isOpen:t,onClose:e,orders:n})=>{const[i,a]=M.useState("overview"),[l,c]=M.useState(!1),[d,f]=M.useState({type:null,message:""}),[p,v]=M.useState(""),[b,_]=M.useState(""),[S,k]=M.useState(!1),[V,j]=M.useState(new Set);M.useEffect(()=>{if(t){const N=B8();v(N.webAppUrl),_(N.sheetUrl)}},[t]);const z=L8(n),q=sm(n),{start:L,end:$}=Yu(),Q=N=>N.toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),oe=()=>{P8(n),f({type:"success",message:"CSV file downloaded successfully!"}),setTimeout(()=>f({type:null,message:""}),3e3)},D=async()=>{if(!TE()){a("settings");return}c(!0),f({type:null,message:""});try{const N=await U8(n);f({type:N.success?"success":"error",message:N.message})}catch{f({type:"error",message:"Failed to export. Please check your configuration."})}c(!1),setTimeout(()=>f({type:null,message:""}),5e3)},E=()=>{z8(p,b),a("overview"),f({type:"success",message:"Configuration saved successfully!"}),setTimeout(()=>f({type:null,message:""}),3e3)},C=()=>{navigator.clipboard.writeText(wE),k(!0),setTimeout(()=>k(!1),2e3)},I=N=>{j(P=>{const O=new Set(P);return O.has(N)?O.delete(N):O.add(N),O})};return t?g.jsx(Yi,{children:g.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",onClick:e,children:g.jsxs(Oe.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:N=>N.stopPropagation(),children:[g.jsxs("div",{className:"bg-gradient-to-r from-brand-maroon to-brand-burgundy p-6 text-white",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold font-serif mb-1",children:"Export Data"}),g.jsxs("p",{className:"text-white/80 text-sm",children:["Daily cycle: ",Q(L)," - ",Q($)]})]}),g.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:g.jsx(ia,{size:24})})]}),g.jsx("div",{className:"flex gap-2 mt-6",children:[{id:"overview",label:"Overview",icon:nR},{id:"orders",label:"Orders",icon:Iu},{id:"settings",label:"Settings",icon:pz}].map(N=>g.jsxs("button",{onClick:()=>a(N.id),className:Je("flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold transition-all",i===N.id?"bg-white text-brand-maroon":"bg-white/20 text-white hover:bg-white/30"),children:[g.jsx(N.icon,{size:16}),N.label]},N.id))})]}),g.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[g.jsx(Yi,{children:d.type&&g.jsxs(Oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:Je("mb-4 p-4 rounded-xl flex items-center gap-3",d.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:[d.type==="success"?g.jsx(Lg,{size:20}):g.jsx(If,{size:20}),g.jsx("span",{className:"font-medium",children:d.message})]})}),i==="overview"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"bg-gradient-to-br from-brand-cream to-brand-offWhite p-5 rounded-2xl border border-brand-maroon/10",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx("div",{className:"p-2 bg-brand-maroon text-white rounded-lg",children:g.jsx(Iu,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Orders"})]}),g.jsx("p",{className:"text-3xl font-bold text-brand-maroon font-serif",children:z.totalOrders})]}),g.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-5 rounded-2xl border border-green-200",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx("div",{className:"p-2 bg-green-600 text-white rounded-lg",children:g.jsx(Lg,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"})]}),g.jsx("p",{className:"text-3xl font-bold text-green-700 font-serif",children:z.completedOrders})]}),g.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 p-5 rounded-2xl border border-amber-200",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx("div",{className:"p-2 bg-amber-500 text-white rounded-lg",children:g.jsx(so,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Active"})]}),g.jsx("p",{className:"text-3xl font-bold text-amber-700 font-serif",children:z.pendingOrders+z.confirmedOrders+z.readyOrders})]}),g.jsxs("div",{className:"bg-gradient-to-br from-brand-cream to-brand-goldGlow p-5 rounded-2xl border border-brand-yellow",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx("div",{className:"p-2 bg-brand-yellow text-brand-maroon rounded-lg",children:g.jsx(XC,{size:18})}),g.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Revenue"})]}),g.jsx("p",{className:"text-2xl font-bold text-brand-maroon font-serif",children:mn(z.totalRevenue)})]})]}),g.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-5 rounded-2xl border border-blue-200",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[g.jsx(v9,{size:20,className:"text-blue-600"}),g.jsx("h3",{className:"font-bold text-blue-900",children:"Daily Cycle Information"})]}),g.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:["Data on Google Sheets is automatically organized by daily cycles. Each cycle runs from ",g.jsx("strong",{children:"4:00 AM"})," to ",g.jsx("strong",{children:"4:00 AM"})," the next day."]}),g.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-100 px-3 py-2 rounded-lg inline-flex",children:[g.jsx(Nz,{size:14}),"After 4:01 AM, previous cycle data is archived and new cycle begins"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:oe,className:"flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 text-white font-bold hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg shadow-green-500/25 group",children:[g.jsx(WC,{size:24,className:"group-hover:animate-bounce"}),g.jsxs("div",{className:"text-left",children:[g.jsx("span",{className:"block text-lg",children:"Download CSV"}),g.jsx("span",{className:"text-sm text-white/80",children:"Save to your computer"})]})]}),g.jsxs("button",{onClick:D,disabled:l,className:Je("flex items-center justify-center gap-3 p-5 rounded-2xl text-white font-bold transition-all shadow-lg group",l?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-br from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-blue-500/25"),children:[l?g.jsx(fz,{size:24,className:"animate-spin"}):g.jsx(q9,{size:24,className:"group-hover:scale-110 transition-transform"}),g.jsxs("div",{className:"text-left",children:[g.jsx("span",{className:"block text-lg",children:l?"Exporting...":"Export to Google Sheets"}),g.jsx("span",{className:"text-sm text-white/80",children:TE()?"Sync with your sheet":"Setup required"})]})]})]}),b&&g.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 p-4 rounded-xl bg-brand-cream text-brand-maroon font-bold hover:bg-brand-goldGlow transition-colors",children:[g.jsx(U9,{size:18}),"Open Google Sheets"]})]}),i==="orders"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"font-bold text-gray-800",children:["Orders in Current Cycle (",q.length,")"]}),g.jsxs("span",{className:"text-sm text-gray-500",children:[Q(L)," - ",Q($)]})]}),q.length===0?g.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl",children:[g.jsx(j9,{size:48,className:"mx-auto text-gray-300 mb-4"}),g.jsx("h3",{className:"text-lg font-bold text-gray-500",children:"No orders in current cycle"}),g.jsx("p",{className:"text-gray-400 text-sm",children:"Orders will appear here when customers place them"})]}):g.jsx("div",{className:"space-y-3",children:q.map(N=>g.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden",children:[g.jsxs("button",{onClick:()=>I(N.id),className:"w-full p-4 flex items-center justify-between hover:bg-gray-100 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"text-left",children:[g.jsxs("span",{className:"font-bold text-gray-900",children:["#",N.id]}),g.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["Table ",N.tableNumber]})]}),g.jsx("span",{className:Je("px-2 py-1 rounded-full text-xs font-bold",N.status==="completed"&&"bg-green-100 text-green-700",N.status==="ready"&&"bg-blue-100 text-blue-700",N.status==="confirmed"&&"bg-amber-100 text-amber-700",N.status==="pending"&&"bg-gray-200 text-gray-600"),children:N.status})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("span",{className:"font-bold text-brand-maroon",children:mn(N.totalAmount)}),V.has(N.id)?g.jsx(QC,{size:18}):g.jsx(Sv,{size:18})]})]}),g.jsx(Yi,{children:V.has(N.id)&&g.jsx(Oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200 bg-white",children:g.jsxs("div",{className:"p-4 space-y-3",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-500",children:"Customer:"}),g.jsx("span",{className:"font-medium",children:N.customerName||"Guest"})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-500",children:"Order Time:"}),g.jsx("span",{className:"font-medium",children:new Date(N.createdAt).toLocaleString("en-IN")})]}),g.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[g.jsx("span",{className:"text-sm font-bold text-gray-700 mb-2 block",children:"Items:"}),N.items.map((P,O)=>g.jsxs("div",{className:"flex justify-between text-sm py-1",children:[g.jsxs("span",{children:[P.name,"  ",P.quantity]}),g.jsx("span",{className:"font-medium",children:mn((P.offerPrice||P.price)*P.quantity)})]},O))]})]})})})]},N.id))})]}),i==="settings"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[g.jsxs("h3",{className:"font-bold text-amber-800 mb-2 flex items-center gap-2",children:[g.jsx(If,{size:18}),"Google Sheets Setup Instructions"]}),g.jsxs("ol",{className:"text-sm text-amber-700 space-y-2 list-decimal list-inside",children:[g.jsx("li",{children:"Create a new Google Spreadsheet"}),g.jsx("li",{children:"Go to Extensions  Apps Script"}),g.jsx("li",{children:"Delete any existing code and paste the script below"}),g.jsx("li",{children:"Click Deploy  New Deployment  Web App"}),g.jsx("li",{children:'Set "Execute as" to "Me" and "Who has access" to "Anyone"'}),g.jsx("li",{children:"Copy the Web App URL and paste it below"})]})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Google Apps Script Code"}),g.jsxs("button",{onClick:C,className:"flex items-center gap-1 text-sm text-brand-maroon hover:text-brand-burgundy transition-colors",children:[S?g.jsx(Lg,{size:14}):g.jsx(D9,{size:14}),S?"Copied!":"Copy Code"]})]}),g.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-xl text-xs overflow-x-auto max-h-48 overflow-y-auto",children:wE})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Web App URL"}),g.jsx("input",{type:"url",value:p,onChange:N=>v(N.target.value),placeholder:"https://script.google.com/macros/s/xxxxx/exec",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Google Sheet URL (Optional - for quick access)"}),g.jsx("input",{type:"url",value:b,onChange:N=>_(N.target.value),placeholder:"https://docs.google.com/spreadsheets/d/xxxxx",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all"})]}),g.jsx("button",{onClick:E,disabled:!p,className:Je("w-full py-4 rounded-xl font-bold text-white transition-all",p?"bg-gradient-to-r from-brand-maroon to-brand-burgundy hover:from-brand-burgundy hover:to-brand-maroon shadow-lg shadow-brand-maroon/25":"bg-gray-300 cursor-not-allowed"),children:"Save Configuration"})]})]})]})]})})}):null},bR=({confirmedAt:t})=>{const[e,n]=M.useState(0);M.useEffect(()=>{const c=()=>{const f=new Date(t).getTime(),p=new Date().getTime(),v=Math.floor((p-f)/1e3),b=Math.max(0,1200-v);n(b)};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[t]);const i=Math.floor(e/60),a=e%60,l=`${i.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;return e<=0?g.jsx("span",{className:"text-green-600 font-bold",children:"Ready"}):g.jsxs("div",{className:"flex items-center gap-1 text-brand-maroon font-mono font-bold bg-brand-cream px-2 py-0.5 rounded text-xs",children:[g.jsx(Av,{size:10,className:"text-brand-yellow",fill:"currentColor"}),l]})},Fg=({icon:t,label:e,active:n,onClick:i,count:a,collapsed:l})=>g.jsxs("button",{onClick:i,className:Je("w-full flex items-center transition-all relative group mb-1",l?"justify-center py-3 px-2":"gap-3 py-4 px-6 rounded-r-full mr-4",n?"bg-brand-maroon text-white shadow-md":"text-gray-600 hover:bg-brand-cream hover:text-brand-maroon"),title:e,children:[g.jsx(t,{size:20,className:n?"text-white":"text-gray-500 group-hover:text-brand-maroon"}),!l&&g.jsxs(g.Fragment,{children:[g.jsx("span",{className:Je("font-medium",n?"font-bold":""),children:e}),a!==void 0&&a>0&&g.jsx("span",{className:Je("ml-auto text-xs font-bold px-2 py-0.5 rounded-full",n?"bg-white text-brand-maroon":"bg-brand-maroon text-white"),children:a})]}),!l&&n&&g.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-brand-yellow rounded-r-full"}),l&&a!==void 0&&a>0&&g.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-brand-maroon text-white text-[9px] font-bold flex items-center justify-center rounded-full border-2 border-white",children:a})]}),Pd=({icon:t,label:e,value:n,trend:i,trendValue:a})=>g.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex flex-col justify-between h-full hover:shadow-md transition-all duration-300",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:"text-brand-maroon",children:g.jsx(t,{size:28,strokeWidth:1.5})}),i&&g.jsxs("span",{className:"text-xs font-bold text-green-600 flex items-center gap-1",children:[g.jsx(nR,{size:12})," ",a]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-brand-maroon/60 font-medium text-sm mb-2",children:e}),g.jsx("h3",{className:"text-3xl font-bold text-gray-900 font-serif",children:n})]})]}),tl=({label:t,count:e,active:n,onClick:i,icon:a})=>g.jsxs("button",{onClick:i,className:Je("flex flex-col items-center justify-center p-6 rounded-2xl border-2 transition-all w-full",n?"border-brand-maroon bg-brand-cream/30 shadow-sm":"border-gray-100 bg-white hover:border-brand-maroon/30"),children:[g.jsx("div",{className:Je("mb-3 p-2 rounded-full",n?"bg-brand-maroon text-white":"bg-gray-100 text-gray-500"),children:g.jsx(a,{size:20})}),g.jsx("span",{className:Je("text-sm font-medium mb-1",n?"text-brand-maroon":"text-gray-500"),children:t}),g.jsx("span",{className:Je("text-2xl font-bold font-serif",n?"text-brand-maroon":"text-brand-yellow"),children:e})]}),q8=({order:t,onUpdateStatus:e})=>{const n={pending:{label:"Pending Confirmation",bg:"border-brand-yellow text-brand-yellow",badge:"bg-brand-yellow/10 text-brand-mustard"},confirmed:{label:"Confirmed",bg:"border-brand-maroon text-brand-maroon",badge:"bg-green-50 text-green-700"},ready:{label:"Ready for Pickup",bg:"border-green-600 text-green-600",badge:"bg-green-100 text-green-800"},completed:{label:"Completed",bg:"border-gray-400 text-gray-400",badge:"bg-gray-100 text-gray-600"}},i=n[t.status]||n.pending,a=Math.floor((new Date().getTime()-new Date(t.createdAt).getTime())/6e4),l=a<1?"Just now":`${a} mins ago`;return g.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 mb-6 hover:shadow-md transition-all",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("h3",{className:"text-lg font-bold text-gray-900 font-serif",children:["Order by ",t.customerName]}),g.jsx("span",{className:Je("px-3 py-1 rounded-full text-xs font-bold border",i.badge,"border-transparent"),children:i.label})]}),t.status==="confirmed"&&t.confirmedAt&&g.jsx(bR,{confirmedAt:t.confirmedAt})]}),g.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-6",children:[g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(sR,{size:14}),g.jsx("span",{children:t.customerName})]}),g.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),g.jsxs("div",{className:"flex items-center gap-1.5",children:[g.jsx(so,{size:14}),g.jsx("span",{children:l})]})]}),g.jsx("div",{className:"space-y-3 mb-6",children:t.items.map((c,d)=>g.jsxs("div",{className:"flex justify-between items-center text-sm",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"w-6 h-6 flex items-center justify-center bg-brand-cream text-brand-maroon font-bold rounded text-xs",children:c.quantity}),g.jsx("span",{className:"text-gray-700 font-medium",children:c.name})]}),g.jsx("span",{className:"font-bold text-gray-900",children:mn(c.price*c.quantity)})]},d))}),g.jsxs("div",{className:"border-t border-gray-100 pt-4 flex justify-between items-center mb-6",children:[g.jsx("span",{className:"font-bold text-gray-800",children:"Total Amount"}),g.jsx("span",{className:"text-xl font-bold text-brand-maroon font-serif",children:mn(t.totalAmount)})]}),g.jsxs("div",{className:"flex gap-3",children:[t.status==="pending"&&g.jsxs("button",{onClick:()=>e(t.id,"confirmed"),className:"flex-1 bg-brand-maroon text-white py-3 rounded-full font-bold hover:bg-brand-burgundy transition-colors flex items-center justify-center gap-2 text-sm",children:[g.jsx(fn,{size:16})," Confirm Order"]}),t.status==="confirmed"&&g.jsxs("button",{onClick:()=>e(t.id,"ready"),className:"flex-1 bg-green-600 text-white py-3 rounded-full font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[g.jsx(fn,{size:16})," Mark Ready"]}),t.status==="ready"&&g.jsxs("button",{onClick:()=>e(t.id,"completed"),className:"flex-1 bg-gray-800 text-white py-3 rounded-full font-bold hover:bg-gray-900 transition-colors flex items-center justify-center gap-2 text-sm",children:[g.jsx(fn,{size:16})," Complete"]}),g.jsxs("button",{className:"flex-1 bg-brand-cream text-brand-maroon py-3 rounded-full font-bold hover:bg-brand-goldGlow transition-colors flex items-center justify-center gap-2 text-sm",children:[g.jsx(B9,{size:16})," View Details"]})]})]})},H8=({order:t,onUpdateStatus:e,onCancelOrder:n})=>{const[i,a]=M.useState(!1),[l,c]=M.useState(!1),d={pending:{label:"Pending",bg:"bg-brand-yellow",text:"text-brand-maroon",icon:so},confirmed:{label:"In Kitchen",bg:"bg-brand-maroon",text:"text-white",icon:Av},ready:{label:"Ready",bg:"bg-green-600",text:"text-white",icon:fn},completed:{label:"Completed",bg:"bg-gray-500",text:"text-white",icon:fn},cancelled:{label:"Cancelled",bg:"bg-red-500",text:"text-white",icon:Wa}},f=d[t.status]||d.pending,p=f.icon;return g.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-all duration-300",children:[g.jsxs("div",{className:"p-5 pb-4",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-900 font-serif",children:["Order by ",t.customerName]}),g.jsxs("span",{className:Je("flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold",f.bg,f.text),children:[g.jsx(p,{size:12})," ",f.label]}),t.status!=="completed"&&t.status!=="cancelled"&&g.jsxs("button",{onClick:()=>n(t.id),className:"ml-auto bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 hover:border-red-300 px-3 py-1.5 rounded-lg font-bold text-xs transition-all flex items-center gap-1.5 shadow-sm hover:shadow",title:"Cancel Order (Admin)",children:[g.jsx(Wa,{size:14}),"Cancel"]})]}),g.jsxs("div",{className:"flex flex-col items-center gap-2 ml-4",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center bg-brand-yellow text-brand-maroon w-12 h-12 rounded-xl shadow-sm",children:[g.jsx("span",{className:"text-[10px] font-bold uppercase leading-none",children:"Table"}),g.jsx("span",{className:"text-xl font-bold leading-none",children:t.tableNumber})]}),t.status!=="completed"&&t.status!=="cancelled"&&g.jsxs("button",{onClick:()=>n(t.id),className:"bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 hover:border-red-300 px-2 py-1 rounded-lg font-bold text-[10px] transition-all flex items-center gap-1 shadow-sm hover:shadow whitespace-nowrap",title:"Cancel Order (Admin)",children:[g.jsx(Wa,{size:10}),"Cancel"]})]})]}),t.status==="confirmed"&&t.confirmedAt&&g.jsxs("div",{className:"mb-4 flex items-center gap-2 bg-brand-cream/50 p-2 rounded-lg border border-brand-maroon/10",children:[g.jsx("span",{className:"text-xs font-bold text-brand-maroon uppercase tracking-wider",children:"Time Remaining:"}),g.jsx(bR,{confirmedAt:t.confirmedAt})]}),g.jsxs("div",{className:"space-y-2 mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx(sR,{size:16,className:"text-brand-maroon"}),g.jsx("span",{className:"font-medium",children:t.customerName||"Guest Customer"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx(so,{size:16,className:"text-brand-maroon"}),g.jsx("span",{className:"font-medium",children:new Date(t.createdAt).toLocaleString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})]})]}),g.jsx("div",{className:"border-t border-gray-100 my-3"}),g.jsxs("button",{onClick:()=>a(!i),className:"w-full flex justify-between items-center py-2 group",children:[g.jsxs("span",{className:"font-bold text-gray-700",children:[t.items.reduce((v,b)=>v+b.quantity,0)," Items"]}),g.jsxs("span",{className:"text-xs font-bold text-brand-maroon flex items-center gap-1 group-hover:underline",children:[i?"Hide Details":"View Details",i?g.jsx(QC,{size:14}):g.jsx(Sv,{size:14})]})]}),g.jsx(Yi,{children:i&&g.jsx(Oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:g.jsx("div",{className:"space-y-3 py-3 bg-gray-50 rounded-xl px-3 mt-2",children:t.items.map((v,b)=>g.jsxs("div",{className:"flex justify-between items-center text-sm",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"w-5 h-5 flex items-center justify-center bg-white border border-gray-200 text-brand-maroon font-bold rounded text-xs shadow-sm",children:v.quantity}),g.jsx("span",{className:"text-gray-700 font-medium",children:v.name})]}),g.jsx("span",{className:"font-bold text-gray-900",children:mn(v.price*v.quantity)})]},b))})})}),g.jsx("div",{className:"border-t border-gray-100 my-4"}),g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("span",{className:"font-bold text-gray-800",children:"Total Amount:"}),g.jsx("span",{className:"text-2xl font-bold text-brand-yellow drop-shadow-sm font-serif",children:mn(t.totalAmount)})]}),g.jsxs("div",{className:"flex gap-3 mb-4",children:[t.status==="pending"&&g.jsxs("button",{onClick:()=>e(t.id,"confirmed"),className:"flex-1 bg-brand-maroon text-white py-2.5 rounded-lg font-bold hover:bg-brand-burgundy transition-colors flex items-center justify-center gap-2 text-sm shadow-md",children:[g.jsx(fn,{size:16})," Confirm Order"]}),t.status==="confirmed"&&g.jsxs("button",{onClick:()=>e(t.id,"ready"),className:"flex-1 bg-green-600 text-white py-2.5 rounded-lg font-bold hover:bg-green-700 transition-colors flex items-center justify-center gap-2 text-sm shadow-md",children:[g.jsx(fn,{size:16})," Mark Ready"]}),t.status==="ready"&&g.jsxs("button",{onClick:()=>e(t.id,"completed"),className:"flex-1 bg-gray-800 text-white py-2.5 rounded-lg font-bold hover:bg-gray-900 transition-colors flex items-center justify-center gap-2 text-sm shadow-md",children:[g.jsx(fn,{size:16})," Complete"]}),g.jsxs("button",{onClick:()=>c(!0),className:"flex-1 bg-brand-cream text-brand-maroon py-2.5 rounded-lg font-bold hover:bg-brand-goldGlow transition-colors flex items-center justify-center gap-2 text-sm border border-brand-maroon/10",children:[g.jsx(eR,{size:16})," Print Receipt"]})]})]}),g.jsx(j8,{order:t,isOpen:l,onClose:()=>c(!1)})]})},G8=()=>{var zs,nr;const{orders:t,ordersLoading:e,products:n,productsLoading:i,addProduct:a,deleteProduct:l,updateOrderStatus:c,deleteOrder:d,cancelOrder:f}=Ll(),{signOut:p,user:v}=uo(),{showConfirm:b,showSuccess:_,showError:S,showWarning:k}=co(),[V,j]=M.useState("dashboard"),[z,q]=M.useState("all"),[L,$]=M.useState(!1),oe=(()=>{const he=new Date,Ae=new Date(he);return he.getHours()<4&&Ae.setDate(Ae.getDate()-1),Ae.setHours(4,0,0,0),Ae})(),D=t.filter(he=>new Date(he.createdAt)>=oe);M.useEffect(()=>{if(e)return;(async()=>{const Ae=t.filter(Xe=>new Date(Xe.createdAt)<oe);if(Ae.length>0){console.log(` Cleaning up ${Ae.length} expired orders from previous business day...`);for(const Xe of Ae)try{await d(Xe.id)}catch(Rt){console.error(`Failed to delete expired order ${Xe.id}`,Rt)}console.log(" Daily cleanup complete.")}})()},[t,e]);const[E,C]=M.useState(!1),[I,N]=M.useState({name:"",price:0,category:"Main Course",description:"",isVeg:!0}),[P,O]=M.useState(null),[Ee,Me]=M.useState(null),[W,le]=M.useState(""),[ee,Ne]=M.useState("file"),[Ue,B]=M.useState(!1),[ne,ce]=M.useState(!1),ue=D.filter(he=>he.status==="pending"),we=D.filter(he=>he.status==="confirmed"),De=D.filter(he=>he.status==="ready"),xe=D.filter(he=>he.status==="completed"),bt=D.filter(he=>he.status==="cancelled"),tt=xe.reduce((he,Ae)=>he+Ae.totalAmount,0),An=async()=>{b("Are you sure you want to sign out from admin panel?",async()=>{try{await p(!0),window.location.href="/admin"}catch(he){console.error("Sign-out failed:",he),S("Sign-out failed. Please try again.")}},void 0,"Sign Out","Cancel"," Admin Sign Out")},Jn=he=>{b("Are you sure you want to cancel this order? The customer will be notified.",async()=>{try{await f(he,"admin"),_("Order cancelled successfully"," Cancelled")}catch(Ae){console.error("Error cancelling order:",Ae),S("Failed to cancel order. Please try again.")}},void 0,"Cancel Order","Go Back"," Cancel Order")},Ln=async he=>new Promise((Ae,Xe)=>{const Rt=new FileReader;Rt.onload=nn=>{var ft;const Un=new Image;Un.src=(ft=nn.target)==null?void 0:ft.result,Un.onload=()=>{const Cn=document.createElement("canvas"),ca=Cn.getContext("2d");let vs=Un.width,zn=Un.height;const ua=600;vs>ua&&(zn=zn*ua/vs,vs=ua),Cn.width=vs,Cn.height=zn,ca.drawImage(Un,0,0,vs,zn);const sr=Cn.toDataURL("image/jpeg",.7),ho=(sr.length/1024).toFixed(2);console.log(` Image compressed to ${ho}KB`),sr.length>9e5?Xe(new Error("Image still too large. Please use Image URL method instead.")):Ae(sr)},Un.onerror=()=>Xe(new Error("Failed to load image"))},Rt.onerror=()=>Xe(new Error("Failed to read file")),Rt.readAsDataURL(he)}),Ti=t.filter(he=>z==="all"?!0:he.status===z),Zn=async he=>{var Xe;const Ae=(Xe=he.target.files)==null?void 0:Xe[0];if(Ae){B(!0);try{await new Promise(nn=>setTimeout(nn,800));const Rt=await b8(Ae);O(Rt),Me(Ae)}catch(Rt){console.error(Rt),S("Failed to process image")}finally{B(!1)}}},la=async he=>{var Ae,Xe,Rt;if(he.preventDefault(),!I.name||!I.price){k("Please fill in both name and price."," Validation Error");return}if(ee==="url"&&!W){k("Please enter an image URL."," Validation Error");return}if(ee==="file"&&!Ee){k("Please select an image file."," Validation Error");return}B(!0);try{let nn="";if(ee==="url")console.log(" Using direct image URL"),nn=W;else{console.log(" Uploading to ImageKit...");try{const{uploadToImageKit:ft}=await M8(async()=>{const{uploadToImageKit:Cn}=await import("./imagekitUpload--N-3VWU6.js");return{uploadToImageKit:Cn}},[]);nn=await ft(Ee),console.log(" ImageKit upload successful:",nn)}catch(ft){if(console.error(" ImageKit upload failed:",ft),(Ae=ft.message)!=null&&Ae.includes("ImageKit configuration missing")||(Xe=ft.message)!=null&&Xe.includes("unsigned uploads"))k(`ImageKit not configured properly. Using compressed image fallback for now.

`+ft.message," ImageKit Warning"),console.log(" Falling back to compressed base64..."),nn=await Ln(Ee);else throw ft}}const Un={name:I.name,price:Number(I.price),offerPrice:I.offerPrice?Number(I.offerPrice):void 0,description:I.description||"",category:I.category,imageUrl:nn,isVeg:I.isVeg||!1,imageFocus:I.imageFocus||50};await a(Un),_("Product added successfully!"," Success"),C(!1),N({name:"",price:0,category:"Main Course",description:"",isVeg:!0,imageFocus:50}),O(null),Me(null),le("")}catch(nn){console.error(" Error adding product:",nn),(Rt=nn.message)!=null&&Rt.includes("longer than")?S(`Image too large! Please:
1. Use a smaller image, OR
2. Use "Image URL" method and paste a link from:
    Google Drive
    Imgur (https://imgur.com)
    Any image hosting service`," Image Size Error"):S(`Error: ${nn.message}`," Error")}finally{B(!1)}};return g.jsxs("div",{className:"flex min-h-screen bg-brand-offWhite font-sans",children:[g.jsxs("aside",{className:Je("bg-white border-r border-gray-200 fixed inset-y-0 left-0 z-20 flex flex-col shadow-sm transition-all duration-300",L?"w-20":"w-64"),children:[g.jsx(Oe.button,{onClick:()=>$(!L),whileHover:{scale:1.05},whileTap:{scale:.95},className:Je("absolute top-6 -right-4 z-30 w-8 h-8 rounded-full bg-gradient-to-br from-brand-maroon to-brand-burgundy text-white shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center border-4 border-brand-offWhite group","hover:from-brand-burgundy hover:to-brand-maroon"),title:L?"Expand sidebar":"Collapse sidebar",children:g.jsx(Oe.div,{animate:{rotate:L?0:180},transition:{duration:.3},className:"flex items-center justify-center",children:g.jsx(w9,{size:16,strokeWidth:3})})}),g.jsxs("div",{className:Je("p-6 flex items-center gap-3 mb-4",L&&"justify-center p-4"),children:[g.jsx("img",{src:"/542169443-ff628a00-4675-44b8-9fb4-6c3b6630590b.png",alt:"Admin Logo",className:"w-10 h-10 object-contain drop-shadow-sm rounded-full"}),!L&&g.jsxs(Oe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},children:[g.jsx("h1",{className:"text-xl font-bold text-brand-maroon font-serif leading-none",children:"Yummy-Fi"}),g.jsx("span",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-wider",children:"Admin Panel"})]})]}),g.jsxs("nav",{className:"flex-1 py-2 space-y-1",children:[g.jsx(Fg,{icon:X9,label:"Dashboard",active:V==="dashboard",onClick:()=>j("dashboard"),collapsed:L}),g.jsx(Fg,{icon:Ug,label:"Orders",active:V==="orders",onClick:()=>j("orders"),count:ue.length,collapsed:L}),g.jsx(Fg,{icon:fE,label:"Products",active:V==="products",onClick:()=>j("products"),collapsed:L})]}),g.jsxs("div",{className:"p-4 mt-auto border-t border-gray-100",children:[!L&&v&&g.jsx("div",{className:"mb-3 px-2",children:g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-maroon text-white flex items-center justify-center text-xs font-bold",children:((zs=v.displayName)==null?void 0:zs.charAt(0))||((nr=v.email)==null?void 0:nr.charAt(0))||"A"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-xs font-bold text-gray-700 truncate",children:v.displayName||"Admin"}),g.jsx("p",{className:"text-[10px] text-gray-400 truncate",children:v.email})]})]})}),g.jsxs("button",{onClick:An,className:Je("w-full flex items-center gap-3 py-4 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",L?"justify-center px-2":"px-6"),title:"Sign Out",children:[g.jsx(Uy,{size:20}),!L&&g.jsx("span",{className:"font-medium text-sm",children:"Sign Out"})]})]})]}),g.jsxs("main",{className:Je("flex-1 p-8 overflow-y-auto h-screen transition-all duration-300",L?"ml-20":"ml-64"),children:[V==="dashboard"&&g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"text-4xl font-bold text-brand-maroon font-serif mb-2",children:"Dashboard Overview"}),g.jsx("p",{className:"text-gray-500 text-lg",children:"Monitor your restaurant operations in real-time"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[g.jsx(Pd,{icon:Iu,label:"Active Orders",value:e?"":t.filter(he=>he.status!=="completed").length,trend:!0,trendValue:"+8%"}),g.jsx(Pd,{icon:so,label:"Pending Confirmations",value:e?"":ue.length}),g.jsx(Pd,{icon:fn,label:"Completed Today",value:e?"":xe.length,trend:!0,trendValue:"+12%"}),g.jsx(Pd,{icon:XC,label:"Revenue Today",value:e?"":mn(tt),trend:!0,trendValue:"+15%"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h3",{className:"text-2xl font-bold text-brand-maroon font-serif",children:"Live Orders"}),g.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-xs font-bold border border-green-200",children:"Real-time Updates"})]}),g.jsx("div",{className:"space-y-6",children:e?Array.from({length:3}).map((he,Ae)=>g.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100 animate-pulse h-40"},Ae)):t.filter(he=>he.status!=="completed").length>0?t.filter(he=>he.status!=="completed").slice(0,5).map(he=>g.jsx(q8,{order:he,onUpdateStatus:c},he.id)):g.jsxs("div",{className:"bg-white rounded-3xl p-10 text-center border border-gray-100 shadow-sm",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-300",children:g.jsx(fn,{size:32})}),g.jsx("h3",{className:"text-lg font-bold text-gray-400",children:"All caught up!"}),g.jsx("p",{className:"text-gray-400 text-sm",children:"No active orders at the moment."})]})})]}),g.jsx("div",{className:"space-y-8",children:g.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-gray-100",children:[g.jsx("h3",{className:"text-xl font-bold text-brand-maroon font-serif mb-6",children:"Quick Actions"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("button",{onClick:()=>j("orders"),className:"p-4 rounded-2xl bg-brand-offWhite hover:bg-brand-cream transition-colors text-left group",children:[g.jsx("div",{className:"mb-3 text-brand-maroon",children:g.jsx(Ug,{size:24})}),g.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 group-hover:text-brand-maroon",children:"Manage Orders"}),g.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"View and process all orders"})]}),g.jsxs("button",{onClick:()=>j("products"),className:"p-4 rounded-2xl bg-brand-offWhite hover:bg-brand-cream transition-colors text-left group",children:[g.jsx("div",{className:"mb-3 text-brand-maroon",children:g.jsx(fE,{size:24})}),g.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 group-hover:text-brand-maroon",children:"Product Management"}),g.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Update menu items and pricing"})]})]}),g.jsx("button",{onClick:()=>ce(!0),className:"w-full mt-4 p-4 rounded-2xl bg-brand-offWhite hover:bg-brand-cream transition-colors flex items-center justify-between group",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"text-green-600",children:g.jsx(WC,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("h4",{className:"font-bold text-gray-900 text-sm group-hover:text-green-700",children:"Export Data"}),g.jsx("p",{className:"text-xs text-gray-500",children:"Sync to Google Sheets"})]})]})})]})})]})]}),V==="orders"&&g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"text-4xl font-bold text-brand-maroon font-serif mb-2",children:"Order Management"}),g.jsx("p",{className:"text-gray-500 text-lg",children:"Process incoming orders, assign tables, and track preparation status"})]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3 font-serif",children:"Filter by Status"}),g.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[g.jsx(tl,{label:"All Orders",count:t.length,active:z==="all",onClick:()=>q("all"),icon:J9}),g.jsx(tl,{label:"Pending",count:ue.length,active:z==="pending",onClick:()=>q("pending"),icon:so}),g.jsx(tl,{label:"Confirmed",count:we.length,active:z==="confirmed",onClick:()=>q("confirmed"),icon:fn}),g.jsx(tl,{label:"Ready",count:De.length,active:z==="ready",onClick:()=>q("ready"),icon:fn}),g.jsx(tl,{label:"Completed",count:xe.length,active:z==="completed",onClick:()=>q("completed"),icon:fn}),g.jsx(tl,{label:"Cancelled",count:bt.length,active:z==="cancelled",onClick:()=>q("cancelled"),icon:Wa})]})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("p",{className:"text-sm font-bold text-gray-700 mb-3 font-serif",children:"Time Range"}),g.jsx("div",{className:"flex gap-2",children:g.jsx("button",{className:"px-6 py-2 rounded-full bg-brand-maroon text-white text-sm font-bold shadow-md",children:"Today"})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e?Array.from({length:4}).map((he,Ae)=>g.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 h-48 animate-pulse"},Ae)):Ti.length>0?Ti.map(he=>g.jsx(H8,{order:he,onUpdateStatus:c,onCancelOrder:Jn},he.id)):g.jsxs("div",{className:"col-span-2 text-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:g.jsx(Ug,{size:32})}),g.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-1",children:"No orders found"}),g.jsx("p",{className:"text-gray-400",children:"There are no orders with this status."})]})})]}),V==="products"&&g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsx("h2",{className:"text-3xl font-bold text-brand-maroon font-serif",children:"Product Management"}),g.jsxs("button",{onClick:()=>C(!0),className:"bg-brand-maroon text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-brand-burgundy shadow-lg shadow-brand-maroon/20",children:[g.jsx(ZC,{size:20})," Add New Product"]})]}),g.jsx("div",{className:"grid grid-cols-1 gap-4",children:i?Array.from({length:4}).map((he,Ae)=>g.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 h-28 animate-pulse"},Ae)):n.map(he=>g.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4 group hover:shadow-md transition-all",children:[g.jsx("img",{src:he.imageUrl,className:"w-20 h-20 rounded-lg object-cover bg-gray-100"}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h4",{className:"font-bold text-xl text-gray-900 font-serif",children:he.name}),g.jsx("span",{className:"font-bold text-brand-maroon text-lg",children:mn(he.price)})]}),g.jsx("p",{className:"text-sm text-gray-500 mt-1",children:he.category}),g.jsxs("div",{className:"flex gap-2 mt-2",children:[he.isVeg?g.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded border border-green-200",children:"Veg"}):g.jsx("span",{className:"text-xs font-bold text-red-600 bg-red-50 px-2 py-1 rounded border border-red-200",children:"Non-Veg"}),he.offerPrice&&g.jsx("span",{className:"text-xs font-bold text-brand-maroon bg-brand-cream px-2 py-1 rounded border border-brand-maroon/20",children:"Offer Active"})]})]}),g.jsx("button",{onClick:async()=>{try{await l(he.id),_("Product deleted"," Deleted")}catch(Ae){console.error("Failed to delete product",Ae),S("Failed to delete product")}},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",children:g.jsx(tR,{size:20})})]},he.id))})]})]}),E&&g.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4 backdrop-blur-sm",children:g.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in duration-200",children:[g.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[g.jsx("h3",{className:"text-xl font-bold text-brand-maroon font-serif",children:"Add New Product"}),g.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 bg-gray-100 p-2 rounded-full",children:g.jsx(ia,{size:20})})]}),g.jsxs("form",{onSubmit:la,className:"p-6 space-y-5",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Image Upload Method"}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx("button",{type:"button",onClick:()=>Ne("file"),className:Je("py-2.5 px-4 rounded-lg font-medium transition-all border-2",ee==="file"?"bg-brand-maroon text-white border-brand-maroon":"bg-white text-gray-700 border-gray-200 hover:border-brand-maroon/30"),children:" Upload File"}),g.jsx("button",{type:"button",onClick:()=>Ne("url"),className:Je("py-2.5 px-4 rounded-lg font-medium transition-all border-2",ee==="url"?"bg-brand-maroon text-white border-brand-maroon":"bg-white text-gray-700 border-gray-200 hover:border-brand-maroon/30"),children:" Image URL"})]})]}),ee==="file"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Product Image"}),g.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-xl hover:bg-gray-50 transition-colors relative group",children:g.jsx("div",{className:"space-y-1 text-center",children:P?g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:P,alt:"Preview",className:"mx-auto h-48 object-contain rounded-lg shadow-sm"}),g.jsx("button",{type:"button",onClick:he=>{he.preventDefault(),O(null),Me(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white p-1.5 rounded-full shadow-md hover:bg-red-600",children:g.jsx(ia,{size:14})})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 flex items-center justify-center rounded-full bg-gray-100 mb-3",children:Ue?g.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-400"}):g.jsx($9,{size:24})}),g.jsx("div",{className:"flex text-sm text-gray-600 justify-center",children:g.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-bold text-brand-maroon hover:text-brand-burgundy",children:[g.jsx("span",{children:"Click to upload"}),g.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:Zn})]})}),g.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG (max 10MB)"}),g.jsx("p",{className:"text-xs text-brand-maroon",children:" Uploaded to ImageKit (No CORS issues!)"})]})})}),P&&g.jsxs("div",{className:"mt-3 bg-gray-50 p-3 rounded-xl border border-gray-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Image Vertical Focus"}),g.jsxs("span",{className:"text-[10px] font-mono bg-white px-2 py-0.5 rounded border text-gray-500",children:[I.imageFocus||50,"%"]})]}),g.jsx("input",{type:"range",min:"0",max:"100",value:I.imageFocus||50,onChange:he=>N({...I,imageFocus:Number(he.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-brand-maroon"}),g.jsx("p",{className:"text-[10px] text-gray-400 mt-1 text-center",children:"Adjust to align the food in the center (0% = Top, 100% = Bottom)"}),g.jsxs("div",{className:"mt-2 text-center",children:[g.jsx("p",{className:"text-[10px] text-gray-400 mb-1",children:"Card Preview"}),g.jsx("div",{className:"w-32 h-20 mx-auto rounded-lg overflow-hidden border border-gray-200 relative shadow-sm",children:g.jsx("img",{src:P,className:"w-full h-full object-cover",style:{objectPosition:`center ${I.imageFocus||50}%`},alt:"Focus Preview"})})]})]})]}),ee==="url"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"Image URL"}),g.jsx("input",{type:"url",value:W,onChange:he=>{le(he.target.value),he.target.value&&O(he.target.value)},placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all"}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" Paste image URL from ",g.jsx("a",{href:"https://imgur.com/upload",target:"_blank",className:"text-brand-maroon underline",children:"Imgur"}),", Google Drive, or any image host"]}),P&&ee==="url"&&g.jsx("div",{className:"mt-3",children:g.jsx("img",{src:P,alt:"Preview",className:"mx-auto h-48 object-contain rounded-lg shadow-sm border border-gray-200"})}),P&&ee==="url"&&g.jsxs("div",{className:"mt-3 bg-gray-50 p-3 rounded-xl border border-gray-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Image Vertical Focus"}),g.jsxs("span",{className:"text-[10px] font-mono bg-white px-2 py-0.5 rounded border text-gray-500",children:[I.imageFocus||50,"%"]})]}),g.jsx("input",{type:"range",min:"0",max:"100",value:I.imageFocus||50,onChange:he=>N({...I,imageFocus:Number(he.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-brand-maroon"}),g.jsx("p",{className:"text-[10px] text-gray-400 mt-1 text-center",children:"Adjust to align the food in the center (0% = Top, 100% = Bottom)"}),g.jsxs("div",{className:"mt-2 text-center",children:[g.jsx("p",{className:"text-[10px] text-gray-400 mb-1",children:"Card Preview"}),g.jsx("div",{className:"w-32 h-20 mx-auto rounded-lg overflow-hidden border border-gray-200 relative shadow-sm",children:g.jsx("img",{src:P,className:"w-full h-full object-cover",style:{objectPosition:`center ${I.imageFocus||50}%`},alt:"Focus Preview"})})]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Product Name"}),g.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all",value:I.name,onChange:he=>N({...I,name:he.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Price ()"}),g.jsx("input",{type:"number",required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all",value:I.price||"",onChange:he=>N({...I,price:Number(he.target.value)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Offer Price"}),g.jsx("input",{type:"number",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none transition-all",value:I.offerPrice||"",onChange:he=>N({...I,offerPrice:Number(he.target.value)})})]}),g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Category"}),g.jsx("select",{className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-brand-maroon/20 focus:border-brand-maroon outline-none bg-white",value:I.category,onChange:he=>N({...I,category:he.target.value}),children:k8.filter(he=>he!=="All").map(he=>g.jsx("option",{value:he,children:he},he))})]}),g.jsx("div",{className:"col-span-2 pt-2",children:g.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[g.jsx("input",{type:"checkbox",className:"w-5 h-5 text-brand-maroon rounded focus:ring-brand-maroon border-gray-300",checked:I.isVeg,onChange:he=>N({...I,isVeg:he.target.checked})}),g.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Is this item Vegetarian?"})]})})]}),g.jsx("div",{className:"pt-4",children:g.jsx("button",{type:"submit",className:"w-full bg-brand-maroon text-white font-bold py-3.5 rounded-xl hover:bg-brand-burgundy transition-all shadow-lg shadow-brand-maroon/20 active:scale-[0.98]",children:"Save Product"})})]})]})}),g.jsx(F8,{isOpen:ne,onClose:()=>ce(!1),orders:t})]})},$8=({children:t})=>{const{isAdmin:e,loading:n}=uo();return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-offWhite",children:g.jsx("p",{className:"text-brand-maroon font-semibold",children:"Checking admin access..."})}):e?g.jsx(g.Fragment,{children:t}):g.jsx(nD,{to:"/admin",replace:!0})};function K8(){return g.jsxs("div",{className:"min-h-screen bg-brand-offWhite font-sans text-gray-900",children:[g.jsx(S8,{}),g.jsx(T8,{}),g.jsxs(iD,{children:[g.jsx(nl,{path:"/",element:g.jsx(C8,{})}),g.jsx(nl,{path:"/cart",element:g.jsx(R8,{})}),g.jsx(nl,{path:"/track-order",element:g.jsx(N8,{})}),g.jsx(nl,{path:"/admin",element:g.jsx(I8,{})}),g.jsx(nl,{path:"/admin/dashboard",element:g.jsx($8,{children:g.jsx(G8,{})})})]})]})}function Y8(){return g.jsx(E3,{children:g.jsx(S3,{children:g.jsx(RD,{children:g.jsx(K8,{})})})})}aI.createRoot(document.getElementById("root")).render(g.jsx(M.StrictMode,{children:g.jsx(E8,{children:g.jsx(Y8,{})})}));
